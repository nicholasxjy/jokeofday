!function(a,b){function c(a){var b=a.length,c=kb.type(a);return kb.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(a){var b=zb[a]={};return kb.each(a.match(mb)||[],function(a,c){b[c]=!0}),b}function e(a,c,d,e){if(kb.acceptData(a)){var f,g,h=kb.expando,i=a.nodeType,j=i?kb.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||d!==b||"string"!=typeof c)return k||(k=i?a[h]=bb.pop()||kb.guid++:h),j[k]||(j[k]=i?{}:{toJSON:kb.noop}),("object"==typeof c||"function"==typeof c)&&(e?j[k]=kb.extend(j[k],c):j[k].data=kb.extend(j[k].data,c)),g=j[k],e||(g.data||(g.data={}),g=g.data),d!==b&&(g[kb.camelCase(c)]=d),"string"==typeof c?(f=g[c],null==f&&(f=g[kb.camelCase(c)])):f=g,f}}function f(a,b,c){if(kb.acceptData(a)){var d,e,f=a.nodeType,g=f?kb.cache:a,i=f?a[kb.expando]:kb.expando;if(g[i]){if(b&&(d=c?g[i]:g[i].data)){kb.isArray(b)?b=b.concat(kb.map(b,kb.camelCase)):b in d?b=[b]:(b=kb.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!h(d):!kb.isEmptyObject(d))return}(c||(delete g[i].data,h(g[i])))&&(f?kb.cleanData([a],!0):kb.support.deleteExpando||g!=g.window?delete g[i]:g[i]=null)}}}function g(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(Bb,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:Ab.test(d)?kb.parseJSON(d):d}catch(f){}kb.data(a,c,d)}else d=b}return d}function h(a){var b;for(b in a)if(("data"!==b||!kb.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function i(){return!0}function j(){return!1}function k(){try{return Y.activeElement}catch(a){}}function l(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function m(a,b,c){if(kb.isFunction(b))return kb.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return kb.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(Qb.test(b))return kb.filter(b,a,c);b=kb.filter(b,a)}return kb.grep(a,function(a){return kb.inArray(a,b)>=0!==c})}function n(a){var b=Ub.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function o(a,b){return kb.nodeName(a,"table")&&kb.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function p(a){return a.type=(null!==kb.find.attr(a,"type"))+"/"+a.type,a}function q(a){var b=ec.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function r(a,b){for(var c,d=0;null!=(c=a[d]);d++)kb._data(c,"globalEval",!b||kb._data(b[d],"globalEval"))}function s(a,b){if(1===b.nodeType&&kb.hasData(a)){var c,d,e,f=kb._data(a),g=kb._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)kb.event.add(b,c,h[c][d])}g.data&&(g.data=kb.extend({},g.data))}}function t(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!kb.support.noCloneEvent&&b[kb.expando]){e=kb._data(b);for(d in e.events)kb.removeEvent(b,d,e.handle);b.removeAttribute(kb.expando)}"script"===c&&b.text!==a.text?(p(b).text=a.text,q(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),kb.support.html5Clone&&a.innerHTML&&!kb.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&bc.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function u(a,c){var d,e,f=0,g=typeof a.getElementsByTagName!==W?a.getElementsByTagName(c||"*"):typeof a.querySelectorAll!==W?a.querySelectorAll(c||"*"):b;if(!g)for(g=[],d=a.childNodes||a;null!=(e=d[f]);f++)!c||kb.nodeName(e,c)?g.push(e):kb.merge(g,u(e,c));return c===b||c&&kb.nodeName(a,c)?kb.merge([a],g):g}function v(a){bc.test(a.type)&&(a.defaultChecked=a.checked)}function w(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=yc.length;e--;)if(b=yc[e]+c,b in a)return b;return d}function x(a,b){return a=b||a,"none"===kb.css(a,"display")||!kb.contains(a.ownerDocument,a)}function y(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=kb._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&x(d)&&(f[g]=kb._data(d,"olddisplay",C(d.nodeName)))):f[g]||(e=x(d),(c&&"none"!==c||!e)&&kb._data(d,"olddisplay",e?c:kb.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function z(a,b,c){var d=rc.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function A(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=kb.css(a,c+xc[f],!0,e)),d?("content"===c&&(g-=kb.css(a,"padding"+xc[f],!0,e)),"margin"!==c&&(g-=kb.css(a,"border"+xc[f]+"Width",!0,e))):(g+=kb.css(a,"padding"+xc[f],!0,e),"padding"!==c&&(g+=kb.css(a,"border"+xc[f]+"Width",!0,e)));return g}function B(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=kc(a),g=kb.support.boxSizing&&"border-box"===kb.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=lc(a,b,f),(0>e||null==e)&&(e=a.style[b]),sc.test(e))return e;d=g&&(kb.support.boxSizingReliable||e===a.style[b]),e=parseFloat(e)||0}return e+A(a,b,c||(g?"border":"content"),d,f)+"px"}function C(a){var b=Y,c=uc[a];return c||(c=D(a,b),"none"!==c&&c||(jc=(jc||kb("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(jc[0].contentWindow||jc[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=D(a,b),jc.detach()),uc[a]=c),c}function D(a,b){var c=kb(b.createElement(a)).appendTo(b.body),d=kb.css(c[0],"display");return c.remove(),d}function E(a,b,c,d){var e;if(kb.isArray(b))kb.each(b,function(b,e){c||Ac.test(a)?d(a,e):E(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==kb.type(b))d(a,b);else for(e in b)E(a+"["+e+"]",b[e],c,d)}function F(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(mb)||[];if(kb.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function G(a,b,c,d){function e(h){var i;return f[h]=!0,kb.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Rc;return e(b.dataTypes[0])||!f["*"]&&e("*")}function H(a,c){var d,e,f=kb.ajaxSettings.flatOptions||{};for(e in c)c[e]!==b&&((f[e]?a:d||(d={}))[e]=c[e]);return d&&kb.extend(!0,a,d),a}function I(a,c,d){for(var e,f,g,h,i=a.contents,j=a.dataTypes;"*"===j[0];)j.shift(),f===b&&(f=a.mimeType||c.getResponseHeader("Content-Type"));if(f)for(h in i)if(i[h]&&i[h].test(f)){j.unshift(h);break}if(j[0]in d)g=j[0];else{for(h in d){if(!j[0]||a.converters[h+" "+j[0]]){g=h;break}e||(e=h)}g=g||e}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function J(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function K(){try{return new a.XMLHttpRequest}catch(b){}}function L(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function M(){return setTimeout(function(){$c=b}),$c=kb.now()}function N(a,b,c){for(var d,e=(ed[b]||[]).concat(ed["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function O(a,b,c){var d,e,f=0,g=dd.length,h=kb.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$c||M(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:kb.extend({},b),opts:kb.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$c||M(),duration:c.duration,tweens:[],createTween:function(b,c){var d=kb.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(P(k,j.opts.specialEasing);g>f;f++)if(d=dd[f].call(j,a,k,j.opts))return d;return kb.map(k,N,j),kb.isFunction(j.opts.start)&&j.opts.start.call(a,j),kb.fx.timer(kb.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function P(a,b){var c,d,e,f,g;for(c in a)if(d=kb.camelCase(c),e=b[d],f=a[c],kb.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=kb.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Q(a,b,c){var d,e,f,g,h,i,j=this,k={},l=a.style,m=a.nodeType&&x(a),n=kb._data(a,"fxshow");c.queue||(h=kb._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,j.always(function(){j.always(function(){h.unqueued--,kb.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[l.overflow,l.overflowX,l.overflowY],"inline"===kb.css(a,"display")&&"none"===kb.css(a,"float")&&(kb.support.inlineBlockNeedsLayout&&"inline"!==C(a.nodeName)?l.zoom=1:l.display="inline-block")),c.overflow&&(l.overflow="hidden",kb.support.shrinkWrapBlocks||j.always(function(){l.overflow=c.overflow[0],l.overflowX=c.overflow[1],l.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ad.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(m?"hide":"show"))continue;k[d]=n&&n[d]||kb.style(a,d)}if(!kb.isEmptyObject(k)){n?"hidden"in n&&(m=n.hidden):n=kb._data(a,"fxshow",{}),f&&(n.hidden=!m),m?kb(a).show():j.done(function(){kb(a).hide()}),j.done(function(){var b;kb._removeData(a,"fxshow");for(b in k)kb.style(a,b,k[b])});for(d in k)g=N(m?n[d]:0,d,j),d in n||(n[d]=g.start,m&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function R(a,b,c,d,e){return new R.prototype.init(a,b,c,d,e)}function S(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=xc[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function T(a){return kb.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var U,V,W=typeof b,X=a.location,Y=a.document,Z=Y.documentElement,$=a.jQuery,_=a.$,ab={},bb=[],cb="1.10.1",db=bb.concat,eb=bb.push,fb=bb.slice,gb=bb.indexOf,hb=ab.toString,ib=ab.hasOwnProperty,jb=cb.trim,kb=function(a,b){return new kb.fn.init(a,b,V)},lb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,mb=/\S+/g,nb=/^[\s﻿ ]+|[\s﻿ ]+$/g,ob=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,pb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,qb=/^[\],:{}\s]*$/,rb=/(?:^|:|,)(?:\s*\[)+/g,sb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,tb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,ub=/^-ms-/,vb=/-([\da-z])/gi,wb=function(a,b){return b.toUpperCase()},xb=function(a){(Y.addEventListener||"load"===a.type||"complete"===Y.readyState)&&(yb(),kb.ready())},yb=function(){Y.addEventListener?(Y.removeEventListener("DOMContentLoaded",xb,!1),a.removeEventListener("load",xb,!1)):(Y.detachEvent("onreadystatechange",xb),a.detachEvent("onload",xb))};kb.fn=kb.prototype={jquery:cb,constructor:kb,init:function(a,c,d){var e,f;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:ob.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1]){if(c=c instanceof kb?c[0]:c,kb.merge(this,kb.parseHTML(e[1],c&&c.nodeType?c.ownerDocument||c:Y,!0)),pb.test(e[1])&&kb.isPlainObject(c))for(e in c)kb.isFunction(this[e])?this[e](c[e]):this.attr(e,c[e]);return this}if(f=Y.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=Y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):kb.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),kb.makeArray(a,this))},selector:"",length:0,toArray:function(){return fb.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){var b=kb.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return kb.each(this,a,b)},ready:function(a){return kb.ready.promise().done(a),this},slice:function(){return this.pushStack(fb.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},map:function(a){return this.pushStack(kb.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:eb,sort:[].sort,splice:[].splice},kb.fn.init.prototype=kb.fn,kb.extend=kb.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||kb.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(kb.isPlainObject(d)||(c=kb.isArray(d)))?(c?(c=!1,g=a&&kb.isArray(a)?a:[]):g=a&&kb.isPlainObject(a)?a:{},h[e]=kb.extend(k,g,d)):d!==b&&(h[e]=d));return h},kb.extend({expando:"jQuery"+(cb+Math.random()).replace(/\D/g,""),noConflict:function(b){return a.$===kb&&(a.$=_),b&&a.jQuery===kb&&(a.jQuery=$),kb},isReady:!1,readyWait:1,holdReady:function(a){a?kb.readyWait++:kb.ready(!0)},ready:function(a){if(a===!0?!--kb.readyWait:!kb.isReady){if(!Y.body)return setTimeout(kb.ready);kb.isReady=!0,a!==!0&&--kb.readyWait>0||(U.resolveWith(Y,[kb]),kb.fn.trigger&&kb(Y).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===kb.type(a)},isArray:Array.isArray||function(a){return"array"===kb.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):"object"==typeof a||"function"==typeof a?ab[hb.call(a)]||"object":typeof a},isPlainObject:function(a){var c;if(!a||"object"!==kb.type(a)||a.nodeType||kb.isWindow(a))return!1;try{if(a.constructor&&!ib.call(a,"constructor")&&!ib.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}if(kb.support.ownLast)for(c in a)return ib.call(a,c);for(c in a);return c===b||ib.call(a,c)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Y;var d=pb.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=kb.buildFragment([a],b,e),e&&kb(e).remove(),kb.merge([],d.childNodes))},parseJSON:function(b){return a.JSON&&a.JSON.parse?a.JSON.parse(b):null===b?b:"string"==typeof b&&(b=kb.trim(b),b&&qb.test(b.replace(sb,"@").replace(tb,"]").replace(rb,"")))?new Function("return "+b)():void kb.error("Invalid JSON: "+b)},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||kb.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&kb.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ub,"ms-").replace(vb,wb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:jb&&!jb.call("﻿ ")?function(a){return null==a?"":jb.call(a)}:function(a){return null==a?"":(a+"").replace(nb,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?kb.merge(d,"string"==typeof a?[a]:a):eb.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if(gb)return gb.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&(i[i.length]=e);else for(f in a)e=b(a[f],f,d),null!=e&&(i[i.length]=e);return db.apply([],i)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(f=a[c],c=a,a=f),kb.isFunction(a)?(d=fb.call(arguments,2),e=function(){return a.apply(c||this,d.concat(fb.call(arguments)))},e.guid=a.guid=a.guid||kb.guid++,e):b},access:function(a,c,d,e,f,g,h){var i=0,j=a.length,k=null==d;if("object"===kb.type(d)){f=!0;for(i in d)kb.access(a,c,i,d[i],!0,g,h)}else if(e!==b&&(f=!0,kb.isFunction(e)||(h=!0),k&&(h?(c.call(a,e),c=null):(k=c,c=function(a,b,c){return k.call(kb(a),c)})),c))for(;j>i;i++)c(a[i],d,h?e:e.call(a[i],i,c(a[i],d)));return f?a:k?c.call(a):j?c(a[0],d):g},now:function(){return(new Date).getTime()},swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}}),kb.ready.promise=function(b){if(!U)if(U=kb.Deferred(),"complete"===Y.readyState)setTimeout(kb.ready);else if(Y.addEventListener)Y.addEventListener("DOMContentLoaded",xb,!1),a.addEventListener("load",xb,!1);else{Y.attachEvent("onreadystatechange",xb),a.attachEvent("onload",xb);var c=!1;try{c=null==a.frameElement&&Y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!kb.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}yb(),kb.ready()}}()}return U.promise(b)},kb.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){ab["[object "+b+"]"]=b.toLowerCase()}),V=kb(Y),function(a,b){function c(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;if((b?b.ownerDocument||b:S)!==K&&J(b),b=b||K,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(M&&!d){if(e=xb.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&Q(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return eb.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&B.getElementsByClassName&&b.getElementsByClassName)return eb.apply(c,b.getElementsByClassName(g)),c}if(B.qsa&&(!N||!N.test(a))){if(l=k=R,m=b,n=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=p(a),(k=b.getAttribute("id"))?l=k.replace(Ab,"\\$&"):b.setAttribute("id",l),l="[id='"+l+"'] ",i=j.length;i--;)j[i]=l+q(j[i]);m=rb.test(a)&&b.parentNode||b,n=j.join(",")}if(n)try{return eb.apply(c,m.querySelectorAll(n)),c}catch(o){}finally{k||b.removeAttribute("id")}}}return y(a.replace(ob,"$1"),b,c,d)}function d(a){return wb.test(a+"")}function e(){function a(c,d){return b.push(c+=" ")>D.cacheLength&&delete a[b.shift()],a[c]=d}var b=[];return a}function f(a){return a[R]=!0,a}function g(a){var b=K.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function h(a,b,c){a=a.split("|");for(var d,e=a.length,f=c?null:b;e--;)(d=D.attrHandle[a[e]])&&d!==b||(D.attrHandle[a[e]]=f)}function i(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:a[b]===!0?b.toLowerCase():null}function j(a,b){return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}function k(a){return"input"===a.nodeName.toLowerCase()?a.defaultValue:void 0}function l(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||_)-(~a.sourceIndex||_);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function m(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function n(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function o(a){return f(function(b){return b=+b,f(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function p(a,b){var d,e,f,g,h,i,j,k=W[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=D.preFilter;h;){(!d||(e=pb.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=qb.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ob," ")}),h=h.slice(d.length));for(g in D.filter)!(e=vb[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return b?h.length:h?c.error(a):W(a,i).slice(0)}function q(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function r(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=U++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=T+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[R]||(b[R]={}),(i=j[d])&&i[0]===k){if((h=i[1])===!0||h===C)return h===!0}else if(i=j[d]=[k],i[1]=a(b,c,g)||C,i[1]===!0)return!0}}function s(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function t(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function u(a,b,c,d,e,g){return d&&!d[R]&&(d=u(d)),e&&!e[R]&&(e=u(e,g)),f(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||x(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:t(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=t(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?gb.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=t(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):eb.apply(g,r)})}function v(a){for(var b,c,d,e=a.length,f=D.relative[a[0].type],g=f||D.relative[" "],h=f?1:0,i=r(function(a){return a===b},g,!0),j=r(function(a){return gb.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==H)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=D.relative[a[h].type])k=[r(s(k),c)];else{if(c=D.filter[a[h].type].apply(null,a[h].matches),c[R]){for(d=++h;e>d&&!D.relative[a[d].type];d++);return u(h>1&&s(k),h>1&&q(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ob,"$1"),c,d>h&&v(a.slice(h,d)),e>d&&v(a=a.slice(d)),e>d&&q(a))}k.push(c)}return s(k)}function w(a,b){var d=0,e=b.length>0,g=a.length>0,h=function(f,h,i,j,k){var l,m,n,o=[],p=0,q="0",r=f&&[],s=null!=k,u=H,v=f||g&&D.find.TAG("*",k&&h.parentNode||h),w=T+=null==u?1:Math.random()||.1;for(s&&(H=h!==K&&h,C=d);null!=(l=v[q]);q++){if(g&&l){for(m=0;n=a[m++];)if(n(l,h,i)){j.push(l);break}s&&(T=w,C=++d)}e&&((l=!n&&l)&&p--,f&&r.push(l))}if(p+=q,e&&q!==p){for(m=0;n=b[m++];)n(r,o,h,i);if(f){if(p>0)for(;q--;)r[q]||o[q]||(o[q]=cb.call(j));o=t(o)}eb.apply(j,o),s&&!f&&o.length>0&&p+b.length>1&&c.uniqueSort(j)}return s&&(T=w,H=u),r};return e?f(h):h}function x(a,b,d){for(var e=0,f=b.length;f>e;e++)c(a,b[e],d);return d}function y(a,b,c,d){var e,f,g,h,i,j=p(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&B.getById&&9===b.nodeType&&M&&D.relative[f[1].type]){if(b=(D.find.ID(g.matches[0].replace(Bb,Cb),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=vb.needsContext.test(a)?0:f.length;e--&&(g=f[e],!D.relative[h=g.type]);)if((i=D.find[h])&&(d=i(g.matches[0].replace(Bb,Cb),rb.test(f[0].type)&&b.parentNode||b))){if(f.splice(e,1),a=d.length&&q(f),!a)return eb.apply(c,d),c;break}}return G(a,j)(d,b,!M,c,rb.test(a)),c}function z(){}var A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R="sizzle"+-new Date,S=a.document,T=0,U=0,V=e(),W=e(),X=e(),Y=!1,Z=function(){return 0},$=typeof b,_=1<<31,ab={}.hasOwnProperty,bb=[],cb=bb.pop,db=bb.push,eb=bb.push,fb=bb.slice,gb=bb.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},hb="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ib="[\\x20\\t\\r\\n\\f]",jb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",lb=jb.replace("w","w#"),mb="\\["+ib+"*("+jb+")"+ib+"*(?:([*^$|!~]?=)"+ib+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+lb+")|)|)"+ib+"*\\]",nb=":("+jb+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+mb.replace(3,8)+")*)|.*)\\)|)",ob=new RegExp("^"+ib+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ib+"+$","g"),pb=new RegExp("^"+ib+"*,"+ib+"*"),qb=new RegExp("^"+ib+"*([>+~]|"+ib+")"+ib+"*"),rb=new RegExp(ib+"*[+~]"),sb=new RegExp("="+ib+"*([^\\]'\"]*)"+ib+"*\\]","g"),tb=new RegExp(nb),ub=new RegExp("^"+lb+"$"),vb={ID:new RegExp("^#("+jb+")"),CLASS:new RegExp("^\\.("+jb+")"),TAG:new RegExp("^("+jb.replace("w","w*")+")"),ATTR:new RegExp("^"+mb),PSEUDO:new RegExp("^"+nb),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ib+"*(even|odd|(([+-]|)(\\d*)n|)"+ib+"*(?:([+-]|)"+ib+"*(\\d+)|))"+ib+"*\\)|)","i"),bool:new RegExp("^(?:"+hb+")$","i"),needsContext:new RegExp("^"+ib+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ib+"*((?:-\\d)?\\d*)"+ib+"*\\)|)(?=[^-]|$)","i")},wb=/^[^{]+\{\s*\[native \w/,xb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yb=/^(?:input|select|textarea|button)$/i,zb=/^h\d$/i,Ab=/'|\\/g,Bb=new RegExp("\\\\([\\da-f]{1,6}"+ib+"?|("+ib+")|.)","ig"),Cb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{eb.apply(bb=fb.call(S.childNodes),S.childNodes),bb[S.childNodes.length].nodeType}catch(Db){eb={apply:bb.length?function(a,b){db.apply(a,fb.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}F=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},B=c.support={},J=c.setDocument=function(a){var b=a?a.ownerDocument||a:S,c=b.parentWindow;return b!==K&&9===b.nodeType&&b.documentElement?(K=b,L=b.documentElement,M=!F(b),c&&c.frameElement&&c.attachEvent("onbeforeunload",function(){J()}),B.attributes=g(function(a){return a.innerHTML="<a href='#'></a>",h("type|href|height|width",j,"#"===a.firstChild.getAttribute("href")),h(hb,i,null==a.getAttribute("disabled")),a.className="i",!a.getAttribute("className")}),B.input=g(function(a){return a.innerHTML="<input>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")}),h("value",k,B.attributes&&B.input),B.getElementsByTagName=g(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length}),B.getElementsByClassName=g(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),B.getById=g(function(a){return L.appendChild(a).id=R,!b.getElementsByName||!b.getElementsByName(R).length}),B.getById?(D.find.ID=function(a,b){if(typeof b.getElementById!==$&&M){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},D.filter.ID=function(a){var b=a.replace(Bb,Cb);return function(a){return a.getAttribute("id")===b}}):(delete D.find.ID,D.filter.ID=function(a){var b=a.replace(Bb,Cb);return function(a){var c=typeof a.getAttributeNode!==$&&a.getAttributeNode("id");return c&&c.value===b}}),D.find.TAG=B.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==$?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},D.find.CLASS=B.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==$&&M?b.getElementsByClassName(a):void 0},O=[],N=[],(B.qsa=d(b.querySelectorAll))&&(g(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||N.push("\\["+ib+"*(?:value|"+hb+")"),a.querySelectorAll(":checked").length||N.push(":checked")}),g(function(a){var c=b.createElement("input");c.setAttribute("type","hidden"),a.appendChild(c).setAttribute("t",""),a.querySelectorAll("[t^='']").length&&N.push("[*^$]="+ib+"*(?:''|\"\")"),a.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),N.push(",.*:")})),(B.matchesSelector=d(P=L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&g(function(a){B.disconnectedMatch=P.call(a,"div"),P.call(a,"[s!='']:x"),O.push("!=",nb)}),N=N.length&&new RegExp(N.join("|")),O=O.length&&new RegExp(O.join("|")),Q=d(L.contains)||L.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},B.sortDetached=g(function(a){return 1&a.compareDocumentPosition(b.createElement("div"))}),Z=L.compareDocumentPosition?function(a,c){if(a===c)return Y=!0,0;var d=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c);return d?1&d||!B.sortDetached&&c.compareDocumentPosition(a)===d?a===b||Q(S,a)?-1:c===b||Q(S,c)?1:I?gb.call(I,a)-gb.call(I,c):0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,c){var d,e=0,f=a.parentNode,g=c.parentNode,h=[a],i=[c];if(a===c)return Y=!0,0;if(!f||!g)return a===b?-1:c===b?1:f?-1:g?1:I?gb.call(I,a)-gb.call(I,c):0;if(f===g)return l(a,c);for(d=a;d=d.parentNode;)h.unshift(d);for(d=c;d=d.parentNode;)i.unshift(d);for(;h[e]===i[e];)e++;return e?l(h[e],i[e]):h[e]===S?-1:i[e]===S?1:0},b):K},c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){if((a.ownerDocument||a)!==K&&J(a),b=b.replace(sb,"='$1']"),!(!B.matchesSelector||!M||O&&O.test(b)||N&&N.test(b)))try{var d=P.call(a,b);if(d||B.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return c(b,K,null,[a]).length>0},c.contains=function(a,b){return(a.ownerDocument||a)!==K&&J(a),Q(a,b)},c.attr=function(a,c){(a.ownerDocument||a)!==K&&J(a);var d=D.attrHandle[c.toLowerCase()],e=d&&ab.call(D.attrHandle,c.toLowerCase())?d(a,c,!M):b;return e===b?B.attributes||!M?a.getAttribute(c):(e=a.getAttributeNode(c))&&e.specified?e.value:null:e},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},c.uniqueSort=function(a){var b,c=[],d=0,e=0;if(Y=!B.detectDuplicates,I=!B.sortStable&&a.slice(0),a.sort(Z),Y){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a},E=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=E(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=E(b);return c},D=c.selectors={cacheLength:50,createPseudo:f,match:vb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(Bb,Cb),a[3]=(a[4]||a[5]||"").replace(Bb,Cb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]),a},PSEUDO:function(a){var c,d=!a[5]&&a[2];return vb.CHILD.test(a[0])?null:(a[3]&&a[4]!==b?a[2]=a[4]:d&&tb.test(d)&&(c=p(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(a[0]=a[0].slice(0,c),a[2]=d.slice(0,c)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(Bb,Cb).toLowerCase();return"*"===a?function(){return!0
}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=V[a+" "];return b||(b=new RegExp("(^|"+ib+")"+a+"("+ib+"|$)"))&&V(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==$&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:b?(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.slice(-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[R]||(q[R]={}),j=k[a]||[],n=j[0]===T&&j[1],m=j[0]===T&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[T,n,m];break}}else if(s&&(j=(b[R]||(b[R]={}))[a])&&j[0]===T)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[R]||(l[R]={}))[a]=[T,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var d,e=D.pseudos[a]||D.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return e[R]?e(b):e.length>1?(d=[a,a,"",b],D.setFilters.hasOwnProperty(a.toLowerCase())?f(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=gb.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,d)}):e}},pseudos:{not:f(function(a){var b=[],c=[],d=G(a.replace(ob,"$1"));return d[R]?f(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:f(function(a){return function(b){return c(a,b).length>0}}),contains:f(function(a){return function(b){return(b.textContent||b.innerText||E(b)).indexOf(a)>-1}}),lang:f(function(a){return ub.test(a||"")||c.error("unsupported lang: "+a),a=a.replace(Bb,Cb).toLowerCase(),function(b){var c;do if(c=M?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===L},focus:function(a){return a===K.activeElement&&(!K.hasFocus||K.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!D.pseudos.empty(a)},header:function(a){return zb.test(a.nodeName)},input:function(a){return yb.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:o(function(){return[0]}),last:o(function(a,b){return[b-1]}),eq:o(function(a,b,c){return[0>c?c+b:c]}),even:o(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:o(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:o(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:o(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}};for(A in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})D.pseudos[A]=m(A);for(A in{submit:!0,reset:!0})D.pseudos[A]=n(A);G=c.compile=function(a,b){var c,d=[],e=[],f=X[a+" "];if(!f){for(b||(b=p(a)),c=b.length;c--;)f=v(b[c]),f[R]?d.push(f):e.push(f);f=X(a,w(e,d))}return f},D.pseudos.nth=D.pseudos.eq,z.prototype=D.filters=D.pseudos,D.setFilters=new z,B.sortStable=R.split("").sort(Z).join("")===R,J(),[0,0].sort(Z),B.detectDuplicates=Y,kb.find=c,kb.expr=c.selectors,kb.expr[":"]=kb.expr.pseudos,kb.unique=c.uniqueSort,kb.text=c.getText,kb.isXMLDoc=c.isXML,kb.contains=c.contains}(a);var zb={};kb.Callbacks=function(a){a="string"==typeof a?zb[a]||d(a):kb.extend({},a);var c,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(e=a.memory&&b,f=!0,h=i||0,i=0,g=j.length,c=!0;j&&g>h;h++)if(j[h].apply(b[0],b[1])===!1&&a.stopOnFalse){e=!1;break}c=!1,j&&(k?k.length&&l(k.shift()):e?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function d(b){kb.each(b,function(b,c){var e=kb.type(c);"function"===e?a.unique&&m.has(c)||j.push(c):c&&c.length&&"string"!==e&&d(c)})}(arguments),c?g=j.length:e&&(i=b,l(e))}return this},remove:function(){return j&&kb.each(arguments,function(a,b){for(var d;(d=kb.inArray(b,j,d))>-1;)j.splice(d,1),c&&(g>=d&&g--,h>=d&&h--)}),this},has:function(a){return a?kb.inArray(a,j)>-1:!(!j||!j.length)},empty:function(){return j=[],g=0,this},disable:function(){return j=k=e=b,this},disabled:function(){return!j},lock:function(){return k=b,e||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],!j||f&&!k||(c?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!f}};return m},kb.extend({Deferred:function(a){var b=[["resolve","done",kb.Callbacks("once memory"),"resolved"],["reject","fail",kb.Callbacks("once memory"),"rejected"],["notify","progress",kb.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return kb.Deferred(function(c){kb.each(b,function(b,f){var g=f[0],h=kb.isFunction(a[b])&&a[b];e[f[1]](function(){var a=h&&h.apply(this,arguments);a&&kb.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?kb.extend(a,d):d}},e={};return d.pipe=d.then,kb.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=fb.call(arguments),g=f.length,h=1!==g||a&&kb.isFunction(a.promise)?g:0,i=1===h?a:kb.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?fb.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&kb.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),kb.support=function(b){var c,d,e,f,g,h,i,j,k,l=Y.createElement("div");if(l.setAttribute("className","t"),l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=l.getElementsByTagName("*")||[],d=l.getElementsByTagName("a")[0],!d||!d.style||!c.length)return b;f=Y.createElement("select"),h=f.appendChild(Y.createElement("option")),e=l.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b.getSetAttribute="t"!==l.className,b.leadingWhitespace=3===l.firstChild.nodeType,b.tbody=!l.getElementsByTagName("tbody").length,b.htmlSerialize=!!l.getElementsByTagName("link").length,b.style=/top/.test(d.getAttribute("style")),b.hrefNormalized="/a"===d.getAttribute("href"),b.opacity=/^0.5/.test(d.style.opacity),b.cssFloat=!!d.style.cssFloat,b.checkOn=!!e.value,b.optSelected=h.selected,b.enctype=!!Y.createElement("form").enctype,b.html5Clone="<:nav></:nav>"!==Y.createElement("nav").cloneNode(!0).outerHTML,b.inlineBlockNeedsLayout=!1,b.shrinkWrapBlocks=!1,b.pixelPosition=!1,b.deleteExpando=!0,b.noCloneEvent=!0,b.reliableMarginRight=!0,b.boxSizingReliable=!0,e.checked=!0,b.noCloneChecked=e.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!h.disabled;try{delete l.test}catch(m){b.deleteExpando=!1}e=Y.createElement("input"),e.setAttribute("value",""),b.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),b.radioValue="t"===e.value,e.setAttribute("checked","t"),e.setAttribute("name","t"),g=Y.createDocumentFragment(),g.appendChild(e),b.appendChecked=e.checked,b.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,l.attachEvent&&(l.attachEvent("onclick",function(){b.noCloneEvent=!1}),l.cloneNode(!0).click());for(k in{submit:!0,change:!0,focusin:!0})l.setAttribute(i="on"+k,"t"),b[k+"Bubbles"]=i in a||l.attributes[i].expando===!1;l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===l.style.backgroundClip;for(k in kb(b))break;return b.ownLast="0"!==k,kb(function(){var c,d,e,f="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",g=Y.getElementsByTagName("body")[0];g&&(c=Y.createElement("div"),c.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(c).appendChild(l),l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=l.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",j=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=j&&0===e[0].offsetHeight,l.innerHTML="",l.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",kb.swap(g,null!=g.style.zoom?{zoom:1}:{},function(){b.boxSizing=4===l.offsetWidth}),a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(l,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(l,null)||{width:"4px"}).width,d=l.appendChild(Y.createElement("div")),d.style.cssText=l.style.cssText=f,d.style.marginRight=d.style.width="0",l.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),typeof l.style.zoom!==W&&(l.innerHTML="",l.style.cssText=f+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===l.offsetWidth,l.style.display="block",l.innerHTML="<div></div>",l.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==l.offsetWidth,b.inlineBlockNeedsLayout&&(g.style.zoom=1)),g.removeChild(c),c=l=e=d=null)}),c=f=g=h=d=e=null,b}({});var Ab=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Bb=/([A-Z])/g;kb.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?kb.cache[a[kb.expando]]:a[kb.expando],!!a&&!h(a)},data:function(a,b,c){return e(a,b,c)},removeData:function(a,b){return f(a,b)},_data:function(a,b,c){return e(a,b,c,!0)},_removeData:function(a,b){return f(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&kb.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),kb.fn.extend({data:function(a,c){var d,e,f=null,h=0,i=this[0];if(a===b){if(this.length&&(f=kb.data(i),1===i.nodeType&&!kb._data(i,"parsedAttrs"))){for(d=i.attributes;h<d.length;h++)e=d[h].name,0===e.indexOf("data-")&&(e=kb.camelCase(e.slice(5)),g(i,e,f[e]));kb._data(i,"parsedAttrs",!0)}return f}return"object"==typeof a?this.each(function(){kb.data(this,a)}):arguments.length>1?this.each(function(){kb.data(this,a,c)}):i?g(i,a,kb.data(i,a)):null},removeData:function(a){return this.each(function(){kb.removeData(this,a)})}}),kb.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=kb._data(a,b),c&&(!d||kb.isArray(c)?d=kb._data(a,b,kb.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=kb.queue(a,b),d=c.length,e=c.shift(),f=kb._queueHooks(a,b),g=function(){kb.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return kb._data(a,c)||kb._data(a,c,{empty:kb.Callbacks("once memory").add(function(){kb._removeData(a,b+"queue"),kb._removeData(a,c)})})}}),kb.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?kb.queue(this[0],a):c===b?this:this.each(function(){var b=kb.queue(this,a,c);kb._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&kb.dequeue(this,a)})},dequeue:function(a){return this.each(function(){kb.dequeue(this,a)})},delay:function(a,b){return a=kb.fx?kb.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=kb.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=kb._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var Cb,Db,Eb=/[\t\r\n\f]/g,Fb=/\r/g,Gb=/^(?:input|select|textarea|button|object)$/i,Hb=/^(?:a|area)$/i,Ib=/^(?:checked|selected)$/i,Jb=kb.support.getSetAttribute,Kb=kb.support.input;kb.fn.extend({attr:function(a,b){return kb.access(this,kb.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){kb.removeAttr(this,a)})},prop:function(a,b){return kb.access(this,kb.prop,a,b,arguments.length>1)},removeProp:function(a){return a=kb.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g=0,h=this.length,i="string"==typeof a&&a;if(kb.isFunction(a))return this.each(function(b){kb(this).addClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(mb)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Eb," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");c.className=kb.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,h=this.length,i=0===arguments.length||"string"==typeof a&&a;if(kb.isFunction(a))return this.each(function(b){kb(this).removeClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(mb)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Eb," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");c.className=a?kb.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return this.each(kb.isFunction(a)?function(c){kb(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var e,f=0,g=kb(this),h=b,i=a.match(mb)||[];e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else(c===W||"boolean"===c)&&(this.className&&kb._data(this,"__className__",this.className),this.className=this.className||a===!1?"":kb._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Eb," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=kb.isFunction(a),this.each(function(c){var f;1===this.nodeType&&(f=e?a.call(this,c,kb(this).val()):a,null==f?f="":"number"==typeof f?f+="":kb.isArray(f)&&(f=kb.map(f,function(a){return null==a?"":a+""})),d=kb.valHooks[this.type]||kb.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&d.set(this,f,"value")!==b||(this.value=f))});if(f)return d=kb.valHooks[f.type]||kb.valHooks[f.nodeName.toLowerCase()],d&&"get"in d&&(c=d.get(f,"value"))!==b?c:(c=f.value,"string"==typeof c?c.replace(Fb,""):null==c?"":c)}}}),kb.extend({valHooks:{option:{get:function(a){var b=kb.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(kb.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&kb.nodeName(c.parentNode,"optgroup"))){if(b=kb(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=kb.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=kb.inArray(kb(d).val(),f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}},attr:function(a,c,d){var e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return typeof a.getAttribute===W?kb.prop(a,c,d):(1===g&&kb.isXMLDoc(a)||(c=c.toLowerCase(),e=kb.attrHooks[c]||(kb.expr.match.bool.test(c)?Db:Cb)),d===b?e&&"get"in e&&null!==(f=e.get(a,c))?f:(f=kb.find.attr(a,c),null==f?b:f):null!==d?e&&"set"in e&&(f=e.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):void kb.removeAttr(a,c))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(mb);if(f&&1===a.nodeType)for(;c=f[e++];)d=kb.propFix[c]||c,kb.expr.match.bool.test(c)?Kb&&Jb||!Ib.test(c)?a[d]=!1:a[kb.camelCase("default-"+c)]=a[d]=!1:kb.attr(a,c,""),a.removeAttribute(Jb?c:d)},attrHooks:{type:{set:function(a,b){if(!kb.support.radioValue&&"radio"===b&&kb.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!kb.isXMLDoc(a),g&&(c=kb.propFix[c]||c,f=kb.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var b=kb.find.attr(a,"tabindex");return b?parseInt(b,10):Gb.test(a.nodeName)||Hb.test(a.nodeName)&&a.href?0:-1}}}}),Db={set:function(a,b,c){return b===!1?kb.removeAttr(a,c):Kb&&Jb||!Ib.test(c)?a.setAttribute(!Jb&&kb.propFix[c]||c,c):a[kb.camelCase("default-"+c)]=a[c]=!0,c}},kb.each(kb.expr.match.bool.source.match(/\w+/g),function(a,c){var d=kb.expr.attrHandle[c]||kb.find.attr;kb.expr.attrHandle[c]=Kb&&Jb||!Ib.test(c)?function(a,c,e){var f=kb.expr.attrHandle[c],g=e?b:(kb.expr.attrHandle[c]=b)!=d(a,c,e)?c.toLowerCase():null;return kb.expr.attrHandle[c]=f,g}:function(a,c,d){return d?b:a[kb.camelCase("default-"+c)]?c.toLowerCase():null}}),Kb&&Jb||(kb.attrHooks.value={set:function(a,b,c){return kb.nodeName(a,"input")?void(a.defaultValue=b):Cb&&Cb.set(a,b,c)}}),Jb||(Cb={set:function(a,c,d){var e=a.getAttributeNode(d);return e||a.setAttributeNode(e=a.ownerDocument.createAttribute(d)),e.value=c+="","value"===d||c===a.getAttribute(d)?c:b}},kb.expr.attrHandle.id=kb.expr.attrHandle.name=kb.expr.attrHandle.coords=function(a,c,d){var e;return d?b:(e=a.getAttributeNode(c))&&""!==e.value?e.value:null},kb.valHooks.button={get:function(a,c){var d=a.getAttributeNode(c);return d&&d.specified?d.value:b},set:Cb.set},kb.attrHooks.contenteditable={set:function(a,b,c){Cb.set(a,""===b?!1:b,c)}},kb.each(["width","height"],function(a,b){kb.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),kb.support.hrefNormalized||kb.each(["href","src"],function(a,b){kb.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),kb.support.style||(kb.attrHooks.style={get:function(a){return a.style.cssText||b},set:function(a,b){return a.style.cssText=b+""}}),kb.support.optSelected||(kb.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),kb.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){kb.propFix[this.toLowerCase()]=this}),kb.support.enctype||(kb.propFix.enctype="encoding"),kb.each(["radio","checkbox"],function(){kb.valHooks[this]={set:function(a,b){return kb.isArray(b)?a.checked=kb.inArray(kb(a).val(),b)>=0:void 0}},kb.support.checkOn||(kb.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Lb=/^(?:input|select|textarea)$/i,Mb=/^key/,Nb=/^(?:mouse|contextmenu)|click/,Ob=/^(?:focusinfocus|focusoutblur)$/,Pb=/^([^.]*)(?:\.(.+)|)$/;kb.event={global:{},add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=kb._data(a);if(r){for(d.handler&&(j=d,d=j.handler,f=j.selector),d.guid||(d.guid=kb.guid++),(h=r.events)||(h=r.events={}),(l=r.handle)||(l=r.handle=function(a){return typeof kb===W||a&&kb.event.triggered===a.type?b:kb.event.dispatch.apply(l.elem,arguments)},l.elem=a),c=(c||"").match(mb)||[""],i=c.length;i--;)g=Pb.exec(c[i])||[],o=q=g[1],p=(g[2]||"").split(".").sort(),o&&(k=kb.event.special[o]||{},o=(f?k.delegateType:k.bindType)||o,k=kb.event.special[o]||{},m=kb.extend({type:o,origType:q,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&kb.expr.match.needsContext.test(f),namespace:p.join(".")},j),(n=h[o])||(n=h[o]=[],n.delegateCount=0,k.setup&&k.setup.call(a,e,p,l)!==!1||(a.addEventListener?a.addEventListener(o,l,!1):a.attachEvent&&a.attachEvent("on"+o,l))),k.add&&(k.add.call(a,m),m.handler.guid||(m.handler.guid=d.guid)),f?n.splice(n.delegateCount++,0,m):n.push(m),kb.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=kb.hasData(a)&&kb._data(a);if(q&&(k=q.events)){for(b=(b||"").match(mb)||[""],j=b.length;j--;)if(h=Pb.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=kb.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||kb.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)kb.event.remove(a,n+b[j],c,d,!0);kb.isEmptyObject(k)&&(delete q.handle,kb._removeData(a,"events"))}},trigger:function(c,d,e,f){var g,h,i,j,k,l,m,n=[e||Y],o=ib.call(c,"type")?c.type:c,p=ib.call(c,"namespace")?c.namespace.split("."):[];if(i=l=e=e||Y,3!==e.nodeType&&8!==e.nodeType&&!Ob.test(o+kb.event.triggered)&&(o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),h=o.indexOf(":")<0&&"on"+o,c=c[kb.expando]?c:new kb.Event(o,"object"==typeof c&&c),c.isTrigger=f?2:3,c.namespace=p.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=e),d=null==d?[c]:kb.makeArray(d,[c]),k=kb.event.special[o]||{},f||!k.trigger||k.trigger.apply(e,d)!==!1)){if(!f&&!k.noBubble&&!kb.isWindow(e)){for(j=k.delegateType||o,Ob.test(j+o)||(i=i.parentNode);i;i=i.parentNode)n.push(i),l=i;l===(e.ownerDocument||Y)&&n.push(l.defaultView||l.parentWindow||a)}for(m=0;(i=n[m++])&&!c.isPropagationStopped();)c.type=m>1?j:k.bindType||o,g=(kb._data(i,"events")||{})[c.type]&&kb._data(i,"handle"),g&&g.apply(i,d),g=h&&i[h],g&&kb.acceptData(i)&&g.apply&&g.apply(i,d)===!1&&c.preventDefault();if(c.type=o,!f&&!c.isDefaultPrevented()&&(!k._default||k._default.apply(n.pop(),d)===!1)&&kb.acceptData(e)&&h&&e[o]&&!kb.isWindow(e)){l=e[h],l&&(e[h]=null),kb.event.triggered=o;try{e[o]()}catch(q){}kb.event.triggered=b,l&&(e[h]=l)}return c.result}},dispatch:function(a){a=kb.event.fix(a);var c,d,e,f,g,h=[],i=fb.call(arguments),j=(kb._data(this,"events")||{})[a.type]||[],k=kb.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=kb.event.handlers.call(this,a,j),c=0;(f=h[c++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,d=((kb.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),d!==b&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,c){var d,e,f,g,h=[],i=c.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||"click"!==a.type))for(;j!=this;j=j.parentNode||this)if(1===j.nodeType&&(j.disabled!==!0||"click"!==a.type)){for(f=[],g=0;i>g;g++)e=c[g],d=e.selector+" ",f[d]===b&&(f[d]=e.needsContext?kb(d,this).index(j)>=0:kb.find(d,this,null,[j]).length),f[d]&&f.push(e);f.length&&h.push({elem:j,handlers:f})}return i<c.length&&h.push({elem:this,handlers:c.slice(i)}),h},fix:function(a){if(a[kb.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Nb.test(e)?this.mouseHooks:Mb.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new kb.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||Y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(e=a.target.ownerDocument||Y,f=e.documentElement,d=e.body,a.pageX=c.clientX+(f&&f.scrollLeft||d&&d.scrollLeft||0)-(f&&f.clientLeft||d&&d.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||d&&d.scrollTop||0)-(f&&f.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==k()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===k()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return kb.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return kb.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=kb.extend(new kb.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?kb.event.trigger(e,null,b):kb.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},kb.removeEvent=Y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===W&&(a[d]=null),a.detachEvent(d,c))},kb.Event=function(a,b){return this instanceof kb.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?i:j):this.type=a,b&&kb.extend(this,b),this.timeStamp=a&&a.timeStamp||kb.now(),void(this[kb.expando]=!0)):new kb.Event(a,b)},kb.Event.prototype={isDefaultPrevented:j,isPropagationStopped:j,isImmediatePropagationStopped:j,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=i,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=i,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()}},kb.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){kb.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!kb.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),kb.support.submitBubbles||(kb.event.special.submit={setup:function(){return kb.nodeName(this,"form")?!1:void kb.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=kb.nodeName(c,"input")||kb.nodeName(c,"button")?c.form:b;d&&!kb._data(d,"submitBubbles")&&(kb.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),kb._data(d,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&kb.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return kb.nodeName(this,"form")?!1:void kb.event.remove(this,"._submit")}}),kb.support.changeBubbles||(kb.event.special.change={setup:function(){return Lb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(kb.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),kb.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),kb.event.simulate("change",this,a,!0)})),!1):void kb.event.add(this,"beforeactivate._change",function(a){var b=a.target;Lb.test(b.nodeName)&&!kb._data(b,"changeBubbles")&&(kb.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||kb.event.simulate("change",this.parentNode,a,!0)}),kb._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return kb.event.remove(this,"._change"),!Lb.test(this.nodeName)}}),kb.support.focusinBubbles||kb.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){kb.event.simulate(b,a.target,kb.event.fix(a),!0)};kb.event.special[b]={setup:function(){0===c++&&Y.addEventListener(a,d,!0)},teardown:function(){0===--c&&Y.removeEventListener(a,d,!0)}}}),kb.fn.extend({on:function(a,c,d,e,f){var g,h;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(g in a)this.on(g,c,d,a[g],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=j;else if(!e)return this;return 1===f&&(h=e,e=function(a){return kb().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=kb.guid++)),this.each(function(){kb.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,kb(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,c,a[f]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=j),this.each(function(){kb.event.remove(this,a,d,c)})},trigger:function(a,b){return this.each(function(){kb.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?kb.event.trigger(a,b,c,!0):void 0}});var Qb=/^.[^:#\[\.,]*$/,Rb=/^(?:parents|prev(?:Until|All))/,Sb=kb.expr.match.needsContext,Tb={children:!0,contents:!0,next:!0,prev:!0};kb.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(kb(a).filter(function(){for(b=0;e>b;b++)if(kb.contains(d[b],this))return!0}));for(b=0;e>b;b++)kb.find(a,d[b],c);return c=this.pushStack(e>1?kb.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},has:function(a){var b,c=kb(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(kb.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(m(this,a||[],!0))},filter:function(a){return this.pushStack(m(this,a||[],!1))},is:function(a){return!!m(this,"string"==typeof a&&Sb.test(a)?kb(a):a||[],!1).length},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Sb.test(a)||"string"!=typeof a?kb(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&kb.find.matchesSelector(c,a))){c=f.push(c);break}return this.pushStack(f.length>1?kb.unique(f):f)},index:function(a){return a?"string"==typeof a?kb.inArray(this[0],kb(a)):kb.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?kb(a,b):kb.makeArray(a&&a.nodeType?[a]:a),d=kb.merge(this.get(),c);return this.pushStack(kb.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),kb.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return kb.dir(a,"parentNode")
},parentsUntil:function(a,b,c){return kb.dir(a,"parentNode",c)},next:function(a){return l(a,"nextSibling")},prev:function(a){return l(a,"previousSibling")},nextAll:function(a){return kb.dir(a,"nextSibling")},prevAll:function(a){return kb.dir(a,"previousSibling")},nextUntil:function(a,b,c){return kb.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return kb.dir(a,"previousSibling",c)},siblings:function(a){return kb.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return kb.sibling(a.firstChild)},contents:function(a){return kb.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:kb.merge([],a.childNodes)}},function(a,b){kb.fn[a]=function(c,d){var e=kb.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=kb.filter(d,e)),this.length>1&&(Tb[a]||(e=kb.unique(e)),Rb.test(a)&&(e=e.reverse())),this.pushStack(e)}}),kb.extend({filter:function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?kb.find.matchesSelector(d,a)?[d]:[]:kb.find.matches(a,kb.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!kb(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Ub="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Vb=/ jQuery\d+="(?:null|\d+)"/g,Wb=new RegExp("<(?:"+Ub+")[\\s/>]","i"),Xb=/^\s+/,Yb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Zb=/<([\w:]+)/,$b=/<tbody/i,_b=/<|&#?\w+;/,ac=/<(?:script|style|link)/i,bc=/^(?:checkbox|radio)$/i,cc=/checked\s*(?:[^=]|=\s*.checked.)/i,dc=/^$|\/(?:java|ecma)script/i,ec=/^true\/(.*)/,fc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,gc={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:kb.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},hc=n(Y),ic=hc.appendChild(Y.createElement("div"));gc.optgroup=gc.option,gc.tbody=gc.tfoot=gc.colgroup=gc.caption=gc.thead,gc.th=gc.td,kb.fn.extend({text:function(a){return kb.access(this,function(a){return a===b?kb.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=o(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=o(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?kb.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||kb.cleanData(u(c)),c.parentNode&&(b&&kb.contains(c.ownerDocument,c)&&r(u(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&kb.cleanData(u(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&kb.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return kb.clone(this,a,b)})},html:function(a){return kb.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Vb,""):b;if(!("string"!=typeof a||ac.test(a)||!kb.support.htmlSerialize&&Wb.test(a)||!kb.support.leadingWhitespace&&Xb.test(a)||gc[(Zb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Yb,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(kb.cleanData(u(c,!1)),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=kb.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;return this.domManip(arguments,function(c){var d=a[b++],e=a[b++];e&&(d&&d.parentNode!==e&&(d=this.nextSibling),kb(this).remove(),e.insertBefore(c,d))},!0),b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=db.apply([],a);var d,e,f,g,h,i,j=0,k=this.length,l=this,m=k-1,n=a[0],o=kb.isFunction(n);if(o||!(1>=k||"string"!=typeof n||kb.support.checkClone)&&cc.test(n))return this.each(function(d){var e=l.eq(d);o&&(a[0]=n.call(this,d,e.html())),e.domManip(a,b,c)});if(k&&(i=kb.buildFragment(a,this[0].ownerDocument,!1,!c&&this),d=i.firstChild,1===i.childNodes.length&&(i=d),d)){for(g=kb.map(u(i,"script"),p),f=g.length;k>j;j++)e=i,j!==m&&(e=kb.clone(e,!0,!0),f&&kb.merge(g,u(e,"script"))),b.call(this[j],e,j);if(f)for(h=g[g.length-1].ownerDocument,kb.map(g,q),j=0;f>j;j++)e=g[j],dc.test(e.type||"")&&!kb._data(e,"globalEval")&&kb.contains(h,e)&&(e.src?kb._evalUrl(e.src):kb.globalEval((e.text||e.textContent||e.innerHTML||"").replace(fc,"")));i=d=null}return this}}),kb.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){kb.fn[a]=function(a){for(var c,d=0,e=[],f=kb(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),kb(f[d])[b](c),eb.apply(e,c.get());return this.pushStack(e)}}),kb.extend({clone:function(a,b,c){var d,e,f,g,h,i=kb.contains(a.ownerDocument,a);if(kb.support.html5Clone||kb.isXMLDoc(a)||!Wb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ic.innerHTML=a.outerHTML,ic.removeChild(f=ic.firstChild)),!(kb.support.noCloneEvent&&kb.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||kb.isXMLDoc(a)))for(d=u(f),h=u(a),g=0;null!=(e=h[g]);++g)d[g]&&t(e,d[g]);if(b)if(c)for(h=h||u(a),d=d||u(f),g=0;null!=(e=h[g]);g++)s(e,d[g]);else s(a,f);return d=u(f,"script"),d.length>0&&r(d,!i&&u(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=n(b),o=[],p=0;l>p;p++)if(f=a[p],f||0===f)if("object"===kb.type(f))kb.merge(o,f.nodeType?[f]:f);else if(_b.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(Zb.exec(f)||["",""])[1].toLowerCase(),k=gc[i]||gc._default,h.innerHTML=k[1]+f.replace(Yb,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!kb.support.leadingWhitespace&&Xb.test(f)&&o.push(b.createTextNode(Xb.exec(f)[0])),!kb.support.tbody)for(f="table"!==i||$b.test(f)?"<table>"!==k[1]||$b.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)kb.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(kb.merge(o,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else o.push(b.createTextNode(f));for(h&&m.removeChild(h),kb.support.appendChecked||kb.grep(u(o,"input"),v),p=0;f=o[p++];)if((!d||-1===kb.inArray(f,d))&&(g=kb.contains(f.ownerDocument,f),h=u(m.appendChild(f),"script"),g&&r(h),c))for(e=0;f=h[e++];)dc.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=kb.expando,i=kb.cache,j=kb.support.deleteExpando,k=kb.event.special;null!=(c=a[g]);g++)if((b||kb.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?kb.event.remove(c,d):kb.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==W?c.removeAttribute(h):c[h]=null,bb.push(e))}},_evalUrl:function(a){return kb.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),kb.fn.extend({wrapAll:function(a){if(kb.isFunction(a))return this.each(function(b){kb(this).wrapAll(a.call(this,b))});if(this[0]){var b=kb(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(kb.isFunction(a)?function(b){kb(this).wrapInner(a.call(this,b))}:function(){var b=kb(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=kb.isFunction(a);return this.each(function(c){kb(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){kb.nodeName(this,"body")||kb(this).replaceWith(this.childNodes)}).end()}});var jc,kc,lc,mc=/alpha\([^)]*\)/i,nc=/opacity\s*=\s*([^)]*)/,oc=/^(top|right|bottom|left)$/,pc=/^(none|table(?!-c[ea]).+)/,qc=/^margin/,rc=new RegExp("^("+lb+")(.*)$","i"),sc=new RegExp("^("+lb+")(?!px)[a-z%]+$","i"),tc=new RegExp("^([+-])=("+lb+")","i"),uc={BODY:"block"},vc={position:"absolute",visibility:"hidden",display:"block"},wc={letterSpacing:0,fontWeight:400},xc=["Top","Right","Bottom","Left"],yc=["Webkit","O","Moz","ms"];kb.fn.extend({css:function(a,c){return kb.access(this,function(a,c,d){var e,f,g={},h=0;if(kb.isArray(c)){for(f=kc(a),e=c.length;e>h;h++)g[c[h]]=kb.css(a,c[h],!1,f);return g}return d!==b?kb.style(a,c,d):kb.css(a,c)},a,c,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(a){var b="boolean"==typeof a;return this.each(function(){(b?a:x(this))?kb(this).show():kb(this).hide()})}}),kb.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=lc(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":kb.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=kb.camelCase(c),j=a.style;if(c=kb.cssProps[i]||(kb.cssProps[i]=w(j,i)),h=kb.cssHooks[c]||kb.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=tc.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(kb.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||kb.cssNumber[i]||(d+="px"),kb.support.clearCloneStyle||""!==d||0!==c.indexOf("background")||(j[c]="inherit"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=kb.camelCase(c);return c=kb.cssProps[i]||(kb.cssProps[i]=w(a.style,i)),h=kb.cssHooks[c]||kb.cssHooks[i],h&&"get"in h&&(g=h.get(a,!0,d)),g===b&&(g=lc(a,c,e)),"normal"===g&&c in wc&&(g=wc[c]),""===d||d?(f=parseFloat(g),d===!0||kb.isNumeric(f)?f||0:g):g}}),a.getComputedStyle?(kc=function(b){return a.getComputedStyle(b,null)},lc=function(a,c,d){var e,f,g,h=d||kc(a),i=h?h.getPropertyValue(c)||h[c]:b,j=a.style;return h&&(""!==i||kb.contains(a.ownerDocument,a)||(i=kb.style(a,c)),sc.test(i)&&qc.test(c)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=i,i=h.width,j.width=e,j.minWidth=f,j.maxWidth=g)),i}):Y.documentElement.currentStyle&&(kc=function(a){return a.currentStyle},lc=function(a,c,d){var e,f,g,h=d||kc(a),i=h?h[c]:b,j=a.style;return null==i&&j&&j[c]&&(i=j[c]),sc.test(i)&&!oc.test(c)&&(e=j.left,f=a.runtimeStyle,g=f&&f.left,g&&(f.left=a.currentStyle.left),j.left="fontSize"===c?"1em":i,i=j.pixelLeft+"px",j.left=e,g&&(f.left=g)),""===i?"auto":i}),kb.each(["height","width"],function(a,b){kb.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&pc.test(kb.css(a,"display"))?kb.swap(a,vc,function(){return B(a,b,d)}):B(a,b,d):void 0},set:function(a,c,d){var e=d&&kc(a);return z(a,c,d?A(a,b,d,kb.support.boxSizing&&"border-box"===kb.css(a,"boxSizing",!1,e),e):0)}}}),kb.support.opacity||(kb.cssHooks.opacity={get:function(a,b){return nc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=kb.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===kb.trim(f.replace(mc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=mc.test(f)?f.replace(mc,e):f+" "+e)}}),kb(function(){kb.support.reliableMarginRight||(kb.cssHooks.marginRight={get:function(a,b){return b?kb.swap(a,{display:"inline-block"},lc,[a,"marginRight"]):void 0}}),!kb.support.pixelPosition&&kb.fn.position&&kb.each(["top","left"],function(a,b){kb.cssHooks[b]={get:function(a,c){return c?(c=lc(a,b),sc.test(c)?kb(a).position()[b]+"px":c):void 0}}})}),kb.expr&&kb.expr.filters&&(kb.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!kb.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||kb.css(a,"display"))},kb.expr.filters.visible=function(a){return!kb.expr.filters.hidden(a)}),kb.each({margin:"",padding:"",border:"Width"},function(a,b){kb.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+xc[d]+b]=f[d]||f[d-2]||f[0];return e}},qc.test(a)||(kb.cssHooks[a+b].set=z)});var zc=/%20/g,Ac=/\[\]$/,Bc=/\r?\n/g,Cc=/^(?:submit|button|image|reset|file)$/i,Dc=/^(?:input|select|textarea|keygen)/i;kb.fn.extend({serialize:function(){return kb.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=kb.prop(this,"elements");return a?kb.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!kb(this).is(":disabled")&&Dc.test(this.nodeName)&&!Cc.test(a)&&(this.checked||!bc.test(a))}).map(function(a,b){var c=kb(this).val();return null==c?null:kb.isArray(c)?kb.map(c,function(a){return{name:b.name,value:a.replace(Bc,"\r\n")}}):{name:b.name,value:c.replace(Bc,"\r\n")}}).get()}}),kb.param=function(a,c){var d,e=[],f=function(a,b){b=kb.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=kb.ajaxSettings&&kb.ajaxSettings.traditional),kb.isArray(a)||a.jquery&&!kb.isPlainObject(a))kb.each(a,function(){f(this.name,this.value)});else for(d in a)E(d,a[d],c,f);return e.join("&").replace(zc,"+")},kb.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){kb.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),kb.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Ec,Fc,Gc=kb.now(),Hc=/\?/,Ic=/#.*$/,Jc=/([?&])_=[^&]*/,Kc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mc=/^(?:GET|HEAD)$/,Nc=/^\/\//,Oc=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Pc=kb.fn.load,Qc={},Rc={},Sc="*/".concat("*");try{Fc=X.href}catch(Tc){Fc=Y.createElement("a"),Fc.href="",Fc=Fc.href}Ec=Oc.exec(Fc.toLowerCase())||[],kb.fn.load=function(a,c,d){if("string"!=typeof a&&Pc)return Pc.apply(this,arguments);var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),kb.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(g="POST"),h.length>0&&kb.ajax({url:a,type:g,dataType:"html",data:c}).done(function(a){f=arguments,h.html(e?kb("<div>").append(kb.parseHTML(a)).find(e):a)}).complete(d&&function(a,b){h.each(d,f||[a.responseText,b,a])}),this},kb.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){kb.fn[b]=function(a){return this.on(b,a)}}),kb.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fc,type:"GET",isLocal:Lc.test(Ec[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Sc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":kb.parseJSON,"text xml":kb.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?H(H(a,kb.ajaxSettings),b):H(kb.ajaxSettings,a)},ajaxPrefilter:F(Qc),ajaxTransport:F(Rc),ajax:function(a,c){function d(a,c,d,e){var f,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),k=b,h=e||"",w.readyState=a>0?4:0,f=a>=200&&300>a||304===a,d&&(t=I(m,w,d)),t=J(m,t,w,f),f?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(kb.lastModified[g]=v),v=w.getResponseHeader("etag"),v&&(kb.etag[g]=v)),204===a||"HEAD"===m.type?x="nocontent":304===a?x="notmodified":(x=t.state,l=t.data,s=t.error,f=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",f?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,j&&o.trigger(f?"ajaxSuccess":"ajaxError",[w,m,f?l:s]),q.fireWith(n,[w,x]),j&&(o.trigger("ajaxComplete",[w,m]),--kb.active||kb.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=kb.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?kb(n):kb.event,p=kb.Deferred(),q=kb.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!l)for(l={};b=Kc.exec(h);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return k&&k.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||Fc)+"").replace(Ic,"").replace(Nc,Ec[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=kb.trim(m.dataType||"*").toLowerCase().match(mb)||[""],null==m.crossDomain&&(e=Oc.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===Ec[1]&&e[2]===Ec[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(Ec[3]||("http:"===Ec[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=kb.param(m.data,m.traditional)),G(Qc,m,c,w),2===u)return w;j=m.global,j&&0===kb.active++&&kb.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Mc.test(m.type),g=m.url,m.hasContent||(m.data&&(g=m.url+=(Hc.test(g)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=Jc.test(g)?g.replace(Jc,"$1_="+Gc++):g+(Hc.test(g)?"&":"?")+"_="+Gc++)),m.ifModified&&(kb.lastModified[g]&&w.setRequestHeader("If-Modified-Since",kb.lastModified[g]),kb.etag[g]&&w.setRequestHeader("If-None-Match",kb.etag[g])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Sc+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)w.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(f in{success:1,error:1,complete:1})w[f](m[f]);if(k=G(Rc,m,c,w)){w.readyState=1,j&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,k.send(s,d)}catch(x){if(!(2>u))throw x;d(-1,x)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return kb.get(a,b,c,"json")},getScript:function(a,c){return kb.get(a,b,c,"script")}}),kb.each(["get","post"],function(a,c){kb[c]=function(a,d,e,f){return kb.isFunction(d)&&(f=f||e,e=d,d=b),kb.ajax({url:a,type:c,dataType:f,data:d,success:e})}}),kb.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return kb.globalEval(a),a}}}),kb.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),kb.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=Y.head||kb("head")[0]||Y.documentElement;return{send:function(b,e){c=Y.createElement("script"),c.async=!0,a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,b){(b||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,b||e(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(b,!0)}}}});var Uc=[],Vc=/(=)\?(?=&|$)|\?\?/;kb.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Uc.pop()||kb.expando+"_"+Gc++;return this[a]=!0,a}}),kb.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.jsonp!==!1&&(Vc.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vc.test(c.data)&&"data");return i||"jsonp"===c.dataTypes[0]?(f=c.jsonpCallback=kb.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,i?c[i]=c[i].replace(Vc,"$1"+f):c.jsonp!==!1&&(c.url+=(Hc.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||kb.error(f+" was not called"),h[0]},c.dataTypes[0]="json",g=a[f],a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Uc.push(f)),h&&kb.isFunction(g)&&g(h[0]),h=g=b}),"script"):void 0});var Wc,Xc,Yc=0,Zc=a.ActiveXObject&&function(){var a;for(a in Wc)Wc[a](b,!0)};kb.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&K()||L()}:K,Xc=kb.ajaxSettings.xhr(),kb.support.cors=!!Xc&&"withCredentials"in Xc,Xc=kb.support.ajax=!!Xc,Xc&&kb.ajaxTransport(function(c){if(!c.crossDomain||kb.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=kb.noop,Zc&&delete Wc[g]),e)4!==i.readyState&&i.abort();else{l={},h=i.status,j=i.getAllResponseHeaders(),"string"==typeof i.responseText&&(l.text=i.responseText);try{k=i.statusText}catch(m){k=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(n){e||f(-1,n)}l&&f(h,k,l,j)},c.async?4===i.readyState?setTimeout(d):(g=++Yc,Zc&&(Wc||(Wc={},kb(a).unload(Zc)),Wc[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(b,!0)}}}});var $c,_c,ad=/^(?:toggle|show|hide)$/,bd=new RegExp("^(?:([+-])=|)("+lb+")([a-z%]*)$","i"),cd=/queueHooks$/,dd=[Q],ed={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bd.exec(b),f=e&&e[3]||(kb.cssNumber[a]?"":"px"),g=(kb.cssNumber[a]||"px"!==f&&+d)&&bd.exec(kb.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,kb.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};kb.Animation=kb.extend(O,{tweener:function(a,b){kb.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ed[c]=ed[c]||[],ed[c].unshift(b)},prefilter:function(a,b){b?dd.unshift(a):dd.push(a)}}),kb.Tween=R,R.prototype={constructor:R,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(kb.cssNumber[c]?"":"px")},cur:function(){var a=R.propHooks[this.prop];return a&&a.get?a.get(this):R.propHooks._default.get(this)},run:function(a){var b,c=R.propHooks[this.prop];return this.pos=b=this.options.duration?kb.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=kb.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){kb.fx.step[a.prop]?kb.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[kb.cssProps[a.prop]]||kb.cssHooks[a.prop])?kb.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},kb.each(["toggle","show","hide"],function(a,b){var c=kb.fn[b];kb.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(S(b,!0),a,d,e)}}),kb.fn.extend({fadeTo:function(a,b,c,d){return this.filter(x).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=kb.isEmptyObject(a),f=kb.speed(b,c,d),g=function(){var b=O(this,kb.extend({},a),f);(e||kb._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=kb.timers,g=kb._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&cd.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&kb.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=kb._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=kb.timers,g=d?d.length:0;for(c.finish=!0,kb.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),kb.each({slideDown:S("show"),slideUp:S("hide"),slideToggle:S("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){kb.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),kb.speed=function(a,b,c){var d=a&&"object"==typeof a?kb.extend({},a):{complete:c||!c&&b||kb.isFunction(a)&&a,duration:a,easing:c&&b||b&&!kb.isFunction(b)&&b};return d.duration=kb.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in kb.fx.speeds?kb.fx.speeds[d.duration]:kb.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){kb.isFunction(d.old)&&d.old.call(this),d.queue&&kb.dequeue(this,d.queue)},d},kb.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},kb.timers=[],kb.fx=R.prototype.init,kb.fx.tick=function(){var a,c=kb.timers,d=0;for($c=kb.now();d<c.length;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||kb.fx.stop(),$c=b},kb.fx.timer=function(a){a()&&kb.timers.push(a)&&kb.fx.start()},kb.fx.interval=13,kb.fx.start=function(){_c||(_c=setInterval(kb.fx.tick,kb.fx.interval))},kb.fx.stop=function(){clearInterval(_c),_c=null},kb.fx.speeds={slow:600,fast:200,_default:400},kb.fx.step={},kb.expr&&kb.expr.filters&&(kb.expr.filters.animated=function(a){return kb.grep(kb.timers,function(b){return a===b.elem}).length}),kb.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){kb.offset.setOffset(this,a,b)});var c,d,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;if(g)return c=g.documentElement,kb.contains(c,f)?(typeof f.getBoundingClientRect!==W&&(e=f.getBoundingClientRect()),d=T(g),{top:e.top+(d.pageYOffset||c.scrollTop)-(c.clientTop||0),left:e.left+(d.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):e},kb.offset={setOffset:function(a,b,c){var d=kb.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=kb(a),h=g.offset(),i=kb.css(a,"top"),j=kb.css(a,"left"),k=("absolute"===d||"fixed"===d)&&kb.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),kb.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},kb.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===kb.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),kb.nodeName(a[0],"html")||(c=a.offset()),c.top+=kb.css(a[0],"borderTopWidth",!0),c.left+=kb.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-kb.css(d,"marginTop",!0),left:b.left-c.left-kb.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Z;a&&!kb.nodeName(a,"html")&&"static"===kb.css(a,"position");)a=a.offsetParent;return a||Z})}}),kb.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);kb.fn[a]=function(e){return kb.access(this,function(a,e,f){var g=T(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:void(g?g.scrollTo(d?kb(g).scrollLeft():f,d?f:kb(g).scrollTop()):a[e]=f)},a,e,arguments.length,null)}}),kb.each({Height:"height",Width:"width"},function(a,c){kb.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){kb.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return kb.access(this,function(c,d,e){var f;return kb.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?kb.css(c,d,h):kb.style(c,d,e,h)},c,g?e:b,g,null)}})}),kb.fn.size=function(){return this.length},kb.fn.andSelf=kb.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=kb:(a.jQuery=a.$=kb,"function"==typeof define&&define.amd&&define("jquery",[],function(){return kb}))}(window),function(){var a;a=function(){function a(a,b){var c,d;this.name=a,this.options=null!=b?b:{},null==(c=this.options).good&&(c.good=100),null==(d=this.options).bad&&(d.bad=500),this.started=!1}return a.prototype.start=function(){return this.started?void 0:(this.start=+new Date,this.started=!0)},a.prototype.stop=function(a){var b,c,d,e,f;if(this.started)return e=+new Date,d=e-this.start,f=null!=this.name?this.name+" took":"Code execution time:","undefined"!=typeof window&&null!==window?(d<this.options.good?(b="darkgreen",c="white"):d>this.options.good&&d<this.options.bad?(b="orange",c="black"):(b="darkred",c="white"),console.log("%c perf %c "+f+" %c "+d.toFixed(2)+"ms ","background: #222; color: #bada55","","background: "+b+"; color: "+c)):console.log("[perf] "+f+" "+d.toFixed(2)+"ms"),this.started=!1,a&&"undefined"!=typeof window&&null!==window?console.log("%c perf %c -- END --                                                                          ","background: #222; color: #bada55","background: #222; color: #ffffff"):void 0},a}(),"undefined"!=typeof window&&null!==window?window.Perf=a:null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=a)}.call(this),function(){function a(a,b,c,d,e,f,g,h){this.widthOriginal=Math.abs(parseInt(a)||0),this.heightOriginal=Math.abs(parseInt(b)||0),this.targetWidth=Math.abs(parseInt(c)||0),this.targetHeight=Math.abs(parseInt(d)||0),this.colorChannels=e?4:3,this.interpolationPass=!!f,this.useWebWorker=!!g,this.resizeCallback="function"==typeof h?h:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}var b=document.getElementsByTagName("script"),c=b[b.length-1].src;a.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw new Error("Invalid settings specified for the resizer.");this.useWebWorker&&(this.useWebWorker=this.widthOriginal!=this.targetWidth||this.heightOriginal!=this.targetHeight,this.useWebWorker&&this.configureWorker()),this.useWebWorker||this.configurePasses()
},a.prototype.configureWorker=function(){try{var a=this;this.worker=new Worker(c.substring(0,c.length-3)+"Worker.js"),this.worker.onmessage=function(b){a.heightBuffer=b.data,a.resizeCallback(a.heightBuffer)},this.worker.postMessage(["setup",this.widthOriginal,this.heightOriginal,this.targetWidth,this.targetHeight,this.colorChannels,this.interpolationPass])}catch(b){this.useWebWorker=!1}},a.prototype.configurePasses=function(){this.widthOriginal==this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=4==this.colorChannels?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=4==this.colorChannels?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal==this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=4==this.colorChannels?this.resizeHeightRGBA:this.resizeHeightRGB))},a.prototype.resizeWidthRGB=function(a){var b=this.ratioWeightWidthPass,c=1/b,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=this.originalWidthMultipliedByChannels-2,l=this.targetWidthMultipliedByChannels-2,m=this.outputWidthWorkBench,n=this.widthBuffer;do{for(h=0;h<this.originalHeightMultipliedByChannels;)m[h++]=0,m[h++]=0,m[h++]=0;d=b;do{if(e=1+f-g,!(d>=e)){for(h=0,i=f;h<this.originalHeightMultipliedByChannels;i+=k)m[h++]+=a[i++]*d,m[h++]+=a[i++]*d,m[h++]+=a[i]*d;g+=d;break}for(h=0,i=f;h<this.originalHeightMultipliedByChannels;i+=k)m[h++]+=a[i++]*e,m[h++]+=a[i++]*e,m[h++]+=a[i]*e;g=f+=3,d-=e}while(d>0&&f<this.originalWidthMultipliedByChannels);for(h=0,i=j;h<this.originalHeightMultipliedByChannels;i+=l)n[i++]=m[h++]*c,n[i++]=m[h++]*c,n[i]=m[h++]*c;j+=3}while(j<this.targetWidthMultipliedByChannels);return n},a.prototype.resizeWidthInterpolatedRGB=function(a){for(var b=this.ratioWeightWidthPass,c=0,d=0,e=0,f=0,g=0,h=this.widthBuffer,i=0;1/3>c;i+=3,c+=b)for(d=i,e=0;d<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,d+=this.targetWidthMultipliedByChannels)h[d]=a[e],h[d+1]=a[e+1],h[d+2]=a[e+2];c-=1/3;for(var j=this.widthOriginal-1;j>c;i+=3,c+=b)for(g=c%1,f=1-g,d=i,e=3*Math.floor(c);d<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,d+=this.targetWidthMultipliedByChannels)h[d]=a[e]*f+a[e+3]*g,h[d+1]=a[e+1]*f+a[e+4]*g,h[d+2]=a[e+2]*f+a[e+5]*g;for(j=this.originalWidthMultipliedByChannels-3;i<this.targetWidthMultipliedByChannels;i+=3)for(d=i,e=j;d<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,d+=this.targetWidthMultipliedByChannels)h[d]=a[e],h[d+1]=a[e+1],h[d+2]=a[e+2];return h},a.prototype.resizeWidthRGBA=function(a){var b=this.ratioWeightWidthPass,c=1/b,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=this.originalWidthMultipliedByChannels-3,l=this.targetWidthMultipliedByChannels-3,m=this.outputWidthWorkBench,n=this.widthBuffer;do{for(h=0;h<this.originalHeightMultipliedByChannels;)m[h++]=0,m[h++]=0,m[h++]=0,m[h++]=0;d=b;do{if(e=1+f-g,!(d>=e)){for(h=0,i=f;h<this.originalHeightMultipliedByChannels;i+=k)m[h++]+=a[i++]*d,m[h++]+=a[i++]*d,m[h++]+=a[i++]*d,m[h++]+=a[i]*d;g+=d;break}for(h=0,i=f;h<this.originalHeightMultipliedByChannels;i+=k)m[h++]+=a[i++]*e,m[h++]+=a[i++]*e,m[h++]+=a[i++]*e,m[h++]+=a[i]*e;g=f+=4,d-=e}while(d>0&&f<this.originalWidthMultipliedByChannels);for(h=0,i=j;h<this.originalHeightMultipliedByChannels;i+=l)n[i++]=m[h++]*c,n[i++]=m[h++]*c,n[i++]=m[h++]*c,n[i]=m[h++]*c;j+=4}while(j<this.targetWidthMultipliedByChannels);return n},a.prototype.resizeWidthInterpolatedRGBA=function(a){for(var b=this.ratioWeightWidthPass,c=0,d=0,e=0,f=0,g=0,h=this.widthBuffer,i=0;1/3>c;i+=4,c+=b)for(d=i,e=0;d<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,d+=this.targetWidthMultipliedByChannels)h[d]=a[e],h[d+1]=a[e+1],h[d+2]=a[e+2],h[d+3]=a[e+3];c-=1/3;for(var j=this.widthOriginal-1;j>c;i+=4,c+=b)for(g=c%1,f=1-g,d=i,e=4*Math.floor(c);d<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,d+=this.targetWidthMultipliedByChannels)h[d]=a[e]*f+a[e+4]*g,h[d+1]=a[e+1]*f+a[e+5]*g,h[d+2]=a[e+2]*f+a[e+6]*g,h[d+3]=a[e+3]*f+a[e+7]*g;for(j=this.originalWidthMultipliedByChannels-4;i<this.targetWidthMultipliedByChannels;i+=4)for(d=i,e=j;d<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,d+=this.targetWidthMultipliedByChannels)h[d]=a[e],h[d+1]=a[e+1],h[d+2]=a[e+2],h[d+3]=a[e+3];return h},a.prototype.resizeHeightRGB=function(a){var b=this.ratioWeightHeightPass,c=1/b,d=0,e=0,f=0,g=0,h=0,i=0,j=this.outputHeightWorkBench,k=this.heightBuffer;do{for(h=0;h<this.targetWidthMultipliedByChannels;)j[h++]=0,j[h++]=0,j[h++]=0;d=b;do{if(e=1+f-g,!(d>=e)){for(h=0,e=f;h<this.targetWidthMultipliedByChannels;)j[h++]+=a[e++]*d,j[h++]+=a[e++]*d,j[h++]+=a[e++]*d;g+=d;break}for(h=0;h<this.targetWidthMultipliedByChannels;)j[h++]+=a[f++]*e,j[h++]+=a[f++]*e,j[h++]+=a[f++]*e;g=f,d-=e}while(d>0&&f<this.widthPassResultSize);for(h=0;h<this.targetWidthMultipliedByChannels;)k[i++]=Math.round(j[h++]*c),k[i++]=Math.round(j[h++]*c),k[i++]=Math.round(j[h++]*c)}while(i<this.finalResultSize);return k},a.prototype.resizeHeightInterpolated=function(a){for(var b=this.ratioWeightHeightPass,c=0,d=0,e=0,f=0,g=0,h=0,i=0,j=this.heightBuffer;1/3>c;c+=b)for(e=0;e<this.targetWidthMultipliedByChannels;)j[d++]=Math.round(a[e++]);c-=1/3;for(var k=this.heightOriginal-1;k>c;c+=b)for(i=c%1,h=1-i,f=Math.floor(c)*this.targetWidthMultipliedByChannels,g=f+this.targetWidthMultipliedByChannels,e=0;e<this.targetWidthMultipliedByChannels;++e)j[d++]=Math.round(a[f++]*h+a[g++]*i);for(;d<this.finalResultSize;)for(e=0,f=k*this.targetWidthMultipliedByChannels;e<this.targetWidthMultipliedByChannels;++e)j[d++]=Math.round(a[f++]);return j},a.prototype.resizeHeightRGBA=function(a){var b=this.ratioWeightHeightPass,c=1/b,d=0,e=0,f=0,g=0,h=0,i=0,j=this.outputHeightWorkBench,k=this.heightBuffer;do{for(h=0;h<this.targetWidthMultipliedByChannels;)j[h++]=0,j[h++]=0,j[h++]=0,j[h++]=0;d=b;do{if(e=1+f-g,!(d>=e)){for(h=0,e=f;h<this.targetWidthMultipliedByChannels;)j[h++]+=a[e++]*d,j[h++]+=a[e++]*d,j[h++]+=a[e++]*d,j[h++]+=a[e++]*d;g+=d;break}for(h=0;h<this.targetWidthMultipliedByChannels;)j[h++]+=a[f++]*e,j[h++]+=a[f++]*e,j[h++]+=a[f++]*e,j[h++]+=a[f++]*e;g=f,d-=e}while(d>0&&f<this.widthPassResultSize);for(h=0;h<this.targetWidthMultipliedByChannels;)k[i++]=Math.round(j[h++]*c),k[i++]=Math.round(j[h++]*c),k[i++]=Math.round(j[h++]*c),k[i++]=Math.round(j[h++]*c)}while(i<this.finalResultSize);return k},a.prototype.resize=function(a){return this.useWebWorker?void this.worker.postMessage(["resize",a]):this.resizeHeight(this.resizeWidth(a))},a.prototype.bypassResizer=function(a){return a},a.prototype.initializeFirstPassBuffers=function(a){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),a||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels))},a.prototype.initializeSecondPassBuffers=function(a){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),a||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels))},a.prototype.generateFloatBuffer=function(a){try{return new Float32Array(a)}catch(b){return[]}},a.prototype.generateUint8Buffer=function(a){try{return new Uint8Array(a)}catch(b){return[]}},window.Resize=a}.call(this),window.Modernizr=function(a,b,c){function d(a){n.cssText=a}function e(a,b){return typeof a===b}var f,g,h,i="2.6.2",j={},k=b.documentElement,l="modernizr",m=b.createElement(l),n=m.style,o=({}.toString,{}),p=[],q=p.slice,r={}.hasOwnProperty;h=e(r,"undefined")||e(r.call,"undefined")?function(a,b){return b in a&&e(a.constructor.prototype[b],"undefined")}:function(a,b){return r.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=q.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(q.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(q.call(arguments)))};return d}),o.canvas=function(){var a=b.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},o.canvastext=function(){return!(!j.canvas||!e(b.createElement("canvas").getContext("2d").fillText,"function"))};for(var s in o)h(o,s)&&(g=s.toLowerCase(),j[g]=o[s](),p.push((j[g]?"":"no-")+g));return j.addTest=function(a,b){if("object"==typeof a)for(var d in a)h(a,d)&&j.addTest(d,a[d]);else{if(a=a.toLowerCase(),j[a]!==c)return j;b="function"==typeof b?b():b,"undefined"!=typeof enableClasses&&enableClasses&&(k.className+=" "+(b?"":"no-")+a),j[a]=b}return j},d(""),m=f=null,j._version=i,j}(this,this.document),function(a,b,c){function d(c,f){if(!b[c]){if(!a[c]){var g="function"==typeof require&&require;if(!f&&g)return g(c,!0);if(e)return e(c,!0);throw new Error("Cannot find module '"+c+"'")}var h=b[c]={exports:{}};a[c][0].call(h.exports,function(b){var e=a[c][1][b];return d(e?e:b)},h,h.exports)}return b[c].exports}for(var e="function"==typeof require&&require,f=0;f<c.length;f++)d(c[f]);return d}({1:[function(a,b){var c=b.exports={};c.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),c.title="browser",c.browser=!0,c.env={},c.argv=[],c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")}},{}],2:[function(a,b){a=function(a,b,c,d){function e(d){if(!c[d]){if(!b[d]){if(a)return a(d);throw new Error("Cannot find module '"+d+"'")}var f=c[d]={exports:{}};b[d][0](function(a){var c=b[d][1][a];return e(c?c:a)},f,f.exports)}return c[d].exports}for(var f=0;f<d.length;f++)e(d[f]);return e}("undefined"!=typeof a&&a,{1:[function(a,b){function c(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}function d(a,b){return void 0===b?""+b:"number"!=typeof b||!isNaN(b)&&isFinite(b)?"function"==typeof b||b instanceof RegExp?b.toString():b:b.toString()}function e(a,b){return"string"==typeof a?a.length<b?a:a.slice(0,b):a}function f(a,b,c,d,e){throw new q.AssertionError({message:c,actual:a,expected:b,operator:d,stackStartFunction:e})}function g(a,b){a||f(a,!0,b,"==",q.ok)}function h(a,b){if(a===b)return!0;if(o.isBuffer(a)&&o.isBuffer(b)){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}return a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():"object"!=typeof a&&"object"!=typeof b?a==b:k(a,b)}function i(a){return null===a||void 0===a}function j(a){return"[object Arguments]"==Object.prototype.toString.call(a)}function k(a,b){if(i(a)||i(b))return!1;if(a.prototype!==b.prototype)return!1;if(j(a))return j(b)?(a=p.call(a),b=p.call(b),h(a,b)):!1;try{var d,e,f=c(a),g=c(b)}catch(k){return!1}if(f.length!=g.length)return!1;for(f.sort(),g.sort(),e=f.length-1;e>=0;e--)if(f[e]!=g[e])return!1;for(e=f.length-1;e>=0;e--)if(d=f[e],!h(a[d],b[d]))return!1;return!0}function l(a,b){return a&&b?b instanceof RegExp?b.test(a):a instanceof b?!0:b.call({},a)===!0?!0:!1:!1}function m(a,b,c,d){var e;"string"==typeof c&&(d=c,c=null);try{b()}catch(g){e=g}if(d=(c&&c.name?" ("+c.name+").":".")+(d?" "+d:"."),a&&!e&&f("Missing expected exception"+d),!a&&l(e,c)&&f("Got unwanted exception"+d),a&&e&&c&&!l(e,c)||!a&&e)throw e}var n=a("util"),o=a("buffer").Buffer,p=Array.prototype.slice,q=b.exports=g;q.AssertionError=function(a){this.name="AssertionError",this.message=a.message,this.actual=a.actual,this.expected=a.expected,this.operator=a.operator;var b=a.stackStartFunction||f;Error.captureStackTrace&&Error.captureStackTrace(this,b)},n.inherits(q.AssertionError,Error),q.AssertionError.prototype.toString=function(){return this.message?[this.name+":",this.message].join(" "):[this.name+":",e(JSON.stringify(this.actual,d),128),this.operator,e(JSON.stringify(this.expected,d),128)].join(" ")},q.AssertionError.__proto__=Error.prototype,q.fail=f,q.ok=g,q.equal=function(a,b,c){a!=b&&f(a,b,c,"==",q.equal)},q.notEqual=function(a,b,c){a==b&&f(a,b,c,"!=",q.notEqual)},q.deepEqual=function(a,b,c){h(a,b)||f(a,b,c,"deepEqual",q.deepEqual)},q.notDeepEqual=function(a,b,c){h(a,b)&&f(a,b,c,"notDeepEqual",q.notDeepEqual)},q.strictEqual=function(a,b,c){a!==b&&f(a,b,c,"===",q.strictEqual)},q.notStrictEqual=function(a,b,c){a===b&&f(a,b,c,"!==",q.notStrictEqual)},q.throws=function(){m.apply(this,[!0].concat(p.call(arguments)))},q.doesNotThrow=function(){m.apply(this,[!1].concat(p.call(arguments)))},q.ifError=function(a){if(a)throw a}},{util:2,buffer:3}],2:[function(a,b,c){function d(a){return a instanceof Array||Array.isArray(a)||a&&a!==Object.prototype&&d(a.__proto__)}function e(a){return a instanceof RegExp||"object"==typeof a&&"[object RegExp]"===Object.prototype.toString.call(a)}function f(a){if(a instanceof Date)return!0;if("object"!=typeof a)return!1;var b=Date.prototype&&h(Date.prototype),c=a.__proto__&&h(a.__proto__);return JSON.stringify(c)===JSON.stringify(b)}a("events");c.isArray=d,c.isDate=function(a){return"[object Date]"===Object.prototype.toString.call(a)},c.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)},c.print=function(){},c.puts=function(){},c.debug=function(){},c.inspect=function(a,b,i,j){function k(a,i){if(a&&"function"==typeof a.inspect&&a!==c&&(!a.constructor||a.constructor.prototype!==a))return a.inspect(i);switch(typeof a){case"undefined":return m("undefined","undefined");case"string":var j="'"+JSON.stringify(a).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return m(j,"string");case"number":return m(""+a,"number");case"boolean":return m(""+a,"boolean")}if(null===a)return m("null","null");var n=g(a),o=b?h(a):n;if("function"==typeof a&&0===o.length){if(e(a))return m(""+a,"regexp");var p=a.name?": "+a.name:"";return m("[Function"+p+"]","special")}if(f(a)&&0===o.length)return m(a.toUTCString(),"date");var q,r,s;if(d(a)?(r="Array",s=["[","]"]):(r="Object",s=["{","}"]),"function"==typeof a){var t=a.name?": "+a.name:"";q=e(a)?" "+a:" [Function"+t+"]"}else q="";if(f(a)&&(q=" "+a.toUTCString()),0===o.length)return s[0]+q+s[1];if(0>i)return e(a)?m(""+a,"regexp"):m("[Object]","special");l.push(a);var u=o.map(function(b){var c,e;if(a.__lookupGetter__&&(a.__lookupGetter__(b)?e=a.__lookupSetter__(b)?m("[Getter/Setter]","special"):m("[Getter]","special"):a.__lookupSetter__(b)&&(e=m("[Setter]","special"))),n.indexOf(b)<0&&(c="["+b+"]"),e||(l.indexOf(a[b])<0?(e=null===i?k(a[b]):k(a[b],i-1),e.indexOf("\n")>-1&&(e=d(a)?e.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+e.split("\n").map(function(a){return"   "+a}).join("\n"))):e=m("[Circular]","special")),"undefined"==typeof c){if("Array"===r&&b.match(/^\d+$/))return e;c=JSON.stringify(""+b),c.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.substr(1,c.length-2),c=m(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=m(c,"string"))}return c+": "+e});l.pop();var v=0,w=u.reduce(function(a,b){return v++,b.indexOf("\n")>=0&&v++,a+b.length+1},0);return u=w>50?s[0]+(""===q?"":q+"\n ")+" "+u.join(",\n  ")+" "+s[1]:s[0]+q+" "+u.join(", ")+" "+s[1]}var l=[],m=function(a,b){var c={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[b];return d?"["+c[d][0]+"m"+a+"["+c[d][1]+"m":a};return j||(m=function(a){return a}),k(a,"undefined"==typeof i?2:i)};c.log=function(){},c.pump=null;var g=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b},h=Object.getOwnPropertyNames||function(a){var b=[];for(var c in a)Object.hasOwnProperty.call(a,c)&&b.push(c);return b},i=Object.create||function(a,b){var c;if(null===a)c={__proto__:null};else{if("object"!=typeof a)throw new TypeError("typeof prototype["+typeof a+"] != 'object'");var d=function(){};d.prototype=a,c=new d,c.__proto__=a}return"undefined"!=typeof b&&Object.defineProperties&&Object.defineProperties(c,b),c};c.inherits=function(a,b){a.super_=b,a.prototype=i(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})};var j=/%[sdj%]/g;c.format=function(a){if("string"!=typeof a){for(var b=[],d=0;d<arguments.length;d++)b.push(c.inspect(arguments[d]));return b.join(" ")}for(var d=1,e=arguments,f=e.length,g=String(a).replace(j,function(a){if("%%"===a)return"%";if(d>=f)return a;switch(a){case"%s":return String(e[d++]);case"%d":return Number(e[d++]);case"%j":return JSON.stringify(e[d++]);default:return a}}),h=e[d];f>d;h=e[++d])g+=null===h||"object"!=typeof h?" "+h:" "+c.inspect(h);return g}},{events:4}],5:[function(a,b,c){c.readIEEE754=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?0:e-1,m=c?1:-1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?0/0:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.writeIEEE754=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?f-1:0,o=d?-1:1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||1/0===b?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],6:[function(a,b){var c=b.exports={};c.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){if(a.source===window&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var b=c.shift();b()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),c.title="browser",c.browser=!0,c.env={},c.argv=[],c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")}},{}],4:[function(a,b,c){!function(a){function b(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(b===a[c])return c;return-1}a.EventEmitter||(a.EventEmitter=function(){});var d=c.EventEmitter=a.EventEmitter,e="function"==typeof Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},f=10;d.prototype.setMaxListeners=function(a){this._events||(this._events={}),this._events.maxListeners=a},d.prototype.emit=function(a){if("error"===a&&(!this._events||!this._events.error||e(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var b=this._events[a];if(!b)return!1;if("function"==typeof b){switch(arguments.length){case 1:b.call(this);break;case 2:b.call(this,arguments[1]);break;case 3:b.call(this,arguments[1],arguments[2]);break;default:var c=Array.prototype.slice.call(arguments,1);b.apply(this,c)}return!0}if(e(b)){for(var c=Array.prototype.slice.call(arguments,1),d=b.slice(),f=0,g=d.length;g>f;f++)d[f].apply(this,c);return!0}return!1},d.prototype.addListener=function(a,b){if("function"!=typeof b)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",a,b),this._events[a])if(e(this._events[a])){if(!this._events[a].warned){var c;c=void 0!==this._events.maxListeners?this._events.maxListeners:f,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace())}this._events[a].push(b)}else this._events[a]=[this._events[a],b];else this._events[a]=b;return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){var c=this;return c.on(a,function d(){c.removeListener(a,d),b.apply(this,arguments)}),this},d.prototype.removeListener=function(a,c){if("function"!=typeof c)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[a])return this;var d=this._events[a];if(e(d)){var f=b(d,c);if(0>f)return this;d.splice(f,1),0==d.length&&delete this._events[a]}else this._events[a]===c&&delete this._events[a];return this},d.prototype.removeAllListeners=function(a){return 0===arguments.length?(this._events={},this):(a&&this._events&&this._events[a]&&(this._events[a]=null),this)},d.prototype.listeners=function(a){return this._events||(this._events={}),this._events[a]||(this._events[a]=[]),e(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]}}(a("__browserify_process"))},{__browserify_process:6}],"buffer-browserify":[function(a,b){b.exports=a("q9TxCC")},{}],q9TxCC:[function(a,b,c){function d(a){this.length=a}function e(a){return 16>a?"0"+a.toString(16):a.toString(16)}function f(a){for(var b=[],c=0;c<a.length;c++)if(a.charCodeAt(c)<=127)b.push(a.charCodeAt(c));else for(var d=encodeURIComponent(a.charAt(c)).substr(1).split("%"),e=0;e<d.length;e++)b.push(parseInt(d[e],16));return b}function g(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function h(b){return a("base64-js").toByteArray(b)}function i(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);)b[e+c]=a[e],e++;return e}function j(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}function k(a){return a=~~Math.ceil(+a),0>a?0:a}function l(a,b,c){if(!(this instanceof l))return new l(a,b,c);var e;if("number"==typeof c)this.length=k(b),this.parent=a,this.offset=c;else{switch(e=typeof a){case"number":this.length=k(a);break;case"string":this.length=l.byteLength(a,b);break;case"object":this.length=k(a.length);break;default:throw new Error("First argument needs to be a number, array or string.")}if(this.length>l.poolSize?(this.parent=new d(this.length),this.offset=0):((!E||E.length-E.used<this.length)&&n(),this.parent=E,this.offset=E.used,E.used+=this.length),m(a))for(var f=0;f<this.length;f++)this.parent[f+this.offset]=a instanceof l?a.readUInt8(f):a[f];else"string"==e&&(this.length=this.write(a,0,b))}}function m(a){return Array.isArray(a)||l.isBuffer(a)||a&&"object"==typeof a&&"number"==typeof a.length}function n(){E=new d(l.poolSize),E.used=0}function o(a,b,c,d){var e=0;return d||(D.ok("boolean"==typeof c,"missing or invalid endian"),D.ok(void 0!==b&&null!==b,"missing offset"),D.ok(b+1<a.length,"Trying to read beyond buffer length")),b>=a.length?0:(c?(e=a.parent[a.offset+b]<<8,b+1<a.length&&(e|=a.parent[a.offset+b+1])):(e=a.parent[a.offset+b],b+1<a.length&&(e|=a.parent[a.offset+b+1]<<8)),e)}function p(a,b,c,d){var e=0;return d||(D.ok("boolean"==typeof c,"missing or invalid endian"),D.ok(void 0!==b&&null!==b,"missing offset"),D.ok(b+3<a.length,"Trying to read beyond buffer length")),b>=a.length?0:(c?(b+1<a.length&&(e=a.parent[a.offset+b+1]<<16),b+2<a.length&&(e|=a.parent[a.offset+b+2]<<8),b+3<a.length&&(e|=a.parent[a.offset+b+3]),e+=a.parent[a.offset+b]<<24>>>0):(b+2<a.length&&(e=a.parent[a.offset+b+2]<<16),b+1<a.length&&(e|=a.parent[a.offset+b+1]<<8),e|=a.parent[a.offset+b],b+3<a.length&&(e+=a.parent[a.offset+b+3]<<24>>>0)),e)}function q(a,b,c,d){var e,f;return d||(D.ok("boolean"==typeof c,"missing or invalid endian"),D.ok(void 0!==b&&null!==b,"missing offset"),D.ok(b+1<a.length,"Trying to read beyond buffer length")),f=o(a,b,c,d),e=32768&f,e?-1*(65535-f+1):f}function r(a,b,c,d){var e,f;return d||(D.ok("boolean"==typeof c,"missing or invalid endian"),D.ok(void 0!==b&&null!==b,"missing offset"),D.ok(b+3<a.length,"Trying to read beyond buffer length")),f=p(a,b,c,d),e=2147483648&f,e?-1*(4294967295-f+1):f}function s(b,c,d,e){return e||(D.ok("boolean"==typeof d,"missing or invalid endian"),D.ok(c+3<b.length,"Trying to read beyond buffer length")),a("./buffer_ieee754").readIEEE754(b,c,d,23,4)}function t(b,c,d,e){return e||(D.ok("boolean"==typeof d,"missing or invalid endian"),D.ok(c+7<b.length,"Trying to read beyond buffer length")),a("./buffer_ieee754").readIEEE754(b,c,d,52,8)}function u(a,b){D.ok("number"==typeof a,"cannot write a non-number as a number"),D.ok(a>=0,"specified a negative value for writing an unsigned value"),D.ok(b>=a,"value is larger than maximum value for type"),D.ok(Math.floor(a)===a,"value has a fractional component")}function v(a,b,c,d,e){e||(D.ok(void 0!==b&&null!==b,"missing value"),D.ok("boolean"==typeof d,"missing or invalid endian"),D.ok(void 0!==c&&null!==c,"missing offset"),D.ok(c+1<a.length,"trying to write beyond buffer length"),u(b,65535));for(var f=0;f<Math.min(a.length-c,2);f++)a.parent[a.offset+c+f]=(b&255<<8*(d?1-f:f))>>>8*(d?1-f:f)}function w(a,b,c,d,e){e||(D.ok(void 0!==b&&null!==b,"missing value"),D.ok("boolean"==typeof d,"missing or invalid endian"),D.ok(void 0!==c&&null!==c,"missing offset"),D.ok(c+3<a.length,"trying to write beyond buffer length"),u(b,4294967295));for(var f=0;f<Math.min(a.length-c,4);f++)a.parent[a.offset+c+f]=b>>>8*(d?3-f:f)&255}function x(a,b,c){D.ok("number"==typeof a,"cannot write a non-number as a number"),D.ok(b>=a,"value larger than maximum allowed value"),D.ok(a>=c,"value smaller than minimum allowed value"),D.ok(Math.floor(a)===a,"value has a fractional component")}function y(a,b,c){D.ok("number"==typeof a,"cannot write a non-number as a number"),D.ok(b>=a,"value larger than maximum allowed value"),D.ok(a>=c,"value smaller than minimum allowed value")}function z(a,b,c,d,e){e||(D.ok(void 0!==b&&null!==b,"missing value"),D.ok("boolean"==typeof d,"missing or invalid endian"),D.ok(void 0!==c&&null!==c,"missing offset"),D.ok(c+1<a.length,"Trying to write beyond buffer length"),x(b,32767,-32768)),b>=0?v(a,b,c,d,e):v(a,65535+b+1,c,d,e)}function A(a,b,c,d,e){e||(D.ok(void 0!==b&&null!==b,"missing value"),D.ok("boolean"==typeof d,"missing or invalid endian"),D.ok(void 0!==c&&null!==c,"missing offset"),D.ok(c+3<a.length,"Trying to write beyond buffer length"),x(b,2147483647,-2147483648)),b>=0?w(a,b,c,d,e):w(a,4294967295+b+1,c,d,e)}function B(b,c,d,e,f){f||(D.ok(void 0!==c&&null!==c,"missing value"),D.ok("boolean"==typeof e,"missing or invalid endian"),D.ok(void 0!==d&&null!==d,"missing offset"),D.ok(d+3<b.length,"Trying to write beyond buffer length"),y(c,3.4028234663852886e38,-3.4028234663852886e38)),a("./buffer_ieee754").writeIEEE754(b,c,d,e,23,4)}function C(b,c,d,e,f){f||(D.ok(void 0!==c&&null!==c,"missing value"),D.ok("boolean"==typeof e,"missing or invalid endian"),D.ok(void 0!==d&&null!==d,"missing offset"),D.ok(d+7<b.length,"Trying to write beyond buffer length"),y(c,1.7976931348623157e308,-1.7976931348623157e308)),a("./buffer_ieee754").writeIEEE754(b,c,d,e,52,8)}var D=a("assert");c.INSPECT_MAX_BYTES=50,d.byteLength=function(a,b){switch(b||"utf8"){case"hex":return a.length/2;case"utf8":case"utf-8":return f(a).length;case"ascii":case"binary":return a.length;case"base64":return h(a).length;default:throw new Error("Unknown encoding")}},d.prototype.utf8Write=function(a,b,c){return d._charsWritten=i(f(a),this,b,c)},d.prototype.asciiWrite=function(a,b,c){return d._charsWritten=i(g(a),this,b,c)},d.prototype.binaryWrite=d.prototype.asciiWrite,d.prototype.base64Write=function(a,b,c){return d._charsWritten=i(h(a),this,b,c)},d.prototype.base64Slice=function(){var b=Array.prototype.slice.apply(this,arguments);return a("base64-js").fromByteArray(b)},d.prototype.utf8Slice=function(){for(var a=Array.prototype.slice.apply(this,arguments),b="",c="",d=0;d<a.length;)a[d]<=127?(b+=j(c)+String.fromCharCode(a[d]),c=""):c+="%"+a[d].toString(16),d++;return b+j(c)},d.prototype.asciiSlice=function(){for(var a=Array.prototype.slice.apply(this,arguments),b="",c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},d.prototype.binarySlice=d.prototype.asciiSlice,d.prototype.inspect=function(){for(var a=[],b=this.length,d=0;b>d;d++)if(a[d]=e(this[d]),d==c.INSPECT_MAX_BYTES){a[d+1]="...";break}return"<SlowBuffer "+a.join(" ")+">"},d.prototype.hexSlice=function(a,b){var c=this.length;(!a||0>a)&&(a=0),(!b||0>b||b>c)&&(b=c);for(var d="",f=a;b>f;f++)d+=e(this[f]);return d},d.prototype.toString=function(a,b,c){if(a=String(a||"utf8").toLowerCase(),b=+b||0,"undefined"==typeof c&&(c=this.length),+c==b)return"";switch(a){case"hex":return this.hexSlice(b,c);case"utf8":case"utf-8":return this.utf8Slice(b,c);case"ascii":return this.asciiSlice(b,c);case"binary":return this.binarySlice(b,c);case"base64":return this.base64Slice(b,c);case"ucs2":case"ucs-2":return this.ucs2Slice(b,c);default:throw new Error("Unknown encoding")}},d.prototype.hexWrite=function(a,b,c){b=+b||0;var e=this.length-b;c?(c=+c,c>e&&(c=e)):c=e;var f=a.length;if(f%2)throw new Error("Invalid hex string");c>f/2&&(c=f/2);for(var g=0;c>g;g++){var h=parseInt(a.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");this[b+g]=h}return d._charsWritten=2*g,g},d.prototype.write=function(a,b,c,d){if(isFinite(b))isFinite(c)||(d=c,c=void 0);else{var e=d;d=b,b=c,c=e}b=+b||0;var f=this.length-b;switch(c?(c=+c,c>f&&(c=f)):c=f,d=String(d||"utf8").toLowerCase()){case"hex":return this.hexWrite(a,b,c);case"utf8":case"utf-8":return this.utf8Write(a,b,c);case"ascii":return this.asciiWrite(a,b,c);case"binary":return this.binaryWrite(a,b,c);case"base64":return this.base64Write(a,b,c);case"ucs2":case"ucs-2":return this.ucs2Write(a,b,c);default:throw new Error("Unknown encoding")}},d.prototype.slice=function(a,b){if(void 0===b&&(b=this.length),b>this.length)throw new Error("oob");if(a>b)throw new Error("oob");return new l(this,b-a,+a)},d.prototype.copy=function(a,b,c,d){for(var e=[],f=c;d>f;f++)D.ok("undefined"!=typeof this[f],"copying undefined buffer bytes!"),e.push(this[f]);for(var f=b;f<b+e.length;f++)a[f]=e[f-b]},d.prototype.fill=function(a,b,c){if(c>this.length)throw new Error("oob");if(b>c)throw new Error("oob");for(var d=b;c>d;d++)this[d]=a},c.SlowBuffer=d,c.Buffer=l,l.poolSize=8192;var E;l.isBuffer=function(a){return a instanceof l||a instanceof d},l.concat=function(a,b){if(!Array.isArray(a))throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(0===a.length)return new l(0);if(1===a.length)return a[0];if("number"!=typeof b){b=0;for(var c=0;c<a.length;c++){var d=a[c];b+=d.length}}for(var e=new l(b),f=0,c=0;c<a.length;c++){var d=a[c];d.copy(e,f),f+=d.length}return e},l.prototype.inspect=function(){for(var a=[],b=this.length,d=0;b>d;d++)if(a[d]=e(this.parent[d+this.offset]),d==c.INSPECT_MAX_BYTES){a[d+1]="...";break}return"<Buffer "+a.join(" ")+">"},l.prototype.get=function(a){if(0>a||a>=this.length)throw new Error("oob");return this.parent[this.offset+a]},l.prototype.set=function(a,b){if(0>a||a>=this.length)throw new Error("oob");return this.parent[this.offset+a]=b},l.prototype.write=function(a,b,c,e){if(isFinite(b))isFinite(c)||(e=c,c=void 0);else{var f=e;e=b,b=c,c=f}b=+b||0;var g=this.length-b;c?(c=+c,c>g&&(c=g)):c=g,e=String(e||"utf8").toLowerCase();var h;switch(e){case"hex":h=this.parent.hexWrite(a,this.offset+b,c);
break;case"utf8":case"utf-8":h=this.parent.utf8Write(a,this.offset+b,c);break;case"ascii":h=this.parent.asciiWrite(a,this.offset+b,c);break;case"binary":h=this.parent.binaryWrite(a,this.offset+b,c);break;case"base64":h=this.parent.base64Write(a,this.offset+b,c);break;case"ucs2":case"ucs-2":h=this.parent.ucs2Write(a,this.offset+b,c);break;default:throw new Error("Unknown encoding")}return l._charsWritten=d._charsWritten,h},l.prototype.toString=function(a,b,c){switch(a=String(a||"utf8").toLowerCase(),"undefined"==typeof b||0>b?b=0:b>this.length&&(b=this.length),"undefined"==typeof c||c>this.length?c=this.length:0>c&&(c=0),b+=this.offset,c+=this.offset,a){case"hex":return this.parent.hexSlice(b,c);case"utf8":case"utf-8":return this.parent.utf8Slice(b,c);case"ascii":return this.parent.asciiSlice(b,c);case"binary":return this.parent.binarySlice(b,c);case"base64":return this.parent.base64Slice(b,c);case"ucs2":case"ucs-2":return this.parent.ucs2Slice(b,c);default:throw new Error("Unknown encoding")}},l.byteLength=d.byteLength,l.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),"string"==typeof a&&(a=a.charCodeAt(0)),"number"!=typeof a||isNaN(a))throw new Error("value is not a number");if(b>c)throw new Error("end < start");if(c===b)return 0;if(0==this.length)return 0;if(0>b||b>=this.length)throw new Error("start out of bounds");if(0>c||c>this.length)throw new Error("end out of bounds");return this.parent.fill(a,b+this.offset,c+this.offset)},l.prototype.copy=function(a,b,c,d){var e=this;if(c||(c=0),d||(d=this.length),b||(b=0),c>d)throw new Error("sourceEnd < sourceStart");if(d===c)return 0;if(0==a.length||0==e.length)return 0;if(0>b||b>=a.length)throw new Error("targetStart out of bounds");if(0>c||c>=e.length)throw new Error("sourceStart out of bounds");if(0>d||d>e.length)throw new Error("sourceEnd out of bounds");return d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c),this.parent.copy(a.parent,b+a.offset,c+this.offset,d+this.offset)},l.prototype.slice=function(a,b){if(void 0===b&&(b=this.length),b>this.length)throw new Error("oob");if(a>b)throw new Error("oob");return new l(this.parent,b-a,+a+this.offset)},l.prototype.utf8Slice=function(a,b){return this.toString("utf8",a,b)},l.prototype.binarySlice=function(a,b){return this.toString("binary",a,b)},l.prototype.asciiSlice=function(a,b){return this.toString("ascii",a,b)},l.prototype.utf8Write=function(a,b){return this.write(a,b,"utf8")},l.prototype.binaryWrite=function(a,b){return this.write(a,b,"binary")},l.prototype.asciiWrite=function(a,b){return this.write(a,b,"ascii")},l.prototype.readUInt8=function(a,b){var c=this;return b||(D.ok(void 0!==a&&null!==a,"missing offset"),D.ok(a<c.length,"Trying to read beyond buffer length")),a>=c.length?void 0:c.parent[c.offset+a]},l.prototype.readUInt16LE=function(a,b){return o(this,a,!1,b)},l.prototype.readUInt16BE=function(a,b){return o(this,a,!0,b)},l.prototype.readUInt32LE=function(a,b){return p(this,a,!1,b)},l.prototype.readUInt32BE=function(a,b){return p(this,a,!0,b)},l.prototype.readInt8=function(a,b){var c,d=this;return b||(D.ok(void 0!==a&&null!==a,"missing offset"),D.ok(a<d.length,"Trying to read beyond buffer length")),a>=d.length?void 0:(c=128&d.parent[d.offset+a],c?-1*(255-d.parent[d.offset+a]+1):d.parent[d.offset+a])},l.prototype.readInt16LE=function(a,b){return q(this,a,!1,b)},l.prototype.readInt16BE=function(a,b){return q(this,a,!0,b)},l.prototype.readInt32LE=function(a,b){return r(this,a,!1,b)},l.prototype.readInt32BE=function(a,b){return r(this,a,!0,b)},l.prototype.readFloatLE=function(a,b){return s(this,a,!1,b)},l.prototype.readFloatBE=function(a,b){return s(this,a,!0,b)},l.prototype.readDoubleLE=function(a,b){return t(this,a,!1,b)},l.prototype.readDoubleBE=function(a,b){return t(this,a,!0,b)},l.prototype.writeUInt8=function(a,b,c){var d=this;c||(D.ok(void 0!==a&&null!==a,"missing value"),D.ok(void 0!==b&&null!==b,"missing offset"),D.ok(b<d.length,"trying to write beyond buffer length"),u(a,255)),b<d.length&&(d.parent[d.offset+b]=a)},l.prototype.writeUInt16LE=function(a,b,c){v(this,a,b,!1,c)},l.prototype.writeUInt16BE=function(a,b,c){v(this,a,b,!0,c)},l.prototype.writeUInt32LE=function(a,b,c){w(this,a,b,!1,c)},l.prototype.writeUInt32BE=function(a,b,c){w(this,a,b,!0,c)},l.prototype.writeInt8=function(a,b,c){var d=this;c||(D.ok(void 0!==a&&null!==a,"missing value"),D.ok(void 0!==b&&null!==b,"missing offset"),D.ok(b<d.length,"Trying to write beyond buffer length"),x(a,127,-128)),a>=0?d.writeUInt8(a,b,c):d.writeUInt8(255+a+1,b,c)},l.prototype.writeInt16LE=function(a,b,c){z(this,a,b,!1,c)},l.prototype.writeInt16BE=function(a,b,c){z(this,a,b,!0,c)},l.prototype.writeInt32LE=function(a,b,c){A(this,a,b,!1,c)},l.prototype.writeInt32BE=function(a,b,c){A(this,a,b,!0,c)},l.prototype.writeFloatLE=function(a,b,c){B(this,a,b,!1,c)},l.prototype.writeFloatBE=function(a,b,c){B(this,a,b,!0,c)},l.prototype.writeDoubleLE=function(a,b,c){C(this,a,b,!1,c)},l.prototype.writeDoubleBE=function(a,b,c){C(this,a,b,!0,c)},d.prototype.readUInt8=l.prototype.readUInt8,d.prototype.readUInt16LE=l.prototype.readUInt16LE,d.prototype.readUInt16BE=l.prototype.readUInt16BE,d.prototype.readUInt32LE=l.prototype.readUInt32LE,d.prototype.readUInt32BE=l.prototype.readUInt32BE,d.prototype.readInt8=l.prototype.readInt8,d.prototype.readInt16LE=l.prototype.readInt16LE,d.prototype.readInt16BE=l.prototype.readInt16BE,d.prototype.readInt32LE=l.prototype.readInt32LE,d.prototype.readInt32BE=l.prototype.readInt32BE,d.prototype.readFloatLE=l.prototype.readFloatLE,d.prototype.readFloatBE=l.prototype.readFloatBE,d.prototype.readDoubleLE=l.prototype.readDoubleLE,d.prototype.readDoubleBE=l.prototype.readDoubleBE,d.prototype.writeUInt8=l.prototype.writeUInt8,d.prototype.writeUInt16LE=l.prototype.writeUInt16LE,d.prototype.writeUInt16BE=l.prototype.writeUInt16BE,d.prototype.writeUInt32LE=l.prototype.writeUInt32LE,d.prototype.writeUInt32BE=l.prototype.writeUInt32BE,d.prototype.writeInt8=l.prototype.writeInt8,d.prototype.writeInt16LE=l.prototype.writeInt16LE,d.prototype.writeInt16BE=l.prototype.writeInt16BE,d.prototype.writeInt32LE=l.prototype.writeInt32LE,d.prototype.writeInt32BE=l.prototype.writeInt32BE,d.prototype.writeFloatLE=l.prototype.writeFloatLE,d.prototype.writeFloatBE=l.prototype.writeFloatBE,d.prototype.writeDoubleLE=l.prototype.writeDoubleLE,d.prototype.writeDoubleBE=l.prototype.writeDoubleBE},{assert:1,"./buffer_ieee754":5,"base64-js":7}],7:[function(a,b){!function(){"use strict";function a(a){var b,c,e,f,g,h;if(a.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(g=a.indexOf("="),g=g>0?a.length-g:0,h=[],e=g>0?a.length-4:a.length,b=0,c=0;e>b;b+=4,c+=3)f=d.indexOf(a[b])<<18|d.indexOf(a[b+1])<<12|d.indexOf(a[b+2])<<6|d.indexOf(a[b+3]),h.push((16711680&f)>>16),h.push((65280&f)>>8),h.push(255&f);return 2===g?(f=d.indexOf(a[b])<<2|d.indexOf(a[b+1])>>4,h.push(255&f)):1===g&&(f=d.indexOf(a[b])<<10|d.indexOf(a[b+1])<<4|d.indexOf(a[b+2])>>2,h.push(f>>8&255),h.push(255&f)),h}function c(a){function b(a){return d[a>>18&63]+d[a>>12&63]+d[a>>6&63]+d[63&a]}var c,e,f,g=a.length%3,h="";for(c=0,f=a.length-g;f>c;c+=3)e=(a[c]<<16)+(a[c+1]<<8)+a[c+2],h+=b(e);switch(g){case 1:e=a[a.length-1],h+=d[e>>2],h+=d[e<<4&63],h+="==";break;case 2:e=(a[a.length-2]<<8)+a[a.length-1],h+=d[e>>10],h+=d[e>>4&63],h+=d[e<<2&63],h+="="}return h}var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";b.exports.toByteArray=a,b.exports.fromByteArray=c}()},{}],8:[function(a,b,c){c.readIEEE754=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?0:e-1,m=c?1:-1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?0/0:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.writeIEEE754=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?f-1:0,o=d?-1:1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||1/0===b?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],3:[function(a,b,c){function d(a){this.length=a}function e(a){return 16>a?"0"+a.toString(16):a.toString(16)}function f(a){for(var b=[],c=0;c<a.length;c++)if(a.charCodeAt(c)<=127)b.push(a.charCodeAt(c));else for(var d=encodeURIComponent(a.charAt(c)).substr(1).split("%"),e=0;e<d.length;e++)b.push(parseInt(d[e],16));return b}function g(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function h(b){return a("base64-js").toByteArray(b)}function i(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);)b[e+c]=a[e],e++;return e}function j(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}function k(a){return a=~~Math.ceil(+a),0>a?0:a}function l(a,b,c){if(!(this instanceof l))return new l(a,b,c);var e;if("number"==typeof c)this.length=k(b),this.parent=a,this.offset=c;else{switch(e=typeof a){case"number":this.length=k(a);break;case"string":this.length=l.byteLength(a,b);break;case"object":this.length=k(a.length);break;default:throw new Error("First argument needs to be a number, array or string.")}if(this.length>l.poolSize?(this.parent=new d(this.length),this.offset=0):((!E||E.length-E.used<this.length)&&n(),this.parent=E,this.offset=E.used,E.used+=this.length),m(a))for(var f=0;f<this.length;f++)this.parent[f+this.offset]=a[f];else"string"==e&&(this.length=this.write(a,0,b))}}function m(a){return Array.isArray(a)||l.isBuffer(a)||a&&"object"==typeof a&&"number"==typeof a.length}function n(){E=new d(l.poolSize),E.used=0}function o(a,b,c,d){var e=0;return d||(D.ok("boolean"==typeof c,"missing or invalid endian"),D.ok(void 0!==b&&null!==b,"missing offset"),D.ok(b+1<a.length,"Trying to read beyond buffer length")),c?(e=a.parent[a.offset+b]<<8,e|=a.parent[a.offset+b+1]):(e=a.parent[a.offset+b],e|=a.parent[a.offset+b+1]<<8),e}function p(a,b,c,d){var e=0;return d||(D.ok("boolean"==typeof c,"missing or invalid endian"),D.ok(void 0!==b&&null!==b,"missing offset"),D.ok(b+3<a.length,"Trying to read beyond buffer length")),c?(e=a.parent[a.offset+b+1]<<16,e|=a.parent[a.offset+b+2]<<8,e|=a.parent[a.offset+b+3],e+=a.parent[a.offset+b]<<24>>>0):(e=a.parent[a.offset+b+2]<<16,e|=a.parent[a.offset+b+1]<<8,e|=a.parent[a.offset+b],e+=a.parent[a.offset+b+3]<<24>>>0),e}function q(a,b,c,d){var e,f;return d||(D.ok("boolean"==typeof c,"missing or invalid endian"),D.ok(void 0!==b&&null!==b,"missing offset"),D.ok(b+1<a.length,"Trying to read beyond buffer length")),f=o(a,b,c,d),e=32768&f,e?-1*(65535-f+1):f}function r(a,b,c,d){var e,f;return d||(D.ok("boolean"==typeof c,"missing or invalid endian"),D.ok(void 0!==b&&null!==b,"missing offset"),D.ok(b+3<a.length,"Trying to read beyond buffer length")),f=p(a,b,c,d),e=2147483648&f,e?-1*(4294967295-f+1):f}function s(b,c,d,e){return e||(D.ok("boolean"==typeof d,"missing or invalid endian"),D.ok(c+3<b.length,"Trying to read beyond buffer length")),a("./buffer_ieee754").readIEEE754(b,c,d,23,4)}function t(b,c,d,e){return e||(D.ok("boolean"==typeof d,"missing or invalid endian"),D.ok(c+7<b.length,"Trying to read beyond buffer length")),a("./buffer_ieee754").readIEEE754(b,c,d,52,8)}function u(a,b){D.ok("number"==typeof a,"cannot write a non-number as a number"),D.ok(a>=0,"specified a negative value for writing an unsigned value"),D.ok(b>=a,"value is larger than maximum value for type"),D.ok(Math.floor(a)===a,"value has a fractional component")}function v(a,b,c,d,e){e||(D.ok(void 0!==b&&null!==b,"missing value"),D.ok("boolean"==typeof d,"missing or invalid endian"),D.ok(void 0!==c&&null!==c,"missing offset"),D.ok(c+1<a.length,"trying to write beyond buffer length"),u(b,65535)),d?(a.parent[a.offset+c]=(65280&b)>>>8,a.parent[a.offset+c+1]=255&b):(a.parent[a.offset+c+1]=(65280&b)>>>8,a.parent[a.offset+c]=255&b)}function w(a,b,c,d,e){e||(D.ok(void 0!==b&&null!==b,"missing value"),D.ok("boolean"==typeof d,"missing or invalid endian"),D.ok(void 0!==c&&null!==c,"missing offset"),D.ok(c+3<a.length,"trying to write beyond buffer length"),u(b,4294967295)),d?(a.parent[a.offset+c]=b>>>24&255,a.parent[a.offset+c+1]=b>>>16&255,a.parent[a.offset+c+2]=b>>>8&255,a.parent[a.offset+c+3]=255&b):(a.parent[a.offset+c+3]=b>>>24&255,a.parent[a.offset+c+2]=b>>>16&255,a.parent[a.offset+c+1]=b>>>8&255,a.parent[a.offset+c]=255&b)}function x(a,b,c){D.ok("number"==typeof a,"cannot write a non-number as a number"),D.ok(b>=a,"value larger than maximum allowed value"),D.ok(a>=c,"value smaller than minimum allowed value"),D.ok(Math.floor(a)===a,"value has a fractional component")}function y(a,b,c){D.ok("number"==typeof a,"cannot write a non-number as a number"),D.ok(b>=a,"value larger than maximum allowed value"),D.ok(a>=c,"value smaller than minimum allowed value")}function z(a,b,c,d,e){e||(D.ok(void 0!==b&&null!==b,"missing value"),D.ok("boolean"==typeof d,"missing or invalid endian"),D.ok(void 0!==c&&null!==c,"missing offset"),D.ok(c+1<a.length,"Trying to write beyond buffer length"),x(b,32767,-32768)),b>=0?v(a,b,c,d,e):v(a,65535+b+1,c,d,e)}function A(a,b,c,d,e){e||(D.ok(void 0!==b&&null!==b,"missing value"),D.ok("boolean"==typeof d,"missing or invalid endian"),D.ok(void 0!==c&&null!==c,"missing offset"),D.ok(c+3<a.length,"Trying to write beyond buffer length"),x(b,2147483647,-2147483648)),b>=0?w(a,b,c,d,e):w(a,4294967295+b+1,c,d,e)}function B(b,c,d,e,f){f||(D.ok(void 0!==c&&null!==c,"missing value"),D.ok("boolean"==typeof e,"missing or invalid endian"),D.ok(void 0!==d&&null!==d,"missing offset"),D.ok(d+3<b.length,"Trying to write beyond buffer length"),y(c,3.4028234663852886e38,-3.4028234663852886e38)),a("./buffer_ieee754").writeIEEE754(b,c,d,e,23,4)}function C(b,c,d,e,f){f||(D.ok(void 0!==c&&null!==c,"missing value"),D.ok("boolean"==typeof e,"missing or invalid endian"),D.ok(void 0!==d&&null!==d,"missing offset"),D.ok(d+7<b.length,"Trying to write beyond buffer length"),y(c,1.7976931348623157e308,-1.7976931348623157e308)),a("./buffer_ieee754").writeIEEE754(b,c,d,e,52,8)}var D=a("assert");c.INSPECT_MAX_BYTES=50,d.byteLength=function(a,b){switch(b||"utf8"){case"hex":return a.length/2;case"utf8":case"utf-8":return f(a).length;case"ascii":return a.length;case"base64":return h(a).length;default:throw new Error("Unknown encoding")}},d.prototype.utf8Write=function(a,b,c){return d._charsWritten=i(f(a),this,b,c)},d.prototype.asciiWrite=function(a,b,c){return d._charsWritten=i(g(a),this,b,c)},d.prototype.base64Write=function(a,b,c){return d._charsWritten=i(h(a),this,b,c)},d.prototype.base64Slice=function(){var b=Array.prototype.slice.apply(this,arguments);return a("base64-js").fromByteArray(b)},d.prototype.utf8Slice=function(){for(var a=Array.prototype.slice.apply(this,arguments),b="",c="",d=0;d<a.length;)a[d]<=127?(b+=j(c)+String.fromCharCode(a[d]),c=""):c+="%"+a[d].toString(16),d++;return b+j(c)},d.prototype.asciiSlice=function(){for(var a=Array.prototype.slice.apply(this,arguments),b="",c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},d.prototype.inspect=function(){for(var a=[],b=this.length,d=0;b>d;d++)if(a[d]=e(this[d]),d==c.INSPECT_MAX_BYTES){a[d+1]="...";break}return"<SlowBuffer "+a.join(" ")+">"},d.prototype.hexSlice=function(a,b){var c=this.length;(!a||0>a)&&(a=0),(!b||0>b||b>c)&&(b=c);for(var d="",f=a;b>f;f++)d+=e(this[f]);return d},d.prototype.toString=function(a,b,c){if(a=String(a||"utf8").toLowerCase(),b=+b||0,"undefined"==typeof c&&(c=this.length),+c==b)return"";switch(a){case"hex":return this.hexSlice(b,c);case"utf8":case"utf-8":return this.utf8Slice(b,c);case"ascii":return this.asciiSlice(b,c);case"binary":return this.binarySlice(b,c);case"base64":return this.base64Slice(b,c);case"ucs2":case"ucs-2":return this.ucs2Slice(b,c);default:throw new Error("Unknown encoding")}},d.prototype.hexWrite=function(a,b,c){b=+b||0;var e=this.length-b;c?(c=+c,c>e&&(c=e)):c=e;var f=a.length;if(f%2)throw new Error("Invalid hex string");c>f/2&&(c=f/2);for(var g=0;c>g;g++){var h=parseInt(a.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");this[b+g]=h}return d._charsWritten=2*g,g},d.prototype.write=function(a,b,c,d){if(isFinite(b))isFinite(c)||(d=c,c=void 0);else{var e=d;d=b,b=c,c=e}b=+b||0;var f=this.length-b;switch(c?(c=+c,c>f&&(c=f)):c=f,d=String(d||"utf8").toLowerCase()){case"hex":return this.hexWrite(a,b,c);case"utf8":case"utf-8":return this.utf8Write(a,b,c);case"ascii":return this.asciiWrite(a,b,c);case"binary":return this.binaryWrite(a,b,c);case"base64":return this.base64Write(a,b,c);case"ucs2":case"ucs-2":return this.ucs2Write(a,b,c);default:throw new Error("Unknown encoding")}},d.prototype.slice=function(a,b){if(void 0===b&&(b=this.length),b>this.length)throw new Error("oob");if(a>b)throw new Error("oob");return new l(this,b-a,+a)},d.prototype.copy=function(a,b,c,d){for(var e=[],f=c;d>f;f++)D.ok("undefined"!=typeof this[f],"copying undefined buffer bytes!"),e.push(this[f]);for(var f=b;f<b+e.length;f++)a[f]=e[f-b]},c.SlowBuffer=d,c.Buffer=l,l.poolSize=8192;var E;l.isBuffer=function(a){return a instanceof l||a instanceof d},l.concat=function(a,b){if(!Array.isArray(a))throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(0===a.length)return new l(0);if(1===a.length)return a[0];if("number"!=typeof b){b=0;for(var c=0;c<a.length;c++){var d=a[c];b+=d.length}}for(var e=new l(b),f=0,c=0;c<a.length;c++){var d=a[c];d.copy(e,f),f+=d.length}return e},l.prototype.inspect=function(){for(var a=[],b=this.length,d=0;b>d;d++)if(a[d]=e(this.parent[d+this.offset]),d==c.INSPECT_MAX_BYTES){a[d+1]="...";break}return"<Buffer "+a.join(" ")+">"},l.prototype.get=function(a){if(0>a||a>=this.length)throw new Error("oob");return this.parent[this.offset+a]},l.prototype.set=function(a,b){if(0>a||a>=this.length)throw new Error("oob");return this.parent[this.offset+a]=b},l.prototype.write=function(a,b,c,e){if(isFinite(b))isFinite(c)||(e=c,c=void 0);else{var f=e;e=b,b=c,c=f}b=+b||0;var g=this.length-b;c?(c=+c,c>g&&(c=g)):c=g,e=String(e||"utf8").toLowerCase();var h;switch(e){case"hex":h=this.parent.hexWrite(a,this.offset+b,c);break;case"utf8":case"utf-8":h=this.parent.utf8Write(a,this.offset+b,c);break;case"ascii":h=this.parent.asciiWrite(a,this.offset+b,c);break;case"binary":h=this.parent.binaryWrite(a,this.offset+b,c);break;case"base64":h=this.parent.base64Write(a,this.offset+b,c);break;case"ucs2":case"ucs-2":h=this.parent.ucs2Write(a,this.offset+b,c);break;default:throw new Error("Unknown encoding")}return l._charsWritten=d._charsWritten,h},l.prototype.toString=function(a,b,c){switch(a=String(a||"utf8").toLowerCase(),"undefined"==typeof b||0>b?b=0:b>this.length&&(b=this.length),"undefined"==typeof c||c>this.length?c=this.length:0>c&&(c=0),b+=this.offset,c+=this.offset,a){case"hex":return this.parent.hexSlice(b,c);case"utf8":case"utf-8":return this.parent.utf8Slice(b,c);case"ascii":return this.parent.asciiSlice(b,c);case"binary":return this.parent.binarySlice(b,c);case"base64":return this.parent.base64Slice(b,c);case"ucs2":case"ucs-2":return this.parent.ucs2Slice(b,c);default:throw new Error("Unknown encoding")}},l.byteLength=d.byteLength,l.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),"string"==typeof a&&(a=a.charCodeAt(0)),"number"!=typeof a||isNaN(a))throw new Error("value is not a number");if(b>c)throw new Error("end < start");if(c===b)return 0;if(0==this.length)return 0;if(0>b||b>=this.length)throw new Error("start out of bounds");if(0>c||c>this.length)throw new Error("end out of bounds");return this.parent.fill(a,b+this.offset,c+this.offset)},l.prototype.copy=function(a,b,c,d){var e=this;if(c||(c=0),d||(d=this.length),b||(b=0),c>d)throw new Error("sourceEnd < sourceStart");if(d===c)return 0;if(0==a.length||0==e.length)return 0;if(0>b||b>=a.length)throw new Error("targetStart out of bounds");if(0>c||c>=e.length)throw new Error("sourceStart out of bounds");if(0>d||d>e.length)throw new Error("sourceEnd out of bounds");return d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c),this.parent.copy(a.parent,b+a.offset,c+this.offset,d+this.offset)},l.prototype.slice=function(a,b){if(void 0===b&&(b=this.length),b>this.length)throw new Error("oob");if(a>b)throw new Error("oob");return new l(this.parent,b-a,+a+this.offset)},l.prototype.utf8Slice=function(a,b){return this.toString("utf8",a,b)},l.prototype.binarySlice=function(a,b){return this.toString("binary",a,b)},l.prototype.asciiSlice=function(a,b){return this.toString("ascii",a,b)},l.prototype.utf8Write=function(a,b){return this.write(a,b,"utf8")},l.prototype.binaryWrite=function(a,b){return this.write(a,b,"binary")},l.prototype.asciiWrite=function(a,b){return this.write(a,b,"ascii")},l.prototype.readUInt8=function(a,b){var c=this;return b||(D.ok(void 0!==a&&null!==a,"missing offset"),D.ok(a<c.length,"Trying to read beyond buffer length")),c.parent[c.offset+a]},l.prototype.readUInt16LE=function(a,b){return o(this,a,!1,b)},l.prototype.readUInt16BE=function(a,b){return o(this,a,!0,b)},l.prototype.readUInt32LE=function(a,b){return p(this,a,!1,b)},l.prototype.readUInt32BE=function(a,b){return p(this,a,!0,b)},l.prototype.readInt8=function(a,b){var c,d=this;return b||(D.ok(void 0!==a&&null!==a,"missing offset"),D.ok(a<d.length,"Trying to read beyond buffer length")),c=128&d.parent[d.offset+a],c?-1*(255-d.parent[d.offset+a]+1):d.parent[d.offset+a]},l.prototype.readInt16LE=function(a,b){return q(this,a,!1,b)},l.prototype.readInt16BE=function(a,b){return q(this,a,!0,b)},l.prototype.readInt32LE=function(a,b){return r(this,a,!1,b)},l.prototype.readInt32BE=function(a,b){return r(this,a,!0,b)},l.prototype.readFloatLE=function(a,b){return s(this,a,!1,b)},l.prototype.readFloatBE=function(a,b){return s(this,a,!0,b)},l.prototype.readDoubleLE=function(a,b){return t(this,a,!1,b)},l.prototype.readDoubleBE=function(a,b){return t(this,a,!0,b)},l.prototype.writeUInt8=function(a,b,c){var d=this;c||(D.ok(void 0!==a&&null!==a,"missing value"),D.ok(void 0!==b&&null!==b,"missing offset"),D.ok(b<d.length,"trying to write beyond buffer length"),u(a,255)),d.parent[d.offset+b]=a},l.prototype.writeUInt16LE=function(a,b,c){v(this,a,b,!1,c)},l.prototype.writeUInt16BE=function(a,b,c){v(this,a,b,!0,c)},l.prototype.writeUInt32LE=function(a,b,c){w(this,a,b,!1,c)},l.prototype.writeUInt32BE=function(a,b,c){w(this,a,b,!0,c)},l.prototype.writeInt8=function(a,b,c){var d=this;c||(D.ok(void 0!==a&&null!==a,"missing value"),D.ok(void 0!==b&&null!==b,"missing offset"),D.ok(b<d.length,"Trying to write beyond buffer length"),x(a,127,-128)),a>=0?d.writeUInt8(a,b,c):d.writeUInt8(255+a+1,b,c)},l.prototype.writeInt16LE=function(a,b,c){z(this,a,b,!1,c)},l.prototype.writeInt16BE=function(a,b,c){z(this,a,b,!0,c)},l.prototype.writeInt32LE=function(a,b,c){A(this,a,b,!1,c)},l.prototype.writeInt32BE=function(a,b,c){A(this,a,b,!0,c)},l.prototype.writeFloatLE=function(a,b,c){B(this,a,b,!1,c)},l.prototype.writeFloatBE=function(a,b,c){B(this,a,b,!0,c)},l.prototype.writeDoubleLE=function(a,b,c){C(this,a,b,!1,c)},l.prototype.writeDoubleBE=function(a,b,c){C(this,a,b,!0,c)},d.prototype.readUInt8=l.prototype.readUInt8,d.prototype.readUInt16LE=l.prototype.readUInt16LE,d.prototype.readUInt16BE=l.prototype.readUInt16BE,d.prototype.readUInt32LE=l.prototype.readUInt32LE,d.prototype.readUInt32BE=l.prototype.readUInt32BE,d.prototype.readInt8=l.prototype.readInt8,d.prototype.readInt16LE=l.prototype.readInt16LE,d.prototype.readInt16BE=l.prototype.readInt16BE,d.prototype.readInt32LE=l.prototype.readInt32LE,d.prototype.readInt32BE=l.prototype.readInt32BE,d.prototype.readFloatLE=l.prototype.readFloatLE,d.prototype.readFloatBE=l.prototype.readFloatBE,d.prototype.readDoubleLE=l.prototype.readDoubleLE,d.prototype.readDoubleBE=l.prototype.readDoubleBE,d.prototype.writeUInt8=l.prototype.writeUInt8,d.prototype.writeUInt16LE=l.prototype.writeUInt16LE,d.prototype.writeUInt16BE=l.prototype.writeUInt16BE,d.prototype.writeUInt32LE=l.prototype.writeUInt32LE,d.prototype.writeUInt32BE=l.prototype.writeUInt32BE,d.prototype.writeInt8=l.prototype.writeInt8,d.prototype.writeInt16LE=l.prototype.writeInt16LE,d.prototype.writeInt16BE=l.prototype.writeInt16BE,d.prototype.writeInt32LE=l.prototype.writeInt32LE,d.prototype.writeInt32BE=l.prototype.writeInt32BE,d.prototype.writeFloatLE=l.prototype.writeFloatLE,d.prototype.writeFloatBE=l.prototype.writeFloatBE,d.prototype.writeDoubleLE=l.prototype.writeDoubleLE,d.prototype.writeDoubleBE=l.prototype.writeDoubleBE},{assert:1,"./buffer_ieee754":8,"base64-js":9}],9:[function(a,b){!function(){"use strict";function a(a){var b,c,e,f,g,h;if(a.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(g=a.indexOf("="),g=g>0?a.length-g:0,h=[],e=g>0?a.length-4:a.length,b=0,c=0;e>b;b+=4,c+=3)f=d.indexOf(a[b])<<18|d.indexOf(a[b+1])<<12|d.indexOf(a[b+2])<<6|d.indexOf(a[b+3]),h.push((16711680&f)>>16),h.push((65280&f)>>8),h.push(255&f);return 2===g?(f=d.indexOf(a[b])<<2|d.indexOf(a[b+1])>>4,h.push(255&f)):1===g&&(f=d.indexOf(a[b])<<10|d.indexOf(a[b+1])<<4|d.indexOf(a[b+2])>>2,h.push(f>>8&255),h.push(255&f)),h}function c(a){function b(a){return d[a>>18&63]+d[a>>12&63]+d[a>>6&63]+d[63&a]}var c,e,f,g=a.length%3,h="";for(c=0,f=a.length-g;f>c;c+=3)e=(a[c]<<16)+(a[c+1]<<8)+a[c+2],h+=b(e);switch(g){case 1:e=a[a.length-1],h+=d[e>>2],h+=d[e<<4&63],h+="==";break;case 2:e=(a[a.length-2]<<8)+a[a.length-1],h+=d[e>>10],h+=d[e>>4&63],h+=d[e<<2&63],h+="="}return h}var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";b.exports.toByteArray=a,b.exports.fromByteArray=c}()},{}]},{},[]),b.exports=a("buffer-browserify")},{}],3:[function(a){var b,c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,function(a,b){return function(){return a.apply(b,arguments)}});b=a("1"),c=a("2"),d=a("3"),window.after=function(a,b){return setTimeout(b,a)},window.every=function(a,b){return setInterval(b,a)},e=function(){function e(a){var d,g;if(this.options=null!=a?a:{},this.onImageLoaded=f(this.onImageLoaded,this),null==(d=this.options).debug&&(d.debug=!1),null==(g=this.options).assetsPath&&(g.assetsPath="/build/assets"),null==this.options.container)throw new Error("No container given");this.options.container=$(this.options.container),this.options.container.addClass(e.classPrefix+"container"),this.photoProcessor=new b(this),this.ui=new c(this)}return e.classPrefix="imgly-",e.canvasContainerPadding=15,e.prototype.checkSupport=function(){var a;if(Modernizr.canvas&&Modernizr.canvastext)return!0;throw a=new Error("Canvas and / or Canvas Text drawing not supported"),a.name="NoSupportError",a.description="No Canvas support",a},e.prototype.getContainer=function(){return this.options.container},e.prototype.getHeight=function(){return this.options.container.height()},e.prototype.getPhotoProcessor=function(){return this.photoProcessor},e.prototype.buildAssetsPath=function(a){return this.options.assetsPath+"/"+a},e.prototype.run=function(b){var c,d,e=this;if(this.image=b,this.checkSupport(),null!=this.options.ratio&&(this.options.initialControls=a("4"),this.options.forceInitialControls=!0,this.options.operationOptionsHook=function(a){return a.setRatio(e.options.ratio)}),!("string"==typeof this.image||this.image instanceof Image))throw new Error("First parameter needs to be a String or an Image");if("string"==typeof this.image){if("data:image"!==this.image.slice(0,10))throw d=new Error("First parameter is a string, but not an image data URL"),d.name="InvalidError",d;c=this.image,this.image=new Image,this.image.src=c}return this.image.width>0&&this.image.height>0?this.onImageLoaded():this.image.onload=this.onImageLoaded},e.prototype.onImageLoaded=function(){var a=this;return this.ui.initialized?(this.photoProcessor.reset(),this.ui.resetControls()):(this.ui.init(),this.photoProcessor.setCanvas(this.ui.getCanvas()),this.ui.on("preview_operation",function(b){var c;return null!=(c=a.ui.getCurrentControls())&&c.setOperation(b),a.photoProcessor.setPreviewOperation(b)}),this.ui.on("back",function(){return a.photoProcessor.unsetPreviewOperation(),a.ui.resetControls()}),this.ui.on("done",function(){return a.photoProcessor.acceptPreviewOperation(),a.ui.resetControls()})),this.reset(),this.photoProcessor.setSourceImage(this.image),this.photoProcessor.renderPreview(function(){var b;return a.options.initialControls&&(b=a.ui.controls,b.switchToControls(a.options.initialControls,b.getCurrentControls(),{backButton:!a.options.forceInitialControls,showList:!a.options.forceInitialControls}),null!=a.options.operationOptionsHook)?a.options.operationOptionsHook(b.getCurrentControls().operation):void 0})},e.prototype.reset=function(){return this.photoProcessor.reset()},e.prototype.renderToDataURL=function(a,b,c){return null==b&&(b={}),"function"==typeof b&&(c=b,b={}),this.photoProcessor.renderImage(b,function(b,e){var f;return f=d.newCanvasFromImageData(e),c(null,f.toDataURL(a))})},e}(),window.imglyKit=e},{1:4,4:7,2:5,3:6,__browserify_Buffer:2,__browserify_process:1}],6:[function(a,b){{var c;a("__browserify_process"),a("__browserify_Buffer").Buffer}c={},c.sharedCanvas=document.createElement("canvas"),Modernizr.canvas&&(c.sharedContext=c.sharedCanvas.getContext("2d")),c.calculateCanvasSize=function(a){var b,c;return c=Math.min(a.container.width/a.image.width,a.container.height/a.image.height),b={width:a.image.width*c,height:a.image.height*c}},c.fingerprint=function(a){var b,c,d,e;if(b=0,!a.length)return b;for(d=0,e=a.length;e>d;d++)c=a[d],b=(b<<5)-b+c,b|=0;return b},c.getImageDataForImage=function(a){var b,c;return b=document.createElement("canvas"),b.width=a.width,b.height=a.height,c=b.getContext("2d"),c.drawImage(a,0,0),c.getImageData(0,0,a.width,a.height)},c.resizeImageSmooth=function(a,b){var d,e,f,g,h,i,j,k,l,m,n;for(l=c.getImageDataForImage(a),e=b.getImageData(0,0,b.canvas.width,b.canvas.height),m=l.data,f=e.data,g=b.canvas.width,d=b.canvas.height,i=new Resize(a.width,a.height,g,d,!0,!0,!1),j=i.resize(m),k=j.length,h=n=0;k>=0?k>n:n>k;h=k>=0?++n:--n)f[h]=255&j[h];return b.putImageData(e,0,0)},c.getResizedImageDataForImage=function(a,b,d){var e,f;return null==d&&(d={}),null==d.smooth&&(d.smooth=!1),e=document.createElement("canvas"),e.width=b.width,e.height=b.height,f=e.getContext("2d"),d.smooth?c.resizeImageSmooth(a,f):f.drawImage(a,0,0,a.width,a.height,0,0,e.width,e.height),f.getImageData(0,0,e.width,e.height)},c.cloneImageData=function(a){var b,c,d,e;for(c=this.sharedContext.createImageData(a.width,a.height),b=d=0,e=a.data.length;e>=0?e>d:d>e;b=e>=0?++d:--d)c.data[b]=a.data[b];return c},c.newCanvasWithDimensions=function(a){var b;return b=document.createElement("canvas"),b.width=a.width,b.height=a.height,b},c.newCanvasFromImageData=function(a){var b,c;return b=document.createElement("canvas"),b.width=a.width,b.height=a.height,c=b.getContext("2d"),c.putImageData(a,0,0),b},c.dasherize=function(a){return a.toLowerCase().replace(/[^\w\s-]/g," ").replace(/[-_\s]+/g,"-")},c.clamp=function(a,b,c){return Math.min(Math.max(a,b),c)},c.within=function(a,b,c){return a>b&&c>a},c.withinBoundaries=function(a,b){return null==b&&(b={x:{min:0,max:1},y:{min:0,max:1}}),!(a.x<b.x.min||a.x>b.x.max||a.y<b.y.min||a.y>b.y.max)},c.truncate=function(a,b){return null==b&&(b=10),a.length>b?a.substr(0,b-3)+"...":a},b.exports=c},{__browserify_Buffer:2,__browserify_process:1}],4:[function(a,b){{var c,d,e,f,g;a("__browserify_process"),a("__browserify_Buffer").Buffer}d=a("7"),f=a("8"),g=a("3"),c=a("9"),e=function(){function a(a){this.app=a,this.canvas=null,this.operationChain=new c,this.operationChainNeedsRender=!0,this.cachedPreviewImageData=null,this.previewOperation=null,this.rendering=!1}return a.prototype.setCanvas=function(a){this.canvas=a},a.prototype.setSourceImage=function(a){this.sourceImage=a},a.prototype.setPreviewOperation=function(a){return a.setContext(this.canvas.getContext()),this.previewOperation=a,a.renderPreview?this.renderPreview():void 0
},a.prototype.unsetPreviewOperation=function(){return this.previewOperation=null,this.renderPreview()},a.prototype.acceptPreviewOperation=function(){return this.previewOperation?(this.operationChainNeedsRender=!0,this.operationChain=this.operationChain.compose(this.previewOperation),this.previewOperation=null,this.renderPreview()):void 0},a.prototype.renderImage=function(a,b){var c,e,f,h,i,j,k,l;return h=new d("imglyPhotoProcessor#renderFullImage()",{debug:this.app.options.debug}),h.start(),a.maxSize||a.size?a.maxSize?(k=a.maxSize.split("x"),j=k[0],e=k[1],a={image:{width:this.sourceImage.width,height:this.sourceImage.height},container:{width:j-2*imglyKit.canvasContainerPadding,height:e-2*imglyKit.canvasContainerPadding}},c=g.calculateCanvasSize(a),f=g.getResizedImageDataForImage(this.sourceImage,c,{smooth:!0})):a.size&&(l=a.size.split("x"),j=l[0],e=l[1],j&&!e?(i=this.sourceImage.height/this.sourceImage.width,e=j*i):e&&!j&&(i=this.sourceImage.width/this.sourceImage.height,j=e*i),c={width:parseInt(j),height:parseInt(e)},f=g.getResizedImageDataForImage(this.sourceImage,c,{smooth:!0})):(c={width:this.sourceImage.width,height:this.sourceImage.height},f=g.getImageDataForImage(this.sourceImage)),this.render(f,{preview:!1},b)},a.prototype.renderPreview=function(a){return this.render(null,{preview:!0},a)},a.prototype.render=function(a,b,c){var e,g=this;if(!this.rendering)return this.rendering=!0,e=new d("imglyPhotoProcessor#render({ preview: "+b.preview+" })",{debug:this.app.options.debug}),e.start(),a=b.preview?this.renderOperationChainPreview(a):this.operationChain.apply(a),f(a).then(function(a){return b.preview&&g.operationChainNeedsRender&&(g.cachedPreviewImageData=a,g.operationChainNeedsRender=!1),g.previewOperation&&b.preview?g.previewOperation.apply(a):a}).then(function(a){return b.preview&&g.canvas.renderImageData(a),"function"==typeof c&&c(null,a),g.rendering=!1,e.stop(!0),a})},a.prototype.renderOperationChainPreview=function(a){var b,c;return this.operationChainNeedsRender?(b=this.canvas.getDimensionsForImage(this.sourceImage),null==this.resizedPreviewImageData?(c={width:b.width*(window.devicePixelRatio||1),height:b.height*(window.devicePixelRatio||1)},this.resizedPreviewImageData=a=g.getResizedImageDataForImage(this.sourceImage,c,{smooth:!0})):a=g.cloneImageData(this.resizedPreviewImageData),this.operationChain.apply(a)):g.cloneImageData(this.cachedPreviewImageData)},a.prototype.reset=function(){return this.operationChain=new c,this.previewOperation=null,this.rendering=!1,this.operationChainNeedsRender=!0,this.resizedPreviewImageData=null},a}(),b.exports=e},{9:10,3:6,7:8,8:9,__browserify_Buffer:2,__browserify_process:1}],5:[function(a,b){var c,d,e,f,g=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("11"),c=a("12"),e=a("events").EventEmitter,f=function(a){function b(a){this.app=a,this.initialized=!1}return h(b,a),b.prototype.getCanvas=function(){return this.canvas},b.prototype.getCurrentControls=function(){return this.controls.getCurrentControls()},b.prototype.init=function(){var a=this;return this.controls=new d(this.app,this),this.controls.on("preview_operation",function(b){return a.emit("preview_operation",b)}),this.controls.on("back",function(){return a.emit("back")}),this.controls.on("done",function(){return a.emit("done")}),this.canvas=new c(this.app,this,{height:this.controls.getHeight()}),this.initialized=!0},b.prototype.resetControls=function(){return this.controls.reset()},b}(e),b.exports=f},{12:13,11:12,__browserify_Buffer:2,__browserify_process:1,events:11}],7:[function(a,b){var c,d,e,f,g=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("14"),f=a("15"),d=a("16"),e=function(b){function c(b,d,e){this.app=b,this.ui=d,this.controls=e,c.__super__.constructor.apply(this,arguments),this.operationClass=a("17"),this.listItems=[{name:"Custom",cssClass:"custom",method:"setSize",arguments:["free"],"default":!0,options:{size:"free"}},{name:"Square",cssClass:"square",method:"setSize",arguments:["square"],options:{size:"square"}},{name:"4:3",cssClass:"4-3",method:"setSize",arguments:["4:3"],options:{size:"4:3"}},{name:"16:9",cssClass:"16-9",method:"setSize",arguments:["16:9"],options:{size:"16:9"}}]}return h(c,b),c.prototype.displayButtons=!0,c.prototype.minimumCropSize=50,c.prototype.singleOperation=!0,c.prototype.updateOptions=function(a){return this.operationOptions=a,this.resizeCanvasControls()},c.prototype.hasCanvasControls=!0,c.prototype.setupCanvasControls=function(a){var b,c,d,e,f,g,h,i;for(this.canvasControlsContainer=a,this.spotlightDivs={},h=["tl","tc","tr","lc","rc","bl","bc","br"],d=0,f=h.length;f>d;d++)c=h[d],b=$("<div>").addClass(imglyKit.classPrefix+"canvas-cropping-spotlight").addClass(imglyKit.classPrefix+"canvas-cropping-spotlight-"+c).appendTo(this.canvasControlsContainer),this.spotlightDivs[c]=b;for(this.centerDiv=$("<div>").addClass(imglyKit.classPrefix+"canvas-cropping-center").appendTo(this.canvasControlsContainer),this.knobs={},i=["tl","tr","bl","br"],e=0,g=i.length;g>e;e++)c=i[e],b=$("<div>").addClass(imglyKit.classPrefix+"canvas-knob").appendTo(this.canvasControlsContainer),this.knobs[c]=b;return this.handleCenterDragging(),this.handleTopLeftKnob(),this.handleBottomRightKnob(),this.handleBottomLeftKnob(),this.handleTopRightKnob()},c.prototype.handleTopRightKnob=function(){var a,b=this;return a=this.knobs.tr,a.mousedown(function(a){var c,e,g,h,i;return c=new d(0,0,b.canvasControlsContainer.width(),b.canvasControlsContainer.height()),g=new f(a.clientX,a.clientY),h=b.operationOptions.start.clone(),e=b.operationOptions.end.clone(),i=b.operationOptions.ratio,$(document).mouseup(function(){return $(document).off("mouseup"),$(document).off("mousemove")}),$(document).mousemove(function(a){var d,i,j,k,l;return d=new f(a.clientX,a.clientY).substract(g),i=(new f).copy(e).multiplyWithRect(c),k=(new f).copy(h).multiplyWithRect(c),0===b.operationOptions.ratio?(b.operationOptions.start.copy(k),b.operationOptions.start.y+=d.y,b.operationOptions.start.clamp(new f(k.x,1),new f(k.x,i.y-50)).divideByRect(c),b.operationOptions.end.copy(i),b.operationOptions.end.x+=d.x,b.operationOptions.end.clamp(new f(k.x+50,i.y),new f(c.width-1,i.y)).divideByRect(c)):(i.x+=(d.x-d.y)/2,i.clamp(k.x+50,c.width-1),l=i.x-k.x,j=l/b.operationOptions.ratio,i.y-j<1&&(j=b.operationOptions.end.y*c.height-1,l=j*b.operationOptions.ratio),b.operationOptions.end.x=(k.x+l)/c.width,b.operationOptions.start.y=(i.y-j)/c.height),b.resizeCanvasControls()})})},c.prototype.handleBottomLeftKnob=function(){var a,b=this;return a=this.knobs.bl,a.mousedown(function(a){var c,e,g,h,i;return c=new d(0,0,b.canvasControlsContainer.width(),b.canvasControlsContainer.height()),g=new f(a.clientX,a.clientY),h=b.operationOptions.start.clone(),e=b.operationOptions.end.clone(),i=b.operationOptions.ratio,$(document).mouseup(function(){return $(document).off("mouseup"),$(document).off("mousemove")}),$(document).mousemove(function(a){var d,i,j,k,l;return d=new f(a.clientX,a.clientY).substract(g),i=(new f).copy(e).multiplyWithRect(c),k=(new f).copy(h).multiplyWithRect(c),0===b.operationOptions.ratio?(b.operationOptions.end.copy(i),b.operationOptions.end.y+=d.y,b.operationOptions.end.clamp(new f(i.x,k.y+50),new f(i.x,c.height-1)).divideByRect(c),b.operationOptions.start.copy(k),b.operationOptions.start.x+=d.x,b.operationOptions.start.clamp(new f(1,1),new f(i.x-50,i.y-50)).divideByRect(c)):(k.x+=(d.x-d.y)/2,k.clamp(1,i.x-50),l=i.x-k.x,j=l/b.operationOptions.ratio,k.y+j>c.height-1&&(j=(1-b.operationOptions.start.y)*c.height-1,l=j*b.operationOptions.ratio),b.operationOptions.start.x=(i.x-l)/c.width,b.operationOptions.end.y=(k.y+j)/c.height),b.resizeCanvasControls()})})},c.prototype.handleBottomRightKnob=function(){var a,b=this;return a=this.knobs.br,a.mousedown(function(a){var c,e,g,h;return c=new d(0,0,b.canvasControlsContainer.width(),b.canvasControlsContainer.height()),g=new f(a.clientX,a.clientY),e=(new f).copy(b.operationOptions.end),h=b.operationOptions.ratio,$(document).mouseup(function(){return $(document).off("mouseup"),$(document).off("mousemove")}),$(document).mousemove(function(a){var d,h,i,j,k;return d=new f(a.clientX,a.clientY).substract(g),h=(new f).copy(e).multiplyWithRect(c),j=(new f).copy(b.operationOptions.start).multiplyWithRect(c),0===b.operationOptions.ratio?b.operationOptions.end.copy(h).add(d).clamp(new f(j.x+50,j.y+50),new f(c.width-1,c.height-1)).divideByRect(c):(h.x+=(d.x+d.y)/2,h.clamp(j.x+50,c.width-1),k=h.x-j.x,i=k/b.operationOptions.ratio,j.y+i>c.height-1&&(i=(1-b.operationOptions.start.y)*c.height-1,k=i*b.operationOptions.ratio),b.operationOptions.end.copy(b.operationOptions.start).multiplyWithRect(c).add(new f(k,i)).divideByRect(c)),b.resizeCanvasControls()})})},c.prototype.handleTopLeftKnob=function(){var a,b=this;return a=this.knobs.tl,a.mousedown(function(a){var c,e,g,h;return c=new d(0,0,b.canvasControlsContainer.width(),b.canvasControlsContainer.height()),e=new f(a.clientX,a.clientY),g=(new f).copy(b.operationOptions.start),h=b.operationOptions.ratio,$(document).mouseup(function(){return $(document).off("mouseup"),$(document).off("mousemove")}),$(document).mousemove(function(a){var d,h,i,j,k;return d=new f(a.clientX,a.clientY).substract(e),0===b.operationOptions.ratio?b.operationOptions.start.copy(g).multiplyWithRect(c).add(d).divideByRect(c):(h=(new f).copy(b.operationOptions.end).multiplyWithRect(c),j=(new f).copy(g).multiplyWithRect(c),j.x+=(d.x+d.y)/2,j.clamp(1,h.x-50),k=h.x-j.x,i=k/b.operationOptions.ratio,h.y-i<1&&(i=b.operationOptions.end.y*c.height-1,k=i*b.operationOptions.ratio),b.operationOptions.start.copy(b.operationOptions.end).multiplyWithRect(c).substract(new f(k,i)).divideByRect(c)),b.resizeCanvasControls()})})},c.prototype.handleCenterDragging=function(){var a=this;return this.centerDiv.mousedown(function(b){var c,e,g,h,i,j,k;return c=new d(0,0,a.canvasControlsContainer.width(),a.canvasControlsContainer.height()),k=new f(1,1),j=new f(c.width-a.centerDiv.width()-1,c.height-a.centerDiv.height()-1),h=new f(b.clientX,b.clientY),i=(new f).copy(a.operationOptions.start),g=(new f).copy(a.operationOptions.end),e=new d(0,0,a.centerDiv.width(),a.centerDiv.height()),$(document).mouseup(function(){return $(document).off("mouseup"),$(document).off("mousemove")}),$(document).mousemove(function(b){var d,g;return d=new f(b.clientX,b.clientY),g=(new f).copy(d).substract(h),a.operationOptions.start.copy(i).multiplyWithRect(c).add(g).clamp(k,j).divideByRect(c),a.operationOptions.end.copy(a.operationOptions.start).multiplyWithRect(c).addRect(e).divideByRect(c),a.resizeCanvasControls()})})},c.prototype.updateOperationOptions=function(){var a,b;return b=this.canvasControlsContainer.width(),a=this.canvasControlsContainer.height(),this.operation.setStart(this.operationOptions.start.x/b,this.operationOptions.start.y/a),this.operation.setEnd(this.operationOptions.end.x/b,this.operationOptions.end.y/a)},c.prototype.resizeCanvasControls=function(){var a,b,c,e,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;for(c=new d(0,0,this.canvasControlsContainer.width(),this.canvasControlsContainer.height()),l=(new f).copy(this.operationOptions.start).multiplyWithRect(c),k=(new f).copy(this.operationOptions.end).multiplyWithRect(c),i=l.x,z=["tl","lc","bl"],n=0,r=z.length;r>n;n++)h=z[n],a=this.spotlightDivs[h],a.css({width:i,left:0}),null!=this.knobs[h]&&this.knobs[h].css({left:i});for(g=k.x-l.x,A=["tc","bc"],o=0,s=A.length;s>o;o++)h=A[o],a=this.spotlightDivs[h],a.css({width:g,left:i});for(j=c.width-g-i,B=["tr","rc","br"],p=0,t=B.length;t>p;p++)h=B[p],a=this.spotlightDivs[h],a.css({width:j,left:i+g}),null!=this.knobs[h]&&this.knobs[h].css({left:i+g});for(m=l.y,C=["tl","tc","tr"],q=0,u=C.length;u>q;q++)h=C[q],a=this.spotlightDivs[h],a.css({height:m,top:0}),null!=this.knobs[h]&&this.knobs[h].css({top:m});for(e=k.y-l.y,D=["lc","rc"],x=0,v=D.length;v>x;x++)h=D[x],a=this.spotlightDivs[h],a.css({height:e,top:m});for(b=c.height-m-e,E=["bl","bc","br"],y=0,w=E.length;w>y;y++)h=E[y],a=this.spotlightDivs[h],a.css({height:b,top:m+e}),null!=this.knobs[h]&&this.knobs[h].css({top:m+e});return this.centerDiv.css({height:e,width:g,left:i,top:m})},c}(c),b.exports=e},{16:16,15:15,17:17,14:14,__browserify_Buffer:2,__browserify_process:1}],8:[function(a,b){{var c;a("__browserify_process"),a("__browserify_Buffer").Buffer}c=function(){function a(a,b){var c,d,e;this.name=a,this.options=null!=b?b:{},null==(c=this.options).good&&(c.good=100),null==(d=this.options).bad&&(d.bad=500),null==(e=this.options).debug&&(e.debug=!0),this.started=!1}return a.prototype.start=function(){return!this.started&&this.options.debug?(this.start=+new Date,this.started=!0):void 0},a.prototype.stop=function(a){var b,c,d,e,f;if(this.started&&this.options.debug)return e=+new Date,d=e-this.start,f=null!=this.name?this.name+" took":"Code execution time:","undefined"!=typeof window&&null!==window?(d<this.options.good?(b="darkgreen",c="white"):d>this.options.good&&d<this.options.bad?(b="orange",c="black"):(b="darkred",c="white"),console.log("%c perf %c "+f+" %c "+d.toFixed(2)+"ms ","background: #222; color: #bada55","","background: "+b+"; color: "+c)):console.log("[perf] "+f+" "+d.toFixed(2)+"ms"),this.started=!1,a&&"undefined"!=typeof window&&null!==window?console.log("%c perf %c -- END --                                                                          ","background: #222; color: #bada55","background: #222; color: #ffffff"):void 0},a}(),b.exports=c},{__browserify_Buffer:2,__browserify_process:1}],9:[function(a,b){{var c,d;a("__browserify_process"),a("__browserify_Buffer").Buffer}d="undefined"!=typeof window?window.jQuery:a("q"),c=function(){return d.when.apply(d,arguments)},c.promise=function(){return"undefined"!=typeof window?function(a){var b;return b=d.Deferred(),a(b.resolve,b.reject,b.progress),b}:function(){return d.promise.apply(d,arguments)}}(),b.exports=c},{__browserify_Buffer:2,__browserify_process:1,q:18}],11:[function(a,b,c){function d(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(b===a[c])return c;return-1}{var e=a("__browserify_process");a("__browserify_Buffer").Buffer}e.EventEmitter||(e.EventEmitter=function(){});var f=c.EventEmitter=e.EventEmitter,g="function"==typeof Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},h=10;f.prototype.setMaxListeners=function(a){this._events||(this._events={}),this._events.maxListeners=a},f.prototype.emit=function(a){if("error"===a&&(!this._events||!this._events.error||g(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var b=this._events[a];if(!b)return!1;if("function"==typeof b){switch(arguments.length){case 1:b.call(this);break;case 2:b.call(this,arguments[1]);break;case 3:b.call(this,arguments[1],arguments[2]);break;default:var c=Array.prototype.slice.call(arguments,1);b.apply(this,c)}return!0}if(g(b)){for(var c=Array.prototype.slice.call(arguments,1),d=b.slice(),e=0,f=d.length;f>e;e++)d[e].apply(this,c);return!0}return!1},f.prototype.addListener=function(a,b){if("function"!=typeof b)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",a,b),this._events[a])if(g(this._events[a])){if(!this._events[a].warned){var c;c=void 0!==this._events.maxListeners?this._events.maxListeners:h,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace())}this._events[a].push(b)}else this._events[a]=[this._events[a],b];else this._events[a]=b;return this},f.prototype.on=f.prototype.addListener,f.prototype.once=function(a,b){var c=this;return c.on(a,function d(){c.removeListener(a,d),b.apply(this,arguments)}),this},f.prototype.removeListener=function(a,b){if("function"!=typeof b)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[a])return this;var c=this._events[a];if(g(c)){var e=d(c,b);if(0>e)return this;c.splice(e,1),0==c.length&&delete this._events[a]}else this._events[a]===b&&delete this._events[a];return this},f.prototype.removeAllListeners=function(a){return 0===arguments.length?(this._events={},this):(a&&this._events&&this._events[a]&&(this._events[a]=null),this)},f.prototype.listeners=function(a){return this._events||(this._events={}),this._events[a]||(this._events[a]=[]),g(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]},f.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?"function"==typeof a._events[b]?1:a._events[b].length:0}},{__browserify_Buffer:2,__browserify_process:1}],15:[function(a,b){{var c;a("__browserify_process"),a("__browserify_Buffer").Buffer}c=function(){function a(a,b){this.x=a,this.y=b,null==this.x&&(this.x=0),null==this.y&&(this.y=0)}return a.prototype.set=function(a,b){this.x=a,this.y=b},a.prototype.clone=function(){return new a(this.x,this.y)},a.prototype.copy=function(a){return this.x=a.x,this.y=a.y,this},a.prototype.clamp=function(b,c){return b instanceof a||(b=new a(b,b)),c instanceof a||(c=new a(c,c)),this.x=Math.max(b.x,Math.min(c.x,this.x)),this.y=Math.max(b.y,Math.min(c.y,this.y)),this},a.prototype.multiplyWithRect=function(a){return this.x*=a.width,this.y*=a.height,this},a.prototype.divide=function(b){return b instanceof a?(this.x/=b.x,this.y/=b.y):(this.x/=b,this.y/=b),this},a.prototype.divideByRect=function(a){return this.x/=a.width,this.y/=a.height,this},a.prototype.substract=function(b){return b instanceof a?(this.x-=b.x,this.y-=b.y):(this.x-=b,this.y-=b),this},a.prototype.substractRect=function(a){return this.x-=a.width,this.y-=a.height,this},a.prototype.addRect=function(a){return this.x+=a.width,this.y+=a.height,this},a.prototype.add=function(b){return b instanceof a?(this.x+=b.x,this.y+=b.y):(this.x+=b,this.y+=b),this},a.prototype.toString=function(){return"Vector2({ x: "+this.x+", y: "+this.y+" })"},a}(),b.exports=c},{__browserify_Buffer:2,__browserify_process:1}],16:[function(a,b){{var c;a("__browserify_process"),a("__browserify_Buffer").Buffer}c=function(){function a(a,b,c,d){this.x=a,this.y=b,this.width=c,this.height=d,null==this.x&&(this.x=0),null==this.y&&(this.y=0),null==this.width&&(this.width=0),null==this.height&&(this.height=0)}return a.prototype.set=function(a,b,c,d){this.x=a,this.y=b,this.width=c,this.height=d},a.prototype.setPosition=function(a,b){this.x=a,this.y=b},a.prototype.setDimensions=function(a,b){this.width=a,this.height=b},a.prototype.copy=function(a){return this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this},a.prototype.toString=function(){return"Rect({ x: "+this.x+", y: "+this.y+", width: "+this.width+", height: "+this.height+" })"},a}(),b.exports=c},{__browserify_Buffer:2,__browserify_process:1}],18:[function(a){a("__browserify_process"),a("__browserify_Buffer").Buffer},{__browserify_Buffer:2,__browserify_process:1}],12:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("23"),c=a("events").EventEmitter,e=function(a){function b(a,b){this.app=a,this.ui=b,this.container=this.app.getContainer(),this.init()}return g(b,a),b.prototype.getHeight=function(){return this.controlsContainer.height()},b.prototype.getContainer=function(){return this.controlsContainer},b.prototype.getCurrentControls=function(){return this.currentControls},b.prototype.init=function(){return this.controlsContainer=$("<div>").addClass(imglyKit.classPrefix+"controls-container").appendTo(this.container),this.initOverview()},b.prototype.initOverview=function(){return this.currentControls=this.overview=new d(this.app,this.ui,this),this.attachEvents(this.currentControls),this.overview.init(),null==this.app.options.initialControls?this.overview.show():void 0},b.prototype.attachEvents=function(a){var b=this;return a.on("select",function(c){return null!=c.controls&&b.switchToControls(c.controls,a),null!=c.operation?b.emit("preview_operation",new c.operation(b.app,c.options)):void 0}),a.on("back",function(){return b.emit("back")}),a.on("done",function(){return b.emit("done")}),a.on("renderPreview",function(){return b.app.getPhotoProcessor().renderPreview()})},b.prototype.switchToControls=function(a,b,c){var d,e,f,g=this;null==c&&(c={}),this.currentControls=new a(this.app,this.ui,this);for(e in c)f=c[e],this.currentControls.options[e]=f;return this.attachEvents(this.currentControls),this.currentControls.hasCanvasControls&&(d=this.ui.getCanvas().getControlsContainer(),this.currentControls.setupCanvasControls(d),d.fadeIn("slow")),this.currentControls.init(),b.hide(function(){return g.currentControls.show()})},b.prototype.reset=function(){var a,b=this;return this.overview.reset(),this.ui.getCanvas().getControlsContainer().hide().html(""),null!=(a=this.currentControls)?a.hide(function(){return b.currentControls.remove(),b.overview.show()}):void 0},b}(c),b.exports=e},{23:19,__browserify_Buffer:2,__browserify_process:1,events:11}],13:[function(a,b){{var c,d;a("__browserify_process"),a("__browserify_Buffer").Buffer}d=a("25"),c=function(){function a(a,b,c){this.app=a,this.ui=b,this.options=c,this.container=this.app.getContainer(),this.init()}return a.prototype.getContext=function(){return this.context},a.prototype.getImageData=function(){return this.context.getImageData(0,0,this.canvasDom.width,this.canvasDom.height)},a.prototype.init=function(){return this.canvasContainer=$("<div>").addClass(imglyKit.classPrefix+"canvas-container").css({height:this.app.getHeight()-this.options.height}).appendTo(this.container),this.canvas=$("<canvas>").addClass(imglyKit.classPrefix+"canvas").appendTo(this.canvasContainer),this.canvasDom=this.canvas.get(0),this.controlsContainer=$("<div>").addClass(imglyKit.classPrefix+"canvas-controls-container").appendTo(this.canvasContainer),this.context=this.canvasDom.getContext("2d")},a.prototype.renderImageData=function(a){var b;return this.resizeAndPositionCanvasToMatch(a),b=d.newCanvasFromImageData(a),this.context.clearRect(0,0,this.canvasDom.width,this.canvasDom.height),this.context.drawImage(b,0,0,a.width,a.height,0,0,this.canvasDom.width,this.canvasDom.height)},a.prototype.renderImage=function(a){return this.resizeAndPositionCanvasToMatch(a),this.context.clearRect(0,0,this.canvasDom.width,this.canvasDom.height),this.context.drawImage(a,0,0,a.width,a.height,0,0,this.canvasDom.width,this.canvasDom.height)},a.prototype.getDimensionsForImage=function(a){var b;return b={image:{width:a.width,height:a.height},container:{width:this.canvasContainer.width()-2*imglyKit.canvasContainerPadding,height:this.canvasContainer.height()-2*imglyKit.canvasContainerPadding}},d.calculateCanvasSize(b)},a.prototype.getControlsContainer=function(){return this.controlsContainer},a.prototype.resizeAndPositionCanvasToMatch=function(a){var b,c;return c={image:{width:a.width,height:a.height},container:{width:this.canvasContainer.width()-2*imglyKit.canvasContainerPadding,height:this.canvasContainer.height()-2*imglyKit.canvasContainerPadding}},b=d.calculateCanvasSize(c),this.canvas.css({width:b.width,height:b.height,top:Math.round((this.canvasContainer.height()-b.height)/2),left:Math.round((this.canvasContainer.width()-b.width)/2)}),this.controlsContainer.css({width:b.width,height:b.height,top:this.canvas.position().top,left:this.canvas.position().left}),this.canvasDom.width=b.width*(window.devicePixelRatio||1),this.canvasDom.height=b.height*(window.devicePixelRatio||1)},a.prototype.reset=function(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.controlsContainer.html("")},a}(),b.exports=c},{25:6,__browserify_Buffer:2,__browserify_process:1}],10:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("27"),d=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.apply=function(a){return a},b}(c),b.exports=d},{27:20,__browserify_Buffer:2,__browserify_process:1}],17:[function(a,b){var c,d,e,f,g=(a("__browserify_process"),a("__browserify_Buffer").Buffer,function(a,b){return function(){return a.apply(b,arguments)}}),h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("29"),e=a("25"),f=a("30"),c=function(a){function b(a,c){var d,e,h;this.app=a,this.options=null!=c?c:{},this.setRatio=g(this.setRatio,this),b.__super__.constructor.apply(this,arguments),null==(d=this.options).start&&(d.start=new f(.1,.1)),null==(e=this.options).end&&(e.end=new f(.9,.9)),null==(h=this.options).ratio&&(h.ratio=0)}return i(b,a),b.prototype.renderPreview=!1,b.prototype.setRatio=function(a){return this.options.ratio=a,this.setSize("custom")},b.prototype.setSize=function(a){var b,c,d,e,f;switch(f=this.app.ui.getCanvas().getImageData(),e=f.width,c=f.height,this.options.size=a,this.options.start.set(.1,.1),this.options.end.set(.9,.9),a){case"square":this.options.ratio=1;break;case"4:3":this.options.ratio=4/3;break;case"16:9":this.options.ratio=16/9;break;case"free":this.options.ratio=0}return this.options.ratio&&(e/c<=this.options.ratio?(this.options.start.x=.1,this.options.end.x=.9,b=1/c*(e/this.options.ratio)*.8,this.options.start.y=(1-b)/2,this.options.end.y=1-this.options.start.y):(this.options.start.y=.1,this.options.end.y=.9,d=1/e*this.options.ratio*c*.8,this.options.start.x=(1-d)/2,this.options.end.x=1-this.options.start.x)),this.emit("updateOptions",this.options)},b.prototype.setStart=function(a,b){return this.options.start.x=a,this.options.start.y=b},b.prototype.setEnd=function(a,b){return this.options.end.x=a,this.options.end.y=b},b.prototype.apply=function(a){var b,c,d,f,g,h,i,j;return h=a.width,f=a.height,b=e.newCanvasFromImageData(a),c=b.getContext("2d"),i=h*this.options.start.x,j=f*this.options.start.y,g=h*(this.options.end.x-this.options.start.x),d=f*(this.options.end.y-this.options.start.y),c.getImageData(i,j,g,d)},b}(d),b.exports=c},{30:15,25:6,29:21,__browserify_Buffer:2,__browserify_process:1}],14:[function(a,b){var c,d,e,f,g=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("32"),e=a("33"),d=function(a){function b(){return f=b.__super__.constructor.apply(this,arguments)}return h(b,a),b.prototype.displayButtons=!1,b.prototype.singleOperation=!1,b.prototype.init=function(){var a,b,c,d,f,g=this;for(this.createList(),this.allowMultipleClick||(this.optionSelected=!1),this.options.showList||this.list.hide(),d=this.listItems,f=[],b=0,c=d.length;c>b;b++)a=d[b],f.push(function(a){var b,c;return null==a.name?$("<li>").addClass(imglyKit.classPrefix+"controls-item-space").appendTo(g.list):(b=a.cssClass||e.dasherize(a.name),c=$("<li>").addClass(imglyKit.classPrefix+"controls-item").addClass(imglyKit.classPrefix+"controls-item-"+b).appendTo(g.list),c.click(function(){if(!g.allowMultipleClick){if(g.optionSelected)return;g.optionSelected=!0}return g.handleOptionSelect(a,c)}),null!=a["default"]?c.click():void 0)}(a));return f},b.prototype.setOperation=function(a){var b=this;return this.operation=a,this.updateOptions(this.operation.options),this.operation.on("updateOptions",function(a){return b.updateOptions(a)})},b.prototype.updateOptions=function(a){this.operationOptions=a},b.prototype.handleOptionSelect=function(a,b){var c;return this.setAllItemsInactive(),c=imglyKit.classPrefix+"controls-list-item-active",b.addClass(c),this.singleOperation&&(a.operation=this.operationClass),(!this.singleOperation||this.singleOperation&&!this.sentSelected)&&(this.emit("select",a),this.sentSelected=!0),a.method&&this.operation[a.method].apply(this.operation,a.arguments),null!=this.operation&&this.operation.renderPreview?this.emit("renderPreview"):void 0},b.prototype.createList=function(){return this.wrapper=$("<div>").addClass(imglyKit.classPrefix+"controls-wrapper").attr("data-control",this.constructor.name).appendTo(this.controls.getContainer()),this.list=$("<ul>").addClass(imglyKit.classPrefix+"controls-list").appendTo(this.wrapper),null!=this.cssClassIdentifier&&this.list.addClass(imglyKit.classPrefix+"controls-list-"+this.cssClassIdentifier),this.displayButtons?(this.list.addClass(imglyKit.classPrefix+"controls-list-with-buttons"),this.list.width(this.controls.getContainer().width()-2*this.controls.getHeight()),this.createButtons()):void 0},b.prototype.reset=function(){return this.allowMultipleClick||(this.optionSelected=!1),this.setAllItemsInactive()},b.prototype.setAllItemsInactive=function(){var a;return a=imglyKit.classPrefix+"controls-list-item-active",this.list.find("li").removeClass(a)},b}(c),b.exports=d},{33:6,32:22,__browserify_Buffer:2,__browserify_process:1}],19:[function(a,b){var c,d,e=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("14"),d=function(b){function c(b,d,e){this.app=b,this.ui=d,this.controls=e,c.__super__.constructor.apply(this,arguments),this.listItems=[{name:"Filters",cssClass:"filters",controls:a("35")},{name:"Orientation",cssClass:"orientation",controls:a("36")},{name:"Focus",cssClass:"focus",controls:a("37")},{name:"Crop",cssClass:"crop",controls:a("38"),operation:a("17")},{name:"Brightness",cssClass:"brightness",controls:a("39"),operation:a("40")},{name:"Contrast",cssClass:"contrast",controls:a("41"),operation:a("42")},{name:"Saturation",cssClass:"saturation",controls:a("43"),operation:a("44")},{name:"Text",cssClass:"text",controls:a("45"),operation:a("46")},{name:"Frames",cssClass:"frames",controls:a("47"),operation:a("48")}]}return f(c,b),c.prototype.allowMultipleClick=!1,c}(c),b.exports=d},{40:27,42:29,17:17,48:35,44:31,46:33,14:14,39:26,41:28,38:7,35:23,37:25,47:34,36:24,43:30,45:32,__browserify_Buffer:2,__browserify_process:1}],21:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},h=[].slice;e=a("50"),c=a("events").EventEmitter,d=function(a){function b(a,b){var c;this.app=a,this.options=null!=b?b:{},c=this.apply,this.apply=function(a){var b=this;return e(a).then(function(a){return c.call(b,a)})}}var c;return g(b,a),b.prototype.renderPreview=!0,b.prototype.setContext=function(a){this.context=a},b.prototype.setOptions=function(a){var b,c;for(b in a)c=a[b],this.options[b]=c;return this.emit("updateOptions",a)},b.prototype.apply=function(){throw Error("Abstract: Filter#apply")},c=function(a,c,d){var e,f;return null==d&&(d=[]),f=this,c.prototype instanceof b&&(c=function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(c,[this.app].concat(h.call(d)),function(){})),e="pre"===a?function(a){return f.apply(c.apply(a||this))}:"post"===a?function(a){return c.apply(f.apply(a||this))
}:void 0,e.compose=b.prototype.compose,e.precompose=b.prototype.precompose,e},b.prototype.compose=function(){var a,b;return b=arguments[0],a=2<=arguments.length?h.call(arguments,1):[],c.call(this,"post",b,a)},b.prototype.precompose=function(){var a,b;return b=arguments[0],a=2<=arguments.length?h.call(arguments,1):[],c.call(this,"pre",b,a)},b}(c),b.exports=d},{50:9,__browserify_Buffer:2,__browserify_process:1,events:11}],20:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("52"),c=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.preview=null,b.displayName=null,b}(d),b.exports=c},{52:21,__browserify_Buffer:2,__browserify_process:1}],22:[function(a,b){var c,d,e=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("events").EventEmitter,d=function(a){function b(a,b,c){var d,e;this.app=a,this.ui=b,this.controls=c,this.domCreated=!1,null==this.options&&(this.options={}),null==(d=this.options).backButton&&(d.backButton=!0),null==(e=this.options).showList&&(e.showList=!0)}return f(b,a),b.prototype.allowMultipleClick=!0,b.prototype.setOperation=function(a){this.operation=a},b.prototype.init=function(){},b.prototype.show=function(a){return this.wrapper.fadeIn("fast",a)},b.prototype.hide=function(a){return this.wrapper.fadeOut("fast",a)},b.prototype.reset=function(){},b.prototype.createButtons=function(){var a,b,c=this;return null==this.buttons&&(this.buttons={}),this.options.backButton&&(a=$("<div>").addClass(imglyKit.classPrefix+"controls-button-back").appendTo(this.wrapper),a.click(function(){return c.emit("back")}),this.buttons.back=a),b=$("<div>").addClass(imglyKit.classPrefix+"controls-button-done").appendTo(this.wrapper),b.click(function(){return c.emit("done")}),this.buttons.done=b},b.prototype.remove=function(){return this.wrapper.remove()},b}(c),b.exports=d},{__browserify_Buffer:2,__browserify_process:1,events:11}],27:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=a("55"),c=a("56"),d=function(a){function b(a,d){var e;this.app=a,this.options=null!=d?d:{},b.__super__.constructor.apply(this,arguments),null==(e=this.options).amount&&(e.amount=0),this.filter=new c({brightness:this.options.amount})}return g(b,a),b.prototype.apply=function(a){return this.filter.apply(a)},b.prototype.setBrightness=function(a){return this.options.amount=a,this.filter.setBrightness(a)},b}(e),b.exports=d},{55:20,56:36,__browserify_Buffer:2,__browserify_process:1}],29:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=a("55"),c=a("58"),d=function(a){function b(a,d){var e;this.app=a,this.options=null!=d?d:{},b.__super__.constructor.apply(this,arguments),null==(e=this.options).amount&&(e.amount=0),this.filter=new c(this.app,{contrast:this.options.amount})}return g(b,a),b.prototype.apply=function(a){return this.filter.apply(a)},b.prototype.setContrast=function(a){return this.options.amount=a,this.filter.setContrast(a)},b}(e),b.exports=d},{55:20,58:37,__browserify_Buffer:2,__browserify_process:1}],31:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("55"),d=a("60"),e=function(a){function b(a,c){var e;this.app=a,this.options=null!=c?c:{},b.__super__.constructor.apply(this,arguments),null==(e=this.options).amount&&(e.amount=0),this.filter=new d(this.app,{saturation:this.options.amount})}return g(b,a),b.prototype.apply=function(a){return this.filter.apply(a)},b.prototype.setSaturation=function(a){return this.options.amount=a,this.filter.setSaturation(a)},b}(c),b.exports=e},{55:20,60:38,__browserify_Buffer:2,__browserify_process:1}],33:[function(a,b){var c,d,e,f,g,h=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("29"),f=a("25"),g=a("30"),e=a("62"),c=function(a){function b(a,c){this.app=a,this.options=null!=c?c:{},b.__super__.constructor.apply(this,arguments),this.options.start=new g(.2,.2),this.options.width=300,this.options.font="Helvetica",this.options.text="Text",this.options.color="#ffffff",this.options.fontSize=.1,this.options.lineHeight=1.1,this.options.paddingLeft=0,this.options.paddingTop=0}return i(b,a),b.prototype.renderPreview=!1,b.prototype.setFont=function(a){return this.options.font=a,this.emit("updateOptions",this.options)},b.prototype.apply=function(a){var b,c,d,e,h,i,j,k,l,m,n,o;for(k=this.options.fontSize*a.height,j=new g(this.options.paddingLeft,this.options.paddingTop),l=(new g).copy(this.options.start).add(j).multiplyWithRect(a),b=f.newCanvasFromImageData(a),c=b.getContext("2d"),c.font="normal "+k+"px "+this.options.font,c.fillStyle=this.options.color,c.textBaseline="hanging",e=this.options.lineHeight,o=this.options.text.split("\n"),h=m=0,n=o.length;n>m;h=++m)d=o[h],i=h*k*e,c.fillText(d,l.x,l.y+this.options.paddingLeft+i);return c.getImageData(0,0,a.width,a.height)},b}(d),b.exports=c},{62:16,30:15,25:6,29:21,__browserify_Buffer:2,__browserify_process:1}],35:[function(a,b){var c,d,e,f,g,h,i=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("29"),g=a("25"),e=a("50"),h=a("30"),f=a("62"),c=function(a){function b(a,c){var d,e;this.app=a,this.options=null!=c?c:{},b.__super__.constructor.apply(this,arguments),null==(d=this.options).frame&&(d.frame="black"),null==(e=this.options).scale&&(e.scale=.1)}return j(b,a),b.prototype.renderPreview=!0,b.prototype.setFrameOptions=function(a,b){return this.options.frame=a,this.options.scale=b},b.prototype.apply=function(a){var b=this;return e.promise(function(a){var c;return c=new Image,c.onload=function(){return a(c)},c.src=b.app.buildAssetsPath("frames/"+b.options.frame+".png")}).then(function(c){var d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;if(D=b.analyzeFrameImage(c),w=D.xRepeatAreaStart,v=D.xRepeatAreaEnd,x=D.xRepeatMode,z=D.yRepeatAreaStart,y=D.yRepeatAreaEnd,A=D.yRepeatMode,h=D.frameCanvas,e=g.newCanvasFromImageData(a),f=e.getContext("2d"),t=z,l=h.height-y,m=Math.max(l,t),r=a.height*b.options.scale,k=Math.round(w*(r/m)),s=Math.round(r*(m/t)),q=Math.round((h.width-v)*(r/m)),d=Math.round(r*(m/l)),f.drawImage(h,0,0,w,z,0,0,k,s),f.drawImage(h,v,0,h.width-v,z,a.width-q,0,q,s),f.drawImage(h,0,y,w,h.height-y,0,a.height-d,k,d),f.drawImage(h,v,y,h.width-v,h.height-y,a.width-q,a.height-d,q,d),"stretch"===x)f.drawImage(h,w,0,v-w,z,k,0,a.width-k-q,s),f.drawImage(h,w,y,v-w,h.height-y,k,a.height-d,a.width-k-q,d);else if("repeat"===x){for(o=v-w,n=z,i=s,u=Math.round(i*(o/n)),p=Math.ceil(a.width/u),j=B=0;p>=0?p>B:B>p;j=p>=0?++B:--B)f.drawImage(h,w,0,v-w,z,k+j*u,0,u,i);for(n=h.height-y,i=d,u=Math.round(d*(o/n)),j=C=0;p>=0?p>C:C>p;j=p>=0?++C:--C)f.drawImage(h,w,y,v-w,h.height-y,k+j*u,a.height-d,u,i)}return"stretch"===A&&(f.drawImage(h,0,z,w,y-z,0,s,k,a.height-s-d),f.drawImage(h,v,z,h.width-v,y-z,a.width-q,s,q,a.height-s-d)),f.getImageData(0,0,a.width,a.height)})},b.prototype.analyzeFrameImage=function(a){var b,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;for(f=g.getImageDataForImage(a),m=null,l=null,n=null,k=s=0,u=f.width;u>=0?u>s:s>u;k=u>=0?++s:--s)i=4*k,j=f.data[i],h=f.data[i+1],c=f.data[i+2],b=f.data[i+3],255===j&&255===h&&255===c&&255===b&&(null==m&&(m=k-1),n="stretch"),0===j&&0===h&&0===c&&255===b&&(null==m&&(m=k-1),n="repeat"),255!==b&&null!=m&&null==l&&(l=k-1);for(q=null,p=null,r=null,o=t=0,v=f.height;v>=0?v>t:t>v;o=v>=0?++t:--t)i=f.width*o*4,j=f.data[i],h=f.data[i+1],c=f.data[i+2],b=f.data[i+3],255===j&&255===h&&255===c&&255===b&&(null==q&&(q=o-1),r="stretch"),0===j&&0===h&&0===c&&255===b&&(null==q&&(q=o-1),r="repeat"),255!==b&&null!=q&&null==p&&(p=o-1);return d=g.newCanvasWithDimensions({width:a.width-1,height:a.height-1}),e=d.getContext("2d"),e.putImageData(f,-1,-1),{xRepeatAreaStart:m,xRepeatAreaEnd:l,xRepeatMode:n,yRepeatAreaStart:q,yRepeatAreaEnd:p,yRepeatMode:r,frameCanvas:d}},b}(d),b.exports=c},{62:16,30:15,25:6,50:9,29:21,__browserify_Buffer:2,__browserify_process:1}],23:[function(a,b){var c,d,e,f,g=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("14"),e=a("65"),d=function(b){function c(){return f=c.__super__.constructor.apply(this,arguments)}return h(c,b),c.prototype.displayButtons=!0,c.prototype.cssClassIdentifier="filters",c.prototype.init=function(){var b,c,d,f,g,h=this;for(this.createList(),f=[a("66"),a("67"),a("68"),a("69"),a("70"),a("71"),a("72"),a("73"),a("74"),a("75"),a("76"),a("77"),a("78"),a("79"),a("80"),a("81"),a("82"),a("83"),a("84"),a("85"),a("86"),a("87"),a("88"),a("89"),a("90"),a("91"),a("92"),a("93"),a("94")],g=[],c=0,d=f.length;d>c;c++)b=f[c],g.push(function(a){var b,c;return b=$("<li>").addClass(imglyKit.classPrefix+"controls-item").appendTo(h.list),c=$("<div>").addClass(imglyKit.classPrefix+"controls-preview-"+e.dasherize(a.displayName)).appendTo(b),b.click(function(){var c;return h.reset(),c=imglyKit.classPrefix+"controls-list-item-active",b.addClass(c),h.emit("select",{operation:a})})}(b));return g},c}(c),b.exports=d},{93:66,72:45,78:51,79:52,86:59,74:47,66:39,76:49,84:57,71:44,75:48,85:58,90:63,67:40,68:41,69:42,70:43,80:53,89:62,91:64,88:61,73:46,83:56,82:55,81:54,94:67,92:65,87:60,77:50,65:6,14:14,__browserify_Buffer:2,__browserify_process:1}],24:[function(a,b){var c,d,e=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("14"),d=function(b){function c(b,d,e){this.app=b,this.ui=d,this.controls=e,c.__super__.constructor.apply(this,arguments),this.operationClass=a("96"),this.listItems=[{name:"Rotate L",cssClass:"rotate-l",method:"rotateLeft"},{name:"Rotate R",cssClass:"rotate-r",method:"rotateRight"},{name:"Flip V",cssClass:"flip-v",method:"flipVertically"},{name:"Flip H",cssClass:"flip-h",method:"flipHorizontally"}]}return f(c,b),c.prototype.displayButtons=!0,c.prototype.singleOperation=!0,c}(c),b.exports=d},{96:68,14:14,__browserify_Buffer:2,__browserify_process:1}],25:[function(a,b){var c,d,e,f,g,h,i=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("14"),e=a("65"),f=a("15"),h=a("98"),g=a("99"),d=function(a){function b(a,c,d){this.app=a,this.ui=c,this.controls=d,b.__super__.constructor.apply(this,arguments),this.listItems=[{name:"Radial",cssClass:"radial",operation:h,"default":!0},{name:"Linear",cssClass:"linear",operation:g}]}return j(b,a),b.prototype.displayButtons=!0,b.prototype.updateOptions=function(a){return this.operationOptions=a,this.rerenderCanvas()},b.prototype.onOptionsUpdated=function(){return this.operation.setOptions(this.operationOptions),this.rerenderCanvas(),this.repositionControls(),this.emit("renderPreview")},b.prototype.hasCanvasControls=!0,b.prototype.setupCanvasControls=function(a){var b,c;return this.canvasControlsContainer=a,c=this.canvasControlsContainer.width(),b=this.canvasControlsContainer.height(),this.canvas=$("<canvas>").css({width:c,height:b}).appendTo(this.canvasControlsContainer),this.canvas=this.canvas.get(0),this.canvas.width=$(this.canvas).width(),this.canvas.height=$(this.canvas).height(),this.context=this.canvas.getContext("2d"),window.devicePixelRatio>1?(this.canvas.width*=window.devicePixelRatio,this.canvas.height*=window.devicePixelRatio):void 0},b.prototype.handleOptionSelect=function(a){switch(b.__super__.handleOptionSelect.apply(this,arguments),a.operation){case h:this.setControlsMode("radial");break;case g:this.setControlsMode("linear")}return this.onOptionsUpdated()},b.prototype.setControlsMode=function(a){var b,c,d;for(this.controlsMode=a,this.canvasControlsContainer.find("div").remove(),this.knobs=[],b=d=0;1>=d;b=++d)c=$("<div>").addClass(imglyKit.classPrefix+"canvas-knob"),c.appendTo(this.canvasControlsContainer),this.knobs.push(c);return this.crosshair=$("<div>").addClass(imglyKit.classPrefix+"canvas-crosshair"),this.crosshair.appendTo(this.canvasControlsContainer),this.handleKnobControl(),this.handleCrosshairControl()},b.prototype.repositionControls=function(){var a,b,c,d,e,g,h,i;for(a={width:this.canvasControlsContainer.width(),height:this.canvasControlsContainer.height()},e=i=0;1>=i;e=++i)g=this.knobs[e],h=this.operationOptions["controlPoint"+(e+1)+"Position"],g.css({left:a.width*h.x,top:a.height*h.y});return b=(new f).copy(this.operationOptions.controlPoint1Position).multiplyWithRect(a),c=(new f).copy(this.operationOptions.controlPoint2Position).multiplyWithRect(a),d=(new f).copy(c).substract(b).divide(2),this.crosshair.css({left:b.x+d.x,top:b.y+d.y})},b.prototype.handleCrosshairControl=function(){var a,b=this;return a=new f(this.canvasControlsContainer.width(),this.canvasControlsContainer.height()),this.crosshair.mousedown(function(c){var d;return d=new f(c.clientX,c.clientY),$(document).mousemove(function(c){var g,h,i,j,k,l;for(j=new f(c.clientX,c.clientY).substract(d).divide(a),i={},h={},g=k=1;2>=k;g=++k)if(h[g]=b.operationOptions["controlPoint"+g+"Position"],i[g]=(new f).copy(h[g]).add(j),!e.withinBoundaries(i[g]))return;for(g=l=1;2>=l;g=++l)h[g].copy(i[g]);return d.set(c.clientX,c.clientY),b.onOptionsUpdated()}),$(document).mouseup(function(){return $(document).off("mousemove"),$(document).off("mouseup")})})},b.prototype.handleKnobControl=function(){var a,b,c,d,g,h,i,j=this;for(a=new f(this.canvasControlsContainer.width(),this.canvasControlsContainer.height()),h=this.knobs,i=[],b=d=0,g=h.length;g>d;b=++d)c=h[b],i.push(function(b,c){return b.mousedown(function(b){var d;return d=new f(b.clientX,b.clientY),$(document).mousemove(function(b){var g,h,i,k,l,m,n;return l=new f(b.clientX,b.clientY).substract(d).divide(a),g=c+1,h=j.operationOptions["controlPoint"+g+"Position"],m=0===c?2:1,n=j.operationOptions["controlPoint"+m+"Position"],i=(new f).copy(h).add(l),k=(new f).copy(n).substract(l),e.withinBoundaries(i)&&e.withinBoundaries(k)?(h.copy(i),n.copy(k),j.onOptionsUpdated(),d.set(b.clientX,b.clientY)):void 0}),$(document).mouseup(function(){return $(document).off("mouseup"),$(document).off("mousemove")})})}(c,b));return i},b.prototype.rerenderCanvas=function(){switch(this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.controlsMode){case"radial":return this.drawRadialControl();case"linear":return this.drawLinearControl()}},b.prototype.drawRadialControl=function(){var a,b,c,d,e,g,h,i,j,k;for(d=(new f).copy(this.operationOptions.controlPoint1Position).multiplyWithRect(this.canvas),e=(new f).copy(this.operationOptions.controlPoint2Position).multiplyWithRect(this.canvas),g=(new f).copy(e).substract(d).divide(2),h=Math.sqrt(Math.pow(g.x,2)+Math.pow(g.y,2)),a=(new f).copy(d).add(g),c=[["#FFFFFF",2*(window.devicePixelRatio||1),0],["rgba(0, 0, 0, 0.35)",2*(window.devicePixelRatio||1),2],["rgba(0, 0, 0, 0.35)",2*(window.devicePixelRatio||1),-1]],k=[],i=0,j=c.length;j>i;i++)b=c[i],this.context.beginPath(),this.context.arc(a.x,a.y,h+b[2],0,2*Math.PI,!1),this.context.lineWidth=b[1],this.context.strokeStyle=b[0],this.context.stroke(),k.push(this.context.closePath());return k},b.prototype.drawLinearControl=function(){var a,b,c,d,e,g,h,i,j,k,l;for(b=(new f).copy(this.operationOptions.controlPoint1Position).multiplyWithRect(this.canvas),c=(new f).copy(this.operationOptions.controlPoint2Position).multiplyWithRect(this.canvas),d=[b,c],g=(new f).copy(c).substract(b),e=Math.sqrt(Math.pow(this.canvas.width,2)+Math.pow(this.canvas.height,2)),l=[],j=k=0;1>=k;j=++k)a=d[j],i=[["#FFFFFF",2*(window.devicePixelRatio||1),0],["rgba(0, 0, 0, 0.35)",2*(window.devicePixelRatio||1),2],["rgba(0, 0, 0, 0.35)",2*(window.devicePixelRatio||1),-1]],l.push(function(){var b,c,d;for(d=[],b=0,c=i.length;c>b;b++)h=i[b],this.context.beginPath(),this.context.moveTo(a.x+g.y*e+h[2],a.y-g.x*e+h[2]),this.context.lineTo(a.x-g.y*e+h[2],a.y+g.x*e+h[2]),this.context.strokeStyle=h[0],this.context.lineWidth=h[1],this.context.stroke(),d.push(this.context.closePath());return d}.call(this));return l},b}(c),b.exports=d},{15:15,99:70,98:69,65:6,14:14,__browserify_Buffer:2,__browserify_process:1}],26:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("101"),d=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.name="Brightness",b.prototype.cssClass="brightness",b.prototype.valueSetMethod="setBrightness",b.prototype.displayButtons=!0,b}(c),b.exports=d},{101:71,__browserify_Buffer:2,__browserify_process:1}],28:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("101"),d=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.name="Contrast",b.prototype.cssClass="contrast",b.prototype.valueSetMethod="setContrast",b.prototype.displayButtons=!0,b}(c),b.exports=d},{101:71,__browserify_Buffer:2,__browserify_process:1}],30:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("101"),d=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.name="Saturation",b.prototype.cssClass="saturation",b.prototype.valueSetMethod="setSaturation",b.prototype.displayButtons=!0,b}(c),b.exports=d},{101:71,__browserify_Buffer:2,__browserify_process:1}],32:[function(a,b){var c,d,e,f,g=(a("__browserify_process"),a("__browserify_Buffer").Buffer,function(a,b){return function(){return a.apply(b,arguments)}}),h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("14"),f=a("15"),d=a("16"),e=function(b){function c(b,d,e){this.app=b,this.ui=d,this.controls=e,this.autoResizeTextInput=g(this.autoResizeTextInput,this),this.onFontsizeSmallerClick=g(this.onFontsizeSmallerClick,this),this.onFontsizeBiggerClick=g(this.onFontsizeBiggerClick,this),c.__super__.constructor.apply(this,arguments),this.initialized=!1,this.fontResizePerClick=3,this.operationClass=a("46"),this.listItems=[{name:"Helvetica",method:"setFont",cssClass:"helvetica",arguments:["Helvetica"],"default":!0},{name:"Lucida Grande",method:"setFont",cssClass:"lucida-grande",arguments:["Lucida Grande"]},{name:"Times New Roman",method:"setFont",cssClass:"times-new-roman",arguments:["Times New Roman"]}]}return i(c,b),c.prototype.displayButtons=!0,c.prototype.singleOperation=!0,c.prototype.hasCanvasControls=!0,c.prototype.cssClassIdentifier="text",c.prototype.createList=function(){return c.__super__.createList.apply(this,arguments),this.colorControl=$("<div>").addClass(imglyKit.classPrefix+"controls-text-color-button "+imglyKit.classPrefix+"controls-button-right").appendTo(this.wrapper),this.colorSelect=$("<div>").addClass(imglyKit.classPrefix+"controls-text-color").appendTo(this.colorControl),this.handleColorsControl(),this.buttons.color=this.colorControl},c.prototype.handleColorsControl=function(){var a,b,c,d,e,f,g=this;for(a=["#FFFFFF","#000000","#ec3713","#fcc00b","#0b6af9","#a9e90e"],c=$("<div>").addClass(imglyKit.classPrefix+"controls-text-color-dropdown").appendTo(this.colorControl),d=function(a){var b;return b=$("<div>").addClass(imglyKit.classPrefix+"controls-text-color").css({backgroundColor:a}).appendTo(c),b.click(function(){return g.operationOptions.color=a,g.operation.setOptions(g.operationOptions),g.colorSelect.css({backgroundColor:a})})},e=0,f=a.length;f>e;e++)b=a[e],d(b);return this.colorSelect.css({backgroundColor:a[0]}),this.colorControl.click(function(){return c.is(":visible")?c.stop().fadeOut("fast"):c.stop().fadeIn("fast")})},c.prototype.setupCanvasControls=function(a){var b,c,d,e,f=this;for(this.canvasControlsContainer=a,this.textContainer=$("<div>").addClass(imglyKit.classPrefix+"canvas-text-container").appendTo(this.canvasControlsContainer),this.fontsizeButtonsContainer=$("<div>").addClass(imglyKit.classPrefix+"canvas-text-size-container").appendTo(this.textContainer),e=["Smaller","Bigger"],c=0,d=e.length;d>c;c++)b=e[c],this["fontsize"+b+"Button"]=$("<div>").addClass(imglyKit.classPrefix+"canvas-text-size-"+b.toLowerCase()).appendTo(this.fontsizeButtonsContainer),this["fontsize"+b+"Button"].on("click",this["onFontsize"+b+"Click"]);return this.crosshair=$("<div>").addClass(imglyKit.classPrefix+"canvas-crosshair "+imglyKit.classPrefix+"canvas-text-crosshair").appendTo(this.textContainer),this.handleCrosshair(),this.textInput=$("<textarea>").addClass(imglyKit.classPrefix+"canvas-text-input").appendTo(this.textContainer).attr({placeholder:"Text"}).focus(),this.textInputDummy=$("<div>").addClass(imglyKit.classPrefix+"canvas-text-input-dummy").appendTo(this.canvasControlsContainer),this.textInput.keyup(function(){return f.operationOptions.text=f.textInput.val(),f.operation.setOptions(f.operationOptions),f.autoResizeTextInput()}),after(100,function(){return f.autoResizeTextInput()})},c.prototype.onFontsizeBiggerClick=function(){var a,b,c;return a=this.canvasControlsContainer.height(),c=this.fontResizePerClick/a,b=Math.min(this.operationOptions.fontSize+c,1),this.operationOptions.fontSize=b,this.operation.setOptions(this.operationOptions),this.updateCanvasControls()},c.prototype.onFontsizeSmallerClick=function(){var a,b,c;return a=this.canvasControlsContainer.height(),c=this.fontResizePerClick/a,b=Math.max(this.operationOptions.fontSize-c,.05),this.operationOptions.fontSize=b,this.operation.setOptions(this.operationOptions),this.updateCanvasControls()},c.prototype.updateCanvasControls=function(){var a,b;return b=this.canvasControlsContainer.width(),a=this.canvasControlsContainer.height(),this.textContainer.css({left:this.operationOptions.start.x*b,top:this.operationOptions.start.y*a}),this.autoResizeTextInput()},c.prototype.handleCrosshair=function(){var a,b,c,e,g,h=this;return a=new d(0,0,this.canvasControlsContainer.width(),this.canvasControlsContainer.height()),g=50,e=50,c=new f(0,0),b=new f(a.width-g,a.height-e),this.crosshair.mousedown(function(d){var e,g,i,j;return j=new f(d.clientX,d.clientY),g=(new f).copy(j),i=new f(h.textContainer.position().left,h.textContainer.position().top),e=(new f).copy(i),$(document).mousemove(function(d){var k;return g.set(d.clientX,d.clientY),k=(new f).copy(g).substract(j),e.copy(i).add(k).clamp(c,b),h.textContainer.css({left:e.x,top:e.y}),h.operationOptions.start=(new f).copy(e).divideByRect(a),h.operation.setOptions(h.operationOptions),h.updateCanvasControls()}),$(document).mouseup(function(){return $(document).off("mousemove"),$(document).off("mouseup")})})},c.prototype.autoResizeTextInput=function(){var a,b,c,d,e,f,g,h,i,j,k;return b=this.canvasControlsContainer.width(),a=this.canvasControlsContainer.height(),f=this.textInput.width(),e=parseInt(this.textInput.css("font-size")),c=3*e,d=2*e,i=parseInt(this.textInputDummy.css("padding-left"))+parseInt(this.textInputDummy.css("padding-right")),j=parseInt(this.textInputDummy.css("padding-top"))+parseInt(this.textInputDummy.css("padding-bottom")),this.operationOptions.paddingLeft=(parseInt(this.textInputDummy.css("padding-left"))+parseInt(this.textContainer.css("border-left-width")))/b,this.operationOptions.paddingTop=(parseInt(this.textInputDummy.css("padding-top"))+parseInt(this.textContainer.css("border-top-width")))/a,h=b-this.operationOptions.start.x*b,g=a-this.operationOptions.start.y*a,k=this.textInput.val(),k.match(/\n$/i)&&(k+="&nbsp;"),k=k.replace(/\n/g,"<br />"),k||(k="&nbsp;"),this.textInputDummy.css({width:"auto",height:"auto"}).html(k),this.textInputDummy.width()>=h&&(this.textInputDummy.css({width:h}),c=0),this.textInputDummy.height()>=g&&(this.textInputDummy.css({height:g}),d=0),this.textInput.css({width:Math.min(this.textInputDummy.width()+c,h),height:Math.min(this.textInputDummy.height()+d,g)})},c.prototype.updateOptions=function(a){var b;return this.operationOptions=a,b=this.canvasControlsContainer.height(),$([this.textInput.get(0),this.textInputDummy.get(0)]).css({fontSize:this.operationOptions.fontSize*b,color:this.operationOptions.color,fontFamily:this.operationOptions.font,lineHeight:this.operationOptions.lineHeight}),this.updateCanvasControls()},c}(c),b.exports=e},{16:16,15:15,46:33,14:14,__browserify_Buffer:2,__browserify_process:1}],34:[function(a,b){var c,d,e,f,g,h,i=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("14"),f=a("65"),g=a("15"),d=a("16"),e=function(b){function c(){return h=c.__super__.constructor.apply(this,arguments)}return j(c,b),c.prototype.displayButtons=!0,c.prototype.singleOperation=!0,c.prototype.init=function(){var b,c,d,e,g,h=this;for(this.createList(),this.operationClass=a("48"),c=[{id:"black",name:"Black",cssClass:"black",method:"setFrameOptions",arguments:["black",.1],"default":!0},{id:"blackwood",name:"Black Wood",cssClass:"black-wood",method:"setFrameOptions",arguments:["blackwood",.1]},{id:"dia",name:"Dia",cssClass:"dia",method:"setFrameOptions",arguments:["dia",.1]}],g=[],d=0,e=c.length;e>d;d++)b=c[d],g.push(function(a){var b,c;return b=$("<li>").addClass(imglyKit.classPrefix+"controls-item").appendTo(h.list),c=$("<div>").addClass(imglyKit.classPrefix+"controls-frame-preview-"+f.dasherize(a.id)).appendTo(b),b.click(function(){return h.handleOptionSelect(a,b)}),null!=a["default"]?b.click():void 0}(b));return g},c}(c),b.exports=e},{16:16,15:15,48:35,65:6,14:14,__browserify_Buffer:2,__browserify_process:1}],68:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("29"),e=a("25"),d=function(a){function b(a,c){var d,e,f;this.app=a,this.options=null!=c?c:{},b.__super__.constructor.apply(this,arguments),null==(d=this.options).rotation&&(d.rotation=0),null==(e=this.options).flipVertically&&(e.flipVertically=!1),null==(f=this.options).flipHorizontally&&(f.flipHorizontally=!1)}return g(b,a),b.prototype.flipVertically=function(){return this.options.flipVertically=!this.options.flipVertically},b.prototype.flipHorizontally=function(){return this.options.flipHorizontally=!this.options.flipHorizontally},b.prototype.rotateRight=function(){return this.options.rotation+=90,360===this.options.rotation&&(this.options.rotation=0),this.options.flipHorizontally!==this.options.flipVertically?(this.options.flipHorizontally=!this.options.flipHorizontally,this.options.flipVertically=!this.options.flipVertically):void 0},b.prototype.rotateLeft=function(){return this.options.rotation-=90,-360===this.options.rotation&&(this.options.rotation=0),this.options.flipHorizontally!==this.options.flipVertically?(this.options.flipHorizontally=!this.options.flipHorizontally,this.options.flipVertically=!this.options.flipVertically):void 0},b.prototype.apply=function(a){var b,c,d,f,g,h;return 90===Math.abs(this.options.rotation)||270===Math.abs(this.options.rotation)?(h=a.height,f=a.width):(h=a.width,f=a.height),b=e.newCanvasWithDimensions({width:h,height:f}),c=b.getContext("2d"),g=!1,d=!1,0!==this.options.rotation&&(a=this.rotateImageData(c,a),g=!0),(this.options.flipHorizontally||this.options.flipVertically)&&(a=this.flipImageData(c,a),d=!0),g||d?c.getImageData(0,0,h,f):a},b.prototype.flipImageData=function(a,b){var c,d,f,g,h;return a.save(),d=1,f=1,g=0,h=0,this.options.flipHorizontally&&(d=-1,g=a.canvas.width),this.options.flipVertically&&(f=-1,h=a.canvas.height),a.translate(g,h),a.scale(d,f),c=e.newCanvasFromImageData(b),a.drawImage(c,0,0),a.restore(),a.getImageData(0,0,a.canvas.width,a.canvas.height)},b.prototype.rotateImageData=function(a,b){var c;return a.save(),a.translate(a.canvas.width/2,a.canvas.height/2),a.rotate(this.options.rotation*(Math.PI/180)),c=e.newCanvasFromImageData(b),a.drawImage(c,-b.width/2,-b.height/2),a.restore(),a.getImageData(0,0,a.canvas.width,a.canvas.height)},b}(c),b.exports=d},{25:6,29:21,__browserify_Buffer:2,__browserify_process:1}],39:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("108"),c=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.preview="default.png",b.displayName="Default",b}(d),b.exports=c},{108:10,__browserify_Buffer:2,__browserify_process:1}],40:[function(a,b){var c,d,e,f,g,h=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("110"),f=a("111"),e=a("112"),d=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.preview="k1.png",b.displayName="K1",b.prototype.apply=new f(b.app,{rgbControlPoints:[[0,0],[53/255,32/255],[91/255,80/255],[176/255,205/255],[1,1]]}).compose(e,{saturation:.9}),b}(c),b.exports=d},{110:20,112:38,111:72,__browserify_Buffer:2,__browserify_process:1}],41:[function(a,b){var c,d,e,f,g,h=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("110"),f=a("111"),e=a("114"),d=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.preview="k2.png",b.displayName="K2",b.prototype.apply=new f(b.app,{rgbControlPoints:[[0,0],[54/255,33/255],[77/255,82/255],[94/255,103/255],[122/255,126/255],[177/255,193/255],[229/255,232/255],[1,1]]}).compose(e,{r:40,g:40,b:40}),b}(c),b.exports=d},{110:20,114:73,111:72,__browserify_Buffer:2,__browserify_process:1}],42:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a
}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("112"),c=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.preview="k6.png",b.displayName="K6",b.prototype.saturation=.5,b}(d),b.exports=c},{112:38,__browserify_Buffer:2,__browserify_process:1}],43:[function(a,b){var c,d,e,f,g,h=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("110"),f=a("111"),e=a("112"),d=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.preview="kdynamic.png",b.displayName="KDynamic",b.prototype.apply=new f(b.app,{rgbControlPoints:[[0,0],[17/255,27/255],[46/255,69/255],[90/255,112/255],[156/255,200/255],[203/255,243/255],[1,1]]}).compose(e,{saturation:.7}),b}(c),b.exports=d},{110:20,112:38,111:72,__browserify_Buffer:2,__browserify_process:1}],44:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("111"),c=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.preview="fridge.png",b.displayName="Fridge",b.prototype.redControlPoints=[[0,9/255],[21/255,11/255],[45/255,24/255],[1,220/255]],b.prototype.greenControlPoints=[[0,12/255],[21/255,21/255],[42/255,42/255],[150/255,150/255],[170/255,173/255],[1,210/255]],b.prototype.blueControlPoints=[[0,28/255],[43/255,72/255],[128/255,185/255],[1,220/255]],b}(d),b.exports=c},{111:72,__browserify_Buffer:2,__browserify_process:1}],45:[function(a,b){var c,d,e,f,g,h=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=a("110"),f=a("111"),d=a("119"),c=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.preview="breeze.png",b.displayName="Breeze",b.prototype.apply=new d(b.app,{desaturation:.5}).compose(f,{redControlPoints:[[0,0],[170/255,170/255],[212/255,219/255],[234/255,242/255],[1,1]],greenControlPoints:[[0,0],[170/255,168/255],[234/255,231/255],[1,1]],blueControlPoints:[[0,0],[170/255,170/255],[212/255,208/255],[1,1]]}),b}(e),b.exports=c},{110:20,119:74,111:72,__browserify_Buffer:2,__browserify_process:1}],46:[function(a,b){var c,d,e,f,g,h=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("110"),f=a("111"),c=a("119"),e=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.preview="orchid.png",b.displayName="Orchid",b.prototype.apply=new f(b.app,{redControlPoints:[[0,0],[115/255,130/255],[195/255,215/255],[1,1]],greenControlPoints:[[0,0],[148/255,.6],[172/255,215/255],[1,1]],blueControlPoints:[[0,46/255],[58/255,75/255],[178/255,205/255],[1,1]]}).compose(f,{rgbControlPoints:[[0,0],[117/255,151/255],[189/255,217/255],[1,1]]}).compose(c,{desaturation:.65}),b}(d),b.exports=e},{110:20,119:74,111:72,__browserify_Buffer:2,__browserify_process:1}],47:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("111"),c=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.preview="chest.png",b.displayName="Chest",b.prototype.redControlPoints=[[0,0],[44/255,44/255],[124/255,143/255],[221/255,.8],[1,1]],b.prototype.greenControlPoints=[[0,0],[130/255,127/255],[213/255,199/255],[1,1]],b.prototype.blueControlPoints=[[0,0],[.2,52/255],[219/255,.8],[1,1]],b}(d),b.exports=c},{111:72,__browserify_Buffer:2,__browserify_process:1}],48:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("111"),c=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.preview="front.png",b.displayName="Front",b.prototype.redControlPoints=[[0,65/255],[28/255,67/255],[67/255,113/255],[125/255,183/255],[187/255,217/255],[1,229/255]],b.prototype.greenControlPoints=[[0,52/255],[42/255,59/255],[104/255,134/255],[169/255,209/255],[1,240/255]],b.prototype.blueControlPoints=[[0,52/255],[65/255,68/255],[93/255,104/255],[150/255,.6],[1,198/255]],b}(d),b.exports=c},{111:72,__browserify_Buffer:2,__browserify_process:1}],49:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("111"),c=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.preview="fixie.png",b.displayName="Fixie",b.prototype.redControlPoints=[[0,0],[44/255,28/255],[63/255,48/255],[128/255,132/255],[235/255,248/255],[1,1]],b.prototype.greenControlPoints=[[0,0],[20/255,10/255],[60/255,45/255],[190/255,209/255],[211/255,231/255],[1,1]],b.prototype.blueControlPoints=[[0,31/255],[41/255,62/255],[150/255,142/255],[234/255,212/255],[1,224/255]],b}(d),b.exports=c},{111:72,__browserify_Buffer:2,__browserify_process:1}],50:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("125"),c=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.preview="x400.png",b.displayName="X400",b}(d),b.exports=c},{125:75,__browserify_Buffer:2,__browserify_process:1}],51:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("127"),c=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.preview="bw.png",b.displayName="B&W",b}(d),b.exports=c},{127:76,__browserify_Buffer:2,__browserify_process:1}],52:[function(a,b){var c,d,e,f,g,h=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=a("110"),f=a("127"),d=a("129"),c=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.preview="1920.png",b.displayName="1920",b.prototype.apply=(new f).compose(d,{contrast:.5}),b}(e),b.exports=c},{110:20,129:37,127:76,__browserify_Buffer:2,__browserify_process:1}],53:[function(a,b){var c,d,e,f,g,h=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("110"),f=a("111"),c=a("119"),e=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.preview="lenin.png",b.displayName="Lenin",b.prototype.apply=new c(b.app,{desaturation:.4}).compose(f,{redControlPoints:[[0,20/255],[40/255,20/255],[106/255,111/255],[129/255,.6],[190/255,223/255],[1,1]],greenControlPoints:[[0,20/255],[40/255,20/255],[62/255,41/255],[106/255,108/255],[132/255,159/255],[203/255,237/255],[1,1]],blueControlPoints:[[0,40/255],[40/255,40/255],[73/255,60/255],[133/255,160/255],[191/255,297/255],[203/255,237/255],[237/255,239/255],[1,1]]}),b}(d),b.exports=e},{110:20,119:74,111:72,__browserify_Buffer:2,__browserify_process:1}],54:[function(a,b){var c,d,e,f,g,h=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("110"),f=a("111"),c=a("119"),e=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.preview="breeze.png",b.displayName="Breeze",b.prototype.apply=new c(b.app,{desaturation:.65}).compose(f,{redControlPoints:[[0,50/255],[40/255,78/255],[118/255,170/255],[181/255,211/255],[1,1]],greenControlPoints:[[0,27/255],[28/255,45/255],[109/255,157/255],[157/255,195/255],[179/255,208/255],[206/255,212/255],[1,240/255]],blueControlPoints:[[0,50/255],[12/255,55/255],[46/255,103/255],[103/255,162/255],[194/255,182/255],[241/255,201/255],[1,219/255]]}),b}(d),b.exports=e},{110:20,119:74,111:72,__browserify_Buffer:2,__browserify_process:1}],55:[function(a,b){var c,d,e,f,g,h,i=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("110"),g=a("111"),c=a("129"),f=a("112"),e=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}return j(b,a),b.preview="pola669.png",b.displayName="Pola 669",b.prototype.apply=new g(b.app,{redControlPoints:[[0,0],[56/255,18/255],[196/255,209/255],[1,1]],greenControlPoints:[[0,38/255],[71/255,84/255],[1,1]],blueControlPoints:[[0,0],[131/255,133/255],[.8,211/255],[1,1]]}).compose(f,{saturation:-.2}).compose(c,{contrast:.5}),b}(d),b.exports=e},{110:20,129:37,112:38,111:72,__browserify_Buffer:2,__browserify_process:1}],56:[function(a,b){var c,d,e,f,g,h,i=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("110"),g=a("111"),c=a("129"),f=a("112"),e=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}return j(b,a),b.preview="pola.png",b.displayName="Pola",b.prototype.apply=new g(b.app,{redControlPoints:[[0,0],[94/255,74/255],[181/255,205/255],[1,1]],greenControlPoints:[[0,0],[34/255,34/255],[99/255,76/255],[176/255,190/255],[1,1]],blueControlPoints:[[0,0],[.4,73/255],[227/255,213/255],[1,1]]}).compose(f,{saturation:-.2}).compose(c,{contrast:.5}),b}(d),b.exports=e},{110:20,129:37,112:38,111:72,__browserify_Buffer:2,__browserify_process:1}],57:[function(a,b){var c,d,e,f,g,h=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("110"),f=a("112"),c=a("129"),e=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.preview="food.png",b.displayName="Food",b.prototype.apply=new f(b.app,{saturation:.35}).compose(c,{contrast:.1}),b}(d),b.exports=e},{110:20,129:37,112:38,__browserify_Buffer:2,__browserify_process:1}],58:[function(a,b){var c,d,e,f,g,h,i=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("110"),f=a("127"),c=a("129"),g=a("111"),e=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}return j(b,a),b.preview="glam.png",b.displayName="Glam",b.prototype.apply=(new f).compose(c,{contrast:.1}).compose(g,{redControlPoints:[[0,0],[94/255,74/255],[181/255,205/255],[1,1]],greenControlPoints:[[0,0],[.5,.5],[1,1]],blueControlPoints:[[0,0],[.4,73/255],[227/255,213/255],[1,1]]}),b}(d),b.exports=e},{110:20,129:37,127:76,111:72,__browserify_Buffer:2,__browserify_process:1}],59:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("111"),c=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.preview="celsius.png",b.displayName="Celsius",b.prototype.redControlPoints=[[0,69/255],[55/255,110/255],[202/255,230/255],[1,1]],b.prototype.greenControlPoints=[[0,44/255],[89/255,93/255],[185/255,141/255],[1,189/255]],b.prototype.blueControlPoints=[[0,76/255],[39/255,82/255],[218/255,138/255],[1,171/255]],b}(d),b.exports=c},{111:72,__browserify_Buffer:2,__browserify_process:1}],60:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("111"),c=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.preview="texas.png",b.displayName="Texas",b.prototype.redControlPoints=[[0,72/255],[89/255,99/255],[176/255,212/255],[1,237/255]],b.prototype.greenControlPoints=[[0,49/255],[1,192/255]],b.prototype.blueControlPoints=[[0,72/255],[1,151/255]],b}(d),b.exports=c},{111:72,__browserify_Buffer:2,__browserify_process:1}],61:[function(a,b){var c,d,e,f,g,h=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("110"),d=a("139"),f=a("111"),e=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.preview="morning.png",b.displayName="Morning",b.prototype.apply=new f(b.app,{redControlPoints:[[0,40/255],[1,230/255]],greenControlPoints:[[0,10/255],[1,225/255]],blueControlPoints:[[0,20/255],[1,181/255]]}).compose(d),b}(c),b.exports=e},{110:20,139:77,111:72,__browserify_Buffer:2,__browserify_process:1}],62:[function(a,b){var c,d,e,f,g=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("111"),e=[[0,0],[87/255,20/255],[131/255,156/255],[183/255,205/255],[1,183/208]],c=function(a){function b(){return f=b.__super__.constructor.apply(this,arguments)}return h(b,a),b.preview="lomo.png",b.displayName="Lomo",b.prototype.redControlPoints=e,b.prototype.greenControlPoints=e,b.prototype.blueControlPoints=e,b}(d),b.exports=c},{111:72,__browserify_Buffer:2,__browserify_process:1}],63:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("142"),d=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.preview="gobblin.png",b.displayName="Gobblin",b}(c),b.exports=d},{142:78,__browserify_Buffer:2,__browserify_process:1}],64:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("111"),c=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.preview="mellow.png",b.displayName="Mellow",b.prototype.redControlPoints=[[0,0],[41/255,84/255],[87/255,134/255],[1,1]],b.prototype.greenControlPoints=[[0,0],[1,216/255]],b.prototype.blueControlPoints=[[0,0],[1,131/255]],b}(d),b.exports=c},{111:72,__browserify_Buffer:2,__browserify_process:1}],65:[function(a,b){var c,d,e,f,g,h=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("110"),e=a("111"),f=[[0,0],[55/255,20/255],[158/255,191/255],[1,1]],d=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.preview="sunny.png",b.displayName="Sunny",b.prototype.apply=new e(b.app,{redControlPoints:[[0,0],[62/255,82/255],[141/255,154/255],[1,1]],greenControlPoints:[[0,39/255],[56/255,96/255],[192/255,176/255],[1,1]],blueControlPoints:[[0,0],[174/255,99/255],[1,235/255]]}).compose(e,{redControlPoints:f,greenControlPoints:f,blueControlPoints:f}),b}(c),b.exports=d},{110:20,111:72,__browserify_Buffer:2,__browserify_process:1}],66:[function(a,b){var c,d,e,f,g,h,i=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=a("110"),e=a("129"),d=a("146"),g=a("111"),c=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}return j(b,a),b.preview="15.png",b.displayName="15",b.prototype.apply=new e(b.app,{contrast:-.37}).compose(d,{brightness:.12}).compose(g,{redControlPoints:[[0,38/255],[94/255,94/255],[148/255,142/255],[175/255,187/255],[1,1]],greenControlPoints:[[0,0],[77/255,53/255],[171/255,190/255],[1,1]],blueControlPoints:[[0,10/255],[48/255,85/255],[174/255,228/255],[1,1]]}),b}(f),b.exports=c},{110:20,146:36,129:37,111:72,__browserify_Buffer:2,__browserify_process:1}],67:[function(a,b){var c,d,e,f,g,h=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("110"),d=a("139"),f=a("111"),e=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.preview="semired.png",b.displayName="SemiRed",b.prototype.apply=new f(b.app,{redControlPoints:[[0,129/255],[75/255,.6],[181/255,227/255],[1,1]],greenControlPoints:[[0,8/255],[111/255,85/255],[212/255,158/255],[1,226/255]],blueControlPoints:[[0,5/255],[75/255,22/255],[193/255,90/255],[1,229/255]]}).compose(d),b}(c),b.exports=e},{110:20,139:77,111:72,__browserify_Buffer:2,__browserify_process:1}],69:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("37"),e=a("15"),d=function(a){function b(a,c){var d,f,g;this.app=a,this.options=null!=c?c:{},b.__super__.constructor.apply(this,arguments),null==(d=this.options).radius&&(d.radius=5),null==(f=this.options).controlPoint1Position&&(f.controlPoint1Position=new e(.5,.4)),null==(g=this.options).controlPoint2Position&&(g.controlPoint2Position=new e(.5,.6))}return g(b,a),b.prototype.drawMask=function(a,b){var c,d,f,g,h,i,j;return d=(new e).copy(this.options.controlPoint1Position).multiplyWithRect(a),f=(new e).copy(this.options.controlPoint2Position).multiplyWithRect(a),h=(new e).copy(f).substract(d).divide(2),c=(new e).copy(d).add(h),i=Math.sqrt(Math.pow(h.x,2)+Math.pow(h.y,2)),j=3*i/2,g=b.createRadialGradient(c.x,c.y,j,c.x,c.y,i),g.addColorStop(0,"#000000"),g.addColorStop(1,"#FFFFFF"),b.fillStyle=g,b.fillRect(0,0,a.width,a.height)},b}(c),b.exports=d},{15:15,37:79,__browserify_Buffer:2,__browserify_process:1}],70:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("37"),e=a("15"),d=function(a){function b(a,c){var d,f,g;this.app=a,this.options=null!=c?c:{},b.__super__.constructor.apply(this,arguments),null==(d=this.options).radius&&(d.radius=5),null==(f=this.options).controlPoint1Position&&(f.controlPoint1Position=new e(.5,.4)),null==(g=this.options).controlPoint2Position&&(g.controlPoint2Position=new e(.5,.6))}return g(b,a),b.prototype.drawMask=function(a,b){var c,d,f,g,h,i;return c=(new e).copy(this.options.controlPoint1Position).multiplyWithRect(a),d=(new e).copy(this.options.controlPoint2Position).multiplyWithRect(a),h=(new e).copy(d).substract(c).divide(2),i=(new e).copy(c).substract(h),f=(new e).copy(d).add(h),g=b.createLinearGradient(i.x,i.y,f.x,f.y),g.addColorStop(0,"#000000"),g.addColorStop(.25,"#FFFFFF"),g.addColorStop(.75,"#FFFFFF"),g.addColorStop(1,"#000000"),b.fillStyle=g,b.fillRect(0,0,a.width,a.height)},b}(c),b.exports=d},{15:15,37:79,__browserify_Buffer:2,__browserify_process:1}],36:[function(a,b){var c,d,e=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("27"),d=function(a){function b(a){null==a&&(a={}),b.__super__.constructor.apply(this,arguments),this.setBrightness(a.brightness)}return f(b,a),b.prototype.apply=function(a){var b,c,d,e,f,g,h;for(d=a.width,b=a.height,e=g=0;d>=0?d>g:g>d;e=d>=0?++g:--g)for(f=h=0;b>=0?b>h:h>b;f=b>=0?++h:--h)c=4*(d*f+e),a.data[c]=Math.min(a.data[c]+255*this.brightness,255),a.data[c+1]=Math.min(a.data[c+1]+255*this.brightness,255),a.data[c+2]=Math.min(a.data[c+2]+255*this.brightness,255),a.data[c+3]=255;return a},b.prototype.setBrightness=function(a){return this.brightness="number"==typeof a?a:0},b}(c),b.exports=d},{27:20,__browserify_Buffer:2,__browserify_process:1}],37:[function(a,b){var c,d,e=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("27"),d=function(a){function b(a,c){this.app=a,null==c&&(c={}),b.__super__.constructor.apply(this,arguments),this.setContrast(c.contrast)}return f(b,a),b.prototype.apply=function(a){var b,c,d,e,f,g,h;for(d=a.width,b=a.height,e=g=0;d>=0?d>g:g>d;e=d>=0?++g:--g)for(f=h=0;b>=0?b>h:h>b;f=b>=0?++h:--h)c=4*(d*f+e),this.contrast>0?(a.data[c]=(a.data[c]-128)/(1-this.contrast)+128,a.data[c+1]=(a.data[c+1]-128)/(1-this.contrast)+128,a.data[c+2]=(a.data[c+2]-128)/(1-this.contrast)+128,a.data[c+3]=255):(a.data[c]=(a.data[c]-128)*(1+this.contrast)+128,a.data[c+1]=(a.data[c+1]-128)*(1+this.contrast)+128,a.data[c+2]=(a.data[c+2]-128)*(1+this.contrast)+128,a.data[c+3]=255);return a},b.prototype.setContrast=function(a){return this.contrast="number"==typeof a?a:1},b}(c),b.exports=d},{27:20,__browserify_Buffer:2,__browserify_process:1}],38:[function(a,b){var c,d,e=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("27"),d=function(a){function b(a,c){this.app=a,null==c&&(c={}),b.__super__.constructor.apply(this,arguments),null!=c.saturation&&this.setSaturation(c.saturation)}return f(b,a),b.prototype.setSaturation=function(a){return this.saturation="number"==typeof a?a+1:1},b.prototype.apply=function(a){var b,c,d,e,f,g,h,i;for(e=a.width,b=a.height,f=h=0;e>=0?e>h:h>e;f=e>=0?++h:--h)for(g=i=0;b>=0?b>i:i>b;g=b>=0?++i:--i)c=4*(e*g+f),d=.2125*a.data[c]+.7154*a.data[c+1]+.0721*a.data[c+2],a.data[c]=d*(1-this.saturation)+a.data[c]*this.saturation,a.data[c+1]=d*(1-this.saturation)+a.data[c+1]*this.saturation,a.data[c+2]=d*(1-this.saturation)+a.data[c+2]*this.saturation,a.data[c+3]=255;return a},b}(c),b.exports=d},{27:20,__browserify_Buffer:2,__browserify_process:1}],71:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,function(a,b){return function(){return a.apply(b,arguments)}}),g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("32"),d=function(a){function b(){return this.onMouseUp=f(this.onMouseUp,this),this.onMouseMove=f(this.onMouseMove,this),e=b.__super__.constructor.apply(this,arguments)}return h(b,a),b.prototype.init=function(){var a,b;return a=60,b=this.controls.getContainer().width(),b-=2*this.controls.getHeight(),b-=a,this.wrapper=$("<div>").addClass(imglyKit.classPrefix+"controls-wrapper").attr("data-control",this.constructor.name).appendTo(this.controls.getContainer()),this.sliderWrapper=$("<div>").addClass(imglyKit.classPrefix+"controls-slider-wrapper").width(b).appendTo(this.wrapper),this.sliderCenterDot=$("<div>").addClass(imglyKit.classPrefix+"controls-slider-dot").appendTo(this.sliderWrapper),this.sliderBar=$("<div>").addClass(imglyKit.classPrefix+"controls-slider-bar").appendTo(this.sliderWrapper),this.slider=$("<div>").addClass(imglyKit.classPrefix+"controls-slider").css({left:b/2}).appendTo(this.sliderWrapper),$("<div>").addClass(imglyKit.classPrefix+"controls-slider-plus").appendTo(this.sliderWrapper),$("<div>").addClass(imglyKit.classPrefix+"controls-slider-minus").appendTo(this.sliderWrapper),this.handleSliderControl(),this.createButtons()},b.prototype.handleSliderControl=function(){var a=this;return this.sliderWidth=this.sliderWrapper.width(),this.slider.mousedown(function(b){return a.lastX=b.clientX,a.currentSliderLeft=parseInt(a.slider.css("left")),$(document).mousemove(a.onMouseMove),$(document).mouseup(a.onMouseUp)})},b.prototype.setSliderLeft=function(a){var b,c;return this.slider.css({left:a}),a<this.sliderWidth/2?(b=this.sliderWidth/2-a,this.sliderBar.css({left:a,width:b})):(b=a-this.sliderWidth/2,this.sliderBar.css({left:this.sliderWidth/2,width:b})),c=(a-this.sliderWidth/2)/this.sliderWidth*2,this.operation[this.valueSetMethod].apply(this.operation,[c]),this.app.getPhotoProcessor().renderPreview()},b.prototype.onMouseMove=function(a){var b,c,d;return b=a.clientX,c=b-this.lastX,d=Math.min(Math.max(0,this.currentSliderLeft+c),this.sliderWidth),d<this.sliderWidth&&d>0&&(this.lastX=b,this.currentSliderLeft=d),this.setSliderLeft(d)},b.prototype.onMouseUp=function(){return $(document).off("mouseup",this.onMouseUp),$(document).off("mousemove",this.onMouseMove)},b}(c),b.exports=d},{32:22,__browserify_Buffer:2,__browserify_process:1}],72:[function(a,b){var c,d,e=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("27"),d=function(a){function b(a,c){var d;this.app=a,null==c&&(c={}),b.__super__.constructor.apply(this,arguments),this.rgbControlPoints||null!=c.rgbControlPoints?(d=this.rgbControlPoints||c.rgbControlPoints,null==this.redControlPoints&&(this.redControlPoints=d),null==this.greenControlPoints&&(this.greenControlPoints=d),null==this.blueControlPoints&&(this.blueControlPoints=d)):(null==this.redControlPoints&&(this.redControlPoints=c.redControlPoints),null==this.greenControlPoints&&(this.greenControlPoints=c.greenControlPoints),null==this.blueControlPoints&&(this.blueControlPoints=c.blueControlPoints)),this.redControlPoints&&this.greenControlPoints&&this.blueControlPoints&&this.updateToneCurveTexture()}return f(b,a),b.prototype.render=function(a,b,c){return a.putImageData(this.apply(a.getImageData(0,0,b,c)),0,0)},b.prototype.apply=function(a){var b,c,d,e,f,g,h;for(d=a.width,b=a.height,e=g=0;d>=0?d>g:g>d;e=d>=0?++g:--g)for(f=h=0;b>=0?b>h:h>b;f=b>=0?++h:--h)c=4*(d*f+e),a.data[c]=a.data[c]+this.preparedRed[a.data[c]],a.data[c+1]=a.data[c+1]+this.preparedGreen[a.data[c+1]],a.data[c+2]=a.data[c+2]+this.preparedBlue[a.data[c+2]],a.data[c+3]=255;return a},b.prototype.updateToneCurveTexture=function(){return this.preparedRed=this.getPreparedSplineCurve(this.redControlPoints),this.preparedBlue=this.getPreparedSplineCurve(this.blueControlPoints),this.preparedGreen=this.getPreparedSplineCurve(this.greenControlPoints)},b.prototype.getPreparedSplineCurve=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;for(j=a.sort(function(a,b){var c,d;return c=a[0],d=b[0],c>d}),b=[],l=0,o=a.length;o>l;l++)h=a[l],f=[255*h[0],255*h[1]],b.push(f);if(k=this.splineCurve(b),d=k[0],d[0]>0)for(e=m=0,p=d[0];p>=0?p>m:m>p;e=p>=0?++m:--m)k.unshift([0,0]);for(i=[],e=n=0,q=k.length;q>=0?q>n:n>q;e=q>=0?++n:--n)f=k[e],g=[f[0],f[0]],c=Math.sqrt(Math.pow(g[0]-f[0],2)+Math.pow(g[1]-f[1],2)),g[1]>f[1]&&(c=-c),i.push(c);return i},b.prototype.splineCurve=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;for(k=this.secondDerivative(a),g=k.length,j=[],f=o=0;g>=0?g>o:o>g;f=g>=0?++o:--o)j[f]=k[f];for(i=[],f=p=0,r=g-1;r>=0?r>p:p>r;f=r>=0?++p:--p)for(d=a[f],h=a[f+1],m=q=s=d[0],t=h[0];t>=s?t>q:q>t;m=t>=s?++q:--q)l=(m-d[0])/(h[0]-d[0]),b=1-l,c=l,e=h[0]-d[0],n=b*d[1]+c*h[1]+e*e/6*((b*b*b-b)*j[f]+(c*c*c-c)*j[f+1]),n>255?n=255:0>n&&(n=0),i.push([m,n]);return 255===i.length&&i.push(a.pop()),i},b.prototype.secondDerivative=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;if(h=a.length,0>=h||1===h)return null;for(g=[],i=[],g[0]=[0,1,0],e=k=1,o=h-1;o>=1?o>k:k>o;e=o>=1?++k:--k)b=a[e-1],c=a[e],d=a[e+1],null==g[e]&&(g[e]=[]),g[e][0]=(c[0]-b[0])/6,g[e][1]=(d[0]-b[0])/3,g[e][2]=(d[0]-c[0])/6,i[e]=(d[1]-c[1])/(d[0]-c[0])-(c[1]-b[1])/(c[0]-b[0]);for(i[0]=0,i[h-1]=0,g[h-1]=[0,1,0],e=l=1;h>=1?h>l:l>h;e=h>=1?++l:--l)f=g[1][0]/g[e-1][1],g[e][1]-=f*g[e-1][2],g[e][0]=0,i[e]-=f*i[e-1];for(e=m=p=h-2;0>=p?0>m:m>0;e=0>=p?++m:--m)f=g[e][2]/g[e+1][1],g[e][1]-=f*g[e+1][0],g[e][2]=0,i[e]-=f*i[e+1];for(j=[],e=n=0;h>=0?h>n:n>h;e=h>=0?++n:--n)j[e]=i[e]/g[e][1];return j},b.prototype.setRedControlPoints=function(a){return this.redControlPoints=a},b.prototype.setGreenControlPoints=function(a){return this.greenControlPoints=a},b.prototype.setBlueControlPoints=function(a){return this.blueControlPoints=a},b}(c),b.exports=d},{27:20,__browserify_Buffer:2,__browserify_process:1}],79:[function(a,b){var c,d,e,f,g,h,i=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=function(){function a(){}return a.r=0,a.g=0,a.b=0,a.a=0,a.next=null,a}(),g=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],h=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24],e=a("52"),f=a("65"),d=function(a){function b(a,c){var d;
this.app=a,this.options=null!=c?c:{},b.__super__.constructor.apply(this,arguments),null==(d=this.options).radius&&(d.radius=1)}return j(b,a),b.prototype.cache=null,b.prototype.fingerprint=null,b.prototype.apply=function(a){var b,c,d,e,g,h;for(c=f.fingerprint(a.data),c!==this.fingerprint&&(this.cache=this.blur(f.cloneImageData(a)),this.fingerprint=c),e=this.createMaskImageData(a),d=g=0,h=a.data.length;h>g;d=g+=4)b=e.data[d]/255,a.data[d]=b*a.data[d]+(1-b)*this.cache.data[d],a.data[d+1]=b*a.data[d+1]+(1-b)*this.cache.data[d+1],a.data[d+2]=b*a.data[d+2]+(1-b)*this.cache.data[d+2],a.data[d+3]=255;return a},b.prototype.createMaskImageData=function(a){var b,c;return b=f.newCanvasWithDimensions({width:a.width,height:a.height}),c=b.getContext("2d"),this.drawMask(b,c),c.getImageData(0,0,b.width,b.height)},b.prototype.blur=function(a){var b,d,e,f,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X;for(x=this.options.radius,I=a.width,l=a.height,s=a.data,f=x+x+1,H=I<<2,J=I-1,m=l-1,y=x+1,G=y*(y+1)/2,F=new c,B=F,n=P=1;f>=1?f>P:P>f;n=f>=1?++P:--P)B=B.next=new c,n===y&&(C=B);for(B.next=F,D=null,E=null,O=M=0,o=g[x],A=h[x],L=Q=0;l>=0?l>Q:Q>l;L=l>=0?++Q:--Q){for(u=i=b=w=k=e=0,v=y*(t=s[M]),j=y*(r=s[M+1]),d=y*(q=s[M+2]),w+=G*t,k+=G*r,e+=G*q,B=F,n=R=0;y>=0?y>R:R>y;n=y>=0?++R:--R)B.r=t,B.g=r,B.b=q,B=B.next;for(n=S=1;y>=1?y>S:S>y;n=y>=1?++S:--S)p=M+((n>J?J:n)<<2),w+=(B.r=t=s[p])*(z=y-n),k+=(B.g=r=s[p+1])*z,e+=(B.b=q=s[p+2])*z,u+=t,i+=r,b+=q,B=B.next;for(D=F,E=C,K=T=0;I>=0?I>T:T>I;K=I>=0?++T:--T)s[M]=w*o>>A,s[M+1]=k*o>>A,s[M+2]=e*o>>A,w-=v,k-=j,e-=d,v-=D.r,j-=D.g,d-=D.b,p=O+((p=K+x+1)<J?p:J)<<2,u+=D.r=s[p],i+=D.g=s[p+1],b+=D.b=s[p+2],w+=u,k+=i,e+=b,D=D.next,v+=t=E.r,j+=r=E.g,d+=q=E.b,u-=t,i-=r,b-=q,E=E.next,M+=4;O+=I}for(K=U=0;I>=0?I>U:U>I;K=I>=0?++U:--U){for(i=b=u=k=e=w=0,M=K<<2,v=y*(t=s[M]),j=y*(r=s[M+1]),d=y*(q=s[M+2]),w+=G*t,k+=G*r,e+=G*q,B=F,n=V=0;y>=0?y>V:V>y;n=y>=0?++V:--V)B.r=t,B.g=r,B.b=q,B=B.next;for(N=I,n=W=1;x>=1?x>=W:W>=x;n=x>=1?++W:--W)M=N+K<<2,w+=(B.r=t=s[M])*(z=y-n),k+=(B.g=r=s[M+1])*z,e+=(B.b=q=s[M+2])*z,u+=t,i+=r,b+=q,B=B.next,m>n&&(N+=I);for(M=K,D=F,E=C,L=X=0;l>=0?l>X:X>l;L=l>=0?++X:--X)p=M<<2,s[p]=w*o>>A,s[p+1]=k*o>>A,s[p+2]=e*o>>A,w-=v,k-=j,e-=d,v-=D.r,j-=D.g,d-=D.b,p=K+((p=L+y)<m?p:m)*I<<2,w+=u+=D.r=s[p],k+=i+=D.g=s[p+1],e+=b+=D.b=s[p+2],D=D.next,v+=t=E.r,j+=r=E.g,d+=q=E.b,u-=t,i-=r,b-=q,E=E.next,M+=I}return a},b}(e),b.exports=d},{65:6,52:21,__browserify_Buffer:2,__browserify_process:1}],73:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("27"),d=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.apply=function(a){var b,c,d,e,f,g,h;for(d=a.width,b=a.height,e=g=0;d>=0?d>g:g>d;e=d>=0?++g:--g)for(f=h=0;b>=0?b>h:h>b;f=b>=0?++h:--h)c=4*(d*f+e),a.data[c]=Math.max(this.options.r,a.data[c]),a.data[c+1]=Math.max(this.options.g,a.data[c+1]),a.data[c+2]=Math.max(this.options.b,a.data[c+2]),a.data[c+3]=255;return a},b}(c),b.exports=d},{27:20,__browserify_Buffer:2,__browserify_process:1}],74:[function(a,b){var c,d,e=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("27"),d=function(a){function b(a,c){this.app=a,null==c&&(c={}),b.__super__.constructor.apply(this,arguments),null==this.desaturation&&(this.desaturation=null!=c?c.desaturation:void 0)}return f(b,a),b.prototype.apply=function(a){var b,c,d,e,f,g,h,i;for(e=a.width,b=a.height,f=h=0;e>=0?e>h:h>e;f=e>=0?++h:--h)for(g=i=0;b>=0?b>i:i>b;g=b>=0?++i:--i)c=4*(e*g+f),d=.3*a.data[c]+.59*a.data[c+1]+.11*a.data[c+2],a.data[c]=d*(1-this.desaturation)+a.data[c]*this.desaturation,a.data[c+1]=d*(1-this.desaturation)+a.data[c+1]*this.desaturation,a.data[c+2]=d*(1-this.desaturation)+a.data[c+2]*this.desaturation,a.data[c+3]=255;return a},b}(c),b.exports=d},{27:20,__browserify_Buffer:2,__browserify_process:1}],75:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("27"),d=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.apply=function(a){var b,c,d,e,f,g,h,i;for(e=a.width,c=a.height,f=h=0;e>=0?e>h:h>e;f=e>=0?++h:--h)for(g=i=0;c>=0?c>i:i>c;g=c>=0?++i:--i)d=4*(e*g+f),b=a.data[d]/255*.3+a.data[d+1]/255*.3+a.data[d+2]/255*.3,b-=.2,b=Math.max(0,Math.min(1,b)),b+=.15,b*=1.4,b*=255,a.data[d]=b,a.data[d+1]=b,a.data[d+2]=b,a.data[d+3]=255;return a},b}(c),b.exports=d},{27:20,__browserify_Buffer:2,__browserify_process:1}],76:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("27"),d=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.apply=function(a){var b,c,d,e,f,g,h,i;for(e=a.width,b=a.height,f=h=0;e>=0?e>h:h>e;f=e>=0?++h:--h)for(g=i=0;b>=0?b>i:i>b;g=b>=0?++i:--i)c=4*(e*g+f),d=.2125*a.data[c]+.7154*a.data[c+1]+.0721*a.data[c+2],a.data[c]=d,a.data[c+1]=d,a.data[c+2]=d,a.data[c+3]=255;return a},b}(c),b.exports=d},{27:20,__browserify_Buffer:2,__browserify_process:1}],77:[function(a,b){var c,d,e=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("27"),d=function(a){function b(a){null==a&&(a={}),b.__super__.constructor.apply(this,arguments),this.setColorToAdd(a.r,a.g,a.b)}return f(b,a),b.prototype.apply=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;for(i=a.width,c=a.height,j=n=0;i>=0?i>n:n>i;j=i>=0?++n:--n)for(l=o=0;c>=0?c>o:o>c;l=c>=0?++o:--o)d=4*(i*l+j),k=j/i,m=l/c,e=(k-.5)/.75,f=(m-.5)/.75,g=e*e,h=f*f,b=1-(g+h),b=Math.min(Math.max(b,.1),1),a.data[d]=a.data[d]*b*this.colorToAdd[0],a.data[d+1]=a.data[d+1]*b*this.colorToAdd[1],a.data[d+2]=a.data[d+2]*b*this.colorToAdd[2],a.data[d+3]=255;return a},b.prototype.setColorToAdd=function(a,b,c){return this.colorToAdd=["number"==typeof a?a:1,"number"==typeof b?b:1,"number"==typeof c?c:1]},b}(c),b.exports=d},{27:20,__browserify_Buffer:2,__browserify_process:1}],78:[function(a,b){var c,d,e,f=(a("__browserify_process"),a("__browserify_Buffer").Buffer,{}.hasOwnProperty),g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("27"),d=function(a){function b(){return e=b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.apply=function(a){var b,c,d,e,f,g,h;for(d=a.width,b=a.height,e=g=0;d>=0?d>g:g>d;e=d>=0?++g:--g)for(f=h=0;b>=0?b>h:h>b;f=b>=0?++h:--h)c=4*(d*f+e),a.data[c+2]=.33*a.data[c+1],a.data[c]=.6*a.data[c],a.data[c+2]+=.33*a.data[c],a.data[c+1]=.7*a.data[c+1],a.data[c+3]=255;return a},b}(c),b.exports=d},{27:20,__browserify_Buffer:2,__browserify_process:1}]},{},[3]);